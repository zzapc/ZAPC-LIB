<?xml version="1.0" encoding="utf-8"?>
<CLAS CLSNAME="ZCL_AP_EDITOR_TEXTO" VERSION="1" LANGU="S" DESCRIPT="Control editor de texto" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk">
 <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
 <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
 <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
 <typeUsage CLSNAME="ZCL_AP_EDITOR_TEXTO" TYPEGROUP="ABAP" VERSION="1" TPUTYPE="0" IMPLICIT="X"/>
 <forwardDeclaration>ABAP</forwardDeclaration>
 <attribute CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="COLUMNAS" VERSION="1" LANGU="S" DESCRIPT="Nº de columnas" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="I" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="CONTROLNAME" VERSION="1" LANGU="S" DESCRIPT="Control" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="SCRFNAME" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="DISPLAY_MODE" VERSION="1" LANGU="S" DESCRIPT="Modo visualización" EXPOSURE="0" STATE="1" EDITORDER="6 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="C" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="EDITOR_CREADO" VERSION="1" LANGU="S" DESCRIPT="Se ha creado el control" EXPOSURE="0" STATE="1" EDITORDER="7 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="ABAP_BOOL" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="I_TEXTO" VERSION="1" LANGU="S" DESCRIPT="Líneas texto explicativo" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="RMXTTY_OTPT_TRSI_LTX_LINES" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="LINEA" VERSION="1" LANGU="S" DESCRIPT="Líneas texto explicativo" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="RMXTS_OTPT_TRSI_LTX_LINES" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="REPID" VERSION="1" LANGU="S" DESCRIPT="Programa control" EXPOSURE="0" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTVALUE="SY-REPID" ATTEXPVIRT="0" TYPTYPE="1" TYPE="SY-REPID" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <method CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="S" DESCRIPT="CONSTRUCTOR" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="CONSTRUCTOR" SCONAME="I_TEXTO" VERSION="1" LANGU="S" DESCRIPT="Líneas texto explicativo" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="RMXTTY_OTPT_TRSI_LTX_LINES" PAROPTIONL="X"/>
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="CONSTRUCTOR" SCONAME="COLUMNAS" VERSION="1" LANGU="S" DESCRIPT="Nº de columnas" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PARVALUE="72"/>
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="CONSTRUCTOR" SCONAME="REPID" VERSION="1" LANGU="S" DESCRIPT="Programa ABAP, programa de control actual" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SY-REPID" PARVALUE="SY-REPID"/>
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="CONSTRUCTOR" SCONAME="DISPLAY_MODE" VERSION="1" LANGU="S" DESCRIPT="Modo visualzación" CMPTYPE="1" MTDTYPE="2" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="C" PARVALUE="&apos;&apos;"/>
  <source>method CONSTRUCTOR.

  me-&gt;i_texto = i_texto.
  me-&gt;columnas = columnas.
  me-&gt;repid = repid.
  me-&gt;display_mode = display_mode.

  clear EDITOR_CREADO.

endmethod.</source>
 </method>
 <method CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="FREE_EDITOR" VERSION="1" LANGU="S" DESCRIPT="Borra el control del editor" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
  <source>method FREE_EDITOR.

  CALL FUNCTION &apos;RH_EDITOR_DESTROY&apos;
    EXPORTING
      controlname = controlname.

endmethod.</source>
 </method>
 <method CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="GET_STRING" VERSION="1" LANGU="S" DESCRIPT="Devuelve la tabla con el texto" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="GET_STRING" SCONAME="STRING" VERSION="1" LANGU="S" DESCRIPT="Líneas texto explicativo" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
  <source>method GET_STRING.

  i_texto = get_texto( ).
  string = zcl_ap_string=&gt;tabla2string( i_texto ).

endmethod.</source>
 </method>
 <method CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="GET_TEXTO" VERSION="1" LANGU="S" DESCRIPT="Devuelve la tabla con el texto" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="GET_TEXTO" SCONAME="I_TEXTO" VERSION="1" LANGU="S" DESCRIPT="Líneas texto explicativo" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="RMXTTY_OTPT_TRSI_LTX_LINES"/>
  <source>method GET_TEXTO.

  CALL FUNCTION &apos;RH_EDITOR_GET&apos;
    EXPORTING
      controlname    = controlname
    TABLES
      lines          = i_texto
    EXCEPTIONS
      internal_error = 1
      OTHERS         = 2.

endmethod.</source>
 </method>
 <method CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="SET_EDITOR" VERSION="1" LANGU="S" DESCRIPT="Crea el editor" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="SET_EDITOR" SCONAME="CONTROL" VERSION="1" LANGU="S" DESCRIPT="Nombre de un elemento de dynpro" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="SCRFNAME" PARPREFERD="X"/>
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="SET_EDITOR" SCONAME="DYNNR" VERSION="1" LANGU="S" DESCRIPT="Nº de dynpro" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="DYNNR" PARVALUE="SY-DYNNR"/>
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="SET_EDITOR" SCONAME="REFRESCAR" VERSION="1" LANGU="S" DESCRIPT="refrescar contenido" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ABAP_BOOL" PARVALUE="&apos;&apos;"/>
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="SET_EDITOR" SCONAME="P_DISPLAY_MODE" VERSION="1" LANGU="S" DESCRIPT="Modo visualización" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="C" PAROPTIONL="X"/>
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="SET_EDITOR" SCONAME="SHOW_TOOL" VERSION="1" LANGU="S" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ABAP_BOOL" PARVALUE="&apos;&apos;"/>
  <source>method SET_EDITOR.

  IF p_display_mode IS SUPPLIED.
    display_mode = p_display_mode.
  ENDIF.
  IF editor_creado IS INITIAL OR refrescar = &apos;X&apos; OR
     p_display_mode IS SUPPLIED.
    editor_creado = &apos;X&apos;.
    me-&gt;controlname = control.
    CALL FUNCTION &apos;RH_EDITOR_SET&apos;
      EXPORTING
        repid          = repid
        dynnr          = dynnr
        controlname    = control
        max_cols       = columnas
        show_tool      = show_tool
        show_status    = &apos; &apos;
        display_mode   = display_mode
      TABLES
        lines          = i_texto
      EXCEPTIONS
        create_error   = 1
        internal_error = 2
        OTHERS         = 3.
  ENDIF.
endmethod.</source>
 </method>
 <method CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="SET_TEXTO" VERSION="1" LANGU="S" DESCRIPT="Fija el texto del editor" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="SET_TEXTO" SCONAME="I_TEXTO" VERSION="1" LANGU="S" DESCRIPT="Textos explicativos" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="RMXTTY_OTPT_TRSI_LTX_LINES" PAROPTIONL="X"/>
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="SET_TEXTO" SCONAME="STRING" VERSION="1" LANGU="S" DESCRIPT="String con el texto" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
  <parameter CLSNAME="ZCL_AP_EDITOR_TEXTO" CMPNAME="SET_TEXTO" SCONAME="FORZAR_ENTER" VERSION="1" LANGU="S" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ABAP_BOOL" PARVALUE="&apos;&apos;"/>
  <source>METHOD set_texto.

  CLEAR me-&gt;i_texto.
  IF NOT i_texto IS INITIAL.
    me-&gt;i_texto = i_texto.
  ELSEIF NOT string IS INITIAL.
    zcl_ap_string=&gt;string2tabla( EXPORTING string   = string
                                           longitud = columnas
                                           forzar_enter = forzar_enter
                                 CHANGING  tabla    = me-&gt;i_texto ).
  ENDIF.

ENDMETHOD.</source>
 </method>
</CLAS>
