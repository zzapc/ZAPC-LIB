<?xml version="1.0" encoding="utf-8"?>
<CLAS CLSNAME="ZCL_AP_SOLICITUD_MM" VERSION="1" LANGU="S" DESCRIPT="Pedido MM" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 " ZSAPLINK_PLUGIN_MAJOR_VERSION="0 " ZSAPLINK_PLUGIN_MINOR_VERSION="1 " ZSAPLINK_PLUGIN_BUILD_VERSION="0 " ZSAPLINK_PLUGIN_INFO1="ZSAPLINK_CLASS is part of the main ZSAPLINK project --&gt; This plugin found there instead of ZSAPLINK_PLUGINS projects" ZSAPLINK_PLUGIN_INFO2="SAPLINK homepage: https://www.assembla.com/spaces/saplink/wiki" ZSAPLINK_PLUGIN_INFO3="Download from https://www.assembla.com/code/saplink/subversion/nodes" ZSAPLINK_PLUGIN_INFO4="and navigate to:  trunk -&gt; core -&gt; ZSAPLINK -&gt; CLAS -&gt; ZSAPLINK_CLASS.slnk">
 <localImplementation>*&quot;* local class implementation for public class*&quot;* use this source file for the implementation part of*&quot;* local helper classes</localImplementation>
 <localTypes>*&quot;* use this source file for any type declarations (class*&quot;* definitions, interfaces or data types) you need for method*&quot;* implementation or private method&apos;s signature</localTypes>
 <localMacros>*&quot;* use this source file for any macro definitions you need*&quot;* in the implementation part of the class</localMacros>
 <typeUsage CLSNAME="ZCL_AP_SOLICITUD_MM" TYPEGROUP="ABAP" VERSION="1" TPUTYPE="0" IMPLICIT="X"/>
 <forwardDeclaration>ABAP</forwardDeclaration>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="C_HIST_ENTREGA" VERSION="1" LANGU="S" DESCRIPT="Entregas" EXPOSURE="2" STATE="1" EDITORDER="12 " ATTDECLTYP="2" ATTVALUE="&apos;E&apos;" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BEWTP" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="C_HIST_FACTURA" VERSION="1" LANGU="S" DESCRIPT="Factura" EXPOSURE="2" STATE="1" EDITORDER="11 " ATTDECLTYP="2" ATTVALUE="&apos;Q&apos;" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BEWTP" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="C_HIST_SALIDAS" VERSION="1" LANGU="S" DESCRIPT="Factura" EXPOSURE="2" STATE="1" EDITORDER="14 " ATTDECLTYP="2" ATTVALUE="&apos;U&apos;" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BEWTP" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="C_OBJECTCLAS" VERSION="1" LANGU="S" DESCRIPT="Clase de objeto" EXPOSURE="2" STATE="1" EDITORDER="1 " ATTDECLTYP="2" ATTVALUE="&apos;EINKBELEG&apos;" ATTEXPVIRT="0" TYPTYPE="1" TYPE="CDHDR-OBJECTCLAS" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="C_OBJETO" VERSION="1" LANGU="S" DESCRIPT="Tipo de objeto" EXPOSURE="2" STATE="1" EDITORDER="13 " ATTDECLTYP="2" ATTVALUE="&apos;BUS2105&apos;" ATTEXPVIRT="0" TYPTYPE="1" TYPE="SRGBTBREL-TYPEID_A" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="I_ERRORES" VERSION="1" LANGU="S" DESCRIPT="Tabla de salida p.mensajes" EXPOSURE="0" STATE="1" EDITORDER="10 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="WTY_RETURN_TAB" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="I_POHEADER" VERSION="1" LANGU="S" DESCRIPT="Datos de cabecera pedido" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="WRF_POHF_BAPIMEPOHEADER_TTY" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="I_POHEADERX" VERSION="1" LANGU="S" DESCRIPT="Datos de cabecera pedido (barra de modificación)" EXPOSURE="0" STATE="1" EDITORDER="6 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="WRF_POHF_BAPIMEPOHEADERX_TTY" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="I_POITEM" VERSION="1" LANGU="S" DESCRIPT="Posición de pedido" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="WRF_POHF_BAPIMEPOITEM_TTY" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="I_POITEMX" VERSION="1" LANGU="S" DESCRIPT="Datos de posición pedido (barra de modificación)" EXPOSURE="0" STATE="1" EDITORDER="8 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="WRF_POHF_BAPIMEPOITEMX_TTY" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="POHEADER" VERSION="1" LANGU="S" DESCRIPT="Datos de cabecera pedido" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BAPIMEPOHEADER" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="POHEADERX" VERSION="1" LANGU="S" DESCRIPT="Datos de cabecera pedido (barra de modificación)" EXPOSURE="0" STATE="1" EDITORDER="7 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BAPIMEPOHEADERX" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="POITEM" VERSION="1" LANGU="S" DESCRIPT="Posición de pedido" EXPOSURE="0" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BAPIMEPOITEM" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <attribute CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="POITEMX" VERSION="1" LANGU="S" DESCRIPT="Posición de pedido" EXPOSURE="0" STATE="1" EDITORDER="9 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="BAPIMEPOITEMX" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
 <method CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="ATTA_GOS_ST" VERSION="1" LANGU="S" DESCRIPT="Devuelve lista de URLs de GOS" EXPOSURE="2" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="ATTA_GOS_ST" SCONAME="EBELN" VERSION="1" LANGU="S" DESCRIPT="Número del documento de compras" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="EBELN"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="ATTA_GOS_ST" SCONAME="TABLA" VERSION="1" LANGU="S" DESCRIPT="URL GOS" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZTAB_URL_GOS"/>
  <source>method ATTA_GOS_ST.

 data l_clave type srgbtbrel-instid_a.

 l_clave = ebeln.
 tabla = zcl_ap_gos=&gt;atta_gos_st( tipo = c_objeto clave = l_clave ).

endmethod.</source>
 </method>
 <method CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="BORRAR_SOLICITUD" VERSION="1" LANGU="S" DESCRIPT="Borra solicitud de pedido" EXPOSURE="2" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="BORRAR_SOLICITUD" SCONAME="BANFN" VERSION="1" LANGU="S" DESCRIPT="Número de la solicitud de pedido" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BANFN"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="BORRAR_SOLICITUD" SCONAME="BNFPO" VERSION="1" LANGU="S" DESCRIPT="Número de posición de la solicitud de pedido" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BNFPO" PAROPTIONL="X"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="BORRAR_SOLICITUD" SCONAME="DELETE_IND" VERSION="1" LANGU="S" DESCRIPT="Indicador de borrado en el documento de compras" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ELOEK" PARVALUE="&apos;X&apos;"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="BORRAR_SOLICITUD" SCONAME="CLOSED" VERSION="1" LANGU="S" DESCRIPT="Solicitud de pedido concluída" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="EBAKZ" PARVALUE="&apos;&apos;"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="BORRAR_SOLICITUD" SCONAME="COMMIT" VERSION="1" LANGU="S" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ABAP_BOOL" PARVALUE="&apos;X&apos;"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="BORRAR_SOLICITUD" SCONAME="MESSAGE" VERSION="1" LANGU="S" DESCRIPT="Texto de mensaje" CMPTYPE="1" MTDTYPE="0" EDITORDER="6 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="BAPI_MSG"/>
  <source>METHOD borrar_solicitud.
  DATA: i_items  TYPE TABLE OF bapieband,
        i_return TYPE TABLE OF bapireturn,
        l_item   TYPE bapieband,
        l_return TYPE bapireturn.

  CLEAR l_item.
  l_item-delete_ind = delete_ind.
  l_item-closed     = closed.
  IF bnfpo IS INITIAL.
    SELECT bnfpo FROM eban
      INTO l_item-preq_item
     WHERE banfn = banfn.
      APPEND l_item TO i_items.
    ENDSELECT.
  ELSE.
    l_item-preq_item = bnfpo.
    APPEND l_item TO i_items.
  ENDIF.

  CALL FUNCTION &apos;BAPI_REQUISITION_DELETE&apos;
    EXPORTING
      number                      = banfn
    TABLES
      requisition_items_to_delete = i_items
      return                      = i_return.

  READ TABLE i_return INTO l_return WITH KEY type = &apos;E&apos;. &quot;#EC CI_STDSEQ
  IF sy-subrc = 0.
    message = l_return-message.
  ELSE.
    IF commit = &apos;X&apos;.
      zcl_ap_dev=&gt;commit( ).
    ENDIF.
  ENDIF.

ENDMETHOD.</source>
 </method>
 <method CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="GET_TEXTO" VERSION="1" LANGU="S" DESCRIPT="Recupera texto pedido" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="GET_TEXTO" SCONAME="BANFN" VERSION="1" LANGU="S" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BANFN"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="GET_TEXTO" SCONAME="BNFPO" VERSION="1" LANGU="S" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BNFPO"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="GET_TEXTO" SCONAME="ID" VERSION="1" LANGU="S" DESCRIPT="ID de texto" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STXH-TDID"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="GET_TEXTO" SCONAME="SPRAS" VERSION="1" LANGU="S" DESCRIPT="Clave de idioma" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STXH-TDSPRAS" PAROPTIONL="X"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="GET_TEXTO" SCONAME="LINEAS" VERSION="1" LANGU="S" DESCRIPT="Tipo tabla tline" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="OIJ_TLINE"/>
  <source>method GET_TEXTO.
  DATA l_name TYPE stxh-tdname.

  CONCATENATE banfn bnfpo INTO l_name.
  lineas = zcl_ap_textos=&gt;get_texto( id     = id
                                  name   = l_name
                                  spras  = spras
                                  object = &apos;EBAN&apos; ).

endmethod.</source>
 </method>
 <method CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="GET_URL_POR_TITULO_ST" VERSION="1" LANGU="S" DESCRIPT="Devuelve URL por tipo adjunto" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="GET_URL_POR_TITULO_ST" SCONAME="EBELN" VERSION="1" LANGU="S" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="EKKO-EBELN"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="GET_URL_POR_TITULO_ST" SCONAME="TITULO" VERSION="1" LANGU="S" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="GET_URL_POR_TITULO_ST" SCONAME="URL" VERSION="1" LANGU="S" DESCRIPT="Documentos URL GOS" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
  <source>method GET_URL_POR_TITULO_ST.
 DATA: l_clave TYPE srgbtbrel-instid_a.

 l_clave = ebeln.
 url = zcl_ap_gos=&gt;get_url_por_titulo_st( tipo   = &apos;BUS2012&apos;
                                       clave  = l_clave
                                       titulo = titulo ).

endmethod.</source>
 </method>
 <method CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="INSERTAR_URL_GOS_ST" VERSION="1" LANGU="S" DESCRIPT="Insertar URL en proveedor" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="INSERTAR_URL_GOS_ST" SCONAME="URL" VERSION="1" LANGU="S" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="INSERTAR_URL_GOS_ST" SCONAME="TITULO" VERSION="1" LANGU="S" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="INSERTAR_URL_GOS_ST" SCONAME="BANFN" VERSION="1" LANGU="S" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ANY"/>
  <source>METHOD insertar_url_gos_st.
  DATA: l_clave  TYPE srgbtbrel-instid_a,
        l_titulo TYPE string,
        l_url    TYPE string.

  IF NOT banfn IS INITIAL.
    l_clave = banfn.
  ELSE.
    EXIT.
  ENDIF.
  l_url = url.
  l_titulo = titulo.
  zcl_ap_gos=&gt;insertar_url_gos_st( tipo   = c_objeto
                                  clave  = l_clave
                                  titulo = l_titulo
                                  url    = l_url ).

ENDMETHOD.</source>
 </method>
 <method CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="SAVE_TEXTO" VERSION="1" LANGU="S" DESCRIPT="Graba texto pedido" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="SAVE_TEXTO" SCONAME="BANFN" VERSION="1" LANGU="S" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BANFN"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="SAVE_TEXTO" SCONAME="BNFPO" VERSION="1" LANGU="S" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BNFPO" PAROPTIONL="X"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="SAVE_TEXTO" SCONAME="ID" VERSION="1" LANGU="S" DESCRIPT="ID de texto" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STXH-TDID"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="SAVE_TEXTO" SCONAME="SPRAS" VERSION="1" LANGU="S" DESCRIPT="Clave de idioma" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STXH-TDSPRAS" PAROPTIONL="X"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="SAVE_TEXTO" SCONAME="LINEAS" VERSION="1" LANGU="S" DESCRIPT="Tipo tabla tline" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="OIJ_TLINE"/>
  <source>method SAVE_TEXTO.
  DATA l_name TYPE stxh-tdname.

  IF bnfpo IS INITIAL.
    l_name = banfn.
    zcl_ap_textos=&gt;save_texto( id     = id
                               name   = l_name
                               spras  = spras
                               object = &apos;EBANH&apos;
                               lineas = lineas ).
  ELSE.
    CONCATENATE banfn bnfpo INTO l_name.
    zcl_ap_textos=&gt;save_texto( id     = id
                            name   = l_name
                            spras  = spras
                            object = &apos;EBAN&apos;
                            lineas = lineas ).
  ENDIF.

endmethod.</source>
 </method>
 <method CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="URLS_GOS_ST" VERSION="1" LANGU="S" DESCRIPT="Devuelve lista de URLs de GOS" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="URLS_GOS_ST" SCONAME="EBELN" VERSION="1" LANGU="S" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="EKKO-EBELN"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="URLS_GOS_ST" SCONAME="TABLA" VERSION="1" LANGU="S" DESCRIPT="URL GOS" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZTAB_URL_GOS"/>
  <source>method URLS_GOS_ST.
 DATA l_clave TYPE srgbtbrel-instid_a.

 l_clave = ebeln.
 tabla = zcl_ap_gos=&gt;urls_gos_st( tipo = &apos;BUS2012&apos; clave = l_clave ).

endmethod.</source>
 </method>
 <method CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="VISUALIZAR" VERSION="1" LANGU="S" DESCRIPT="Visualizar pedido" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="VISUALIZAR" SCONAME="BANFN" VERSION="1" LANGU="S" DESCRIPT="Número del documento de compras" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="BANFN"/>
  <source>METHOD visualizar.

*  SET PARAMETER ID &apos;BAN&apos; FIELD banfn.
*  CALL TRANSACTION &apos;ME53N&apos; AND SKIP FIRST SCREEN.

  CALL FUNCTION &apos;ME_DISPLAY_OBJECT_RQ&apos;
    EXPORTING
      key = banfn.

ENDMETHOD.</source>
 </method>
 <method CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="VISUALIZAR_PEDIDO_ST" VERSION="1" LANGU="S" DESCRIPT="Visualizar pedido" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="VISUALIZAR_PEDIDO_ST" SCONAME="EBELN" VERSION="1" LANGU="S" DESCRIPT="Número del documento de compras" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="EKKO-EBELN"/>
  <parameter CLSNAME="ZCL_AP_SOLICITUD_MM" CMPNAME="VISUALIZAR_PEDIDO_ST" SCONAME="EBELP" VERSION="1" LANGU="S" DESCRIPT="Número de posición del documento de compras" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="EKPO-EBELP" PAROPTIONL="X"/>
  <source>method VISUALIZAR_PEDIDO_ST.

 CALL FUNCTION &apos;ME_DISPLAY_PURCHASE_DOCUMENT&apos;
   EXPORTING
     i_ebeln              = ebeln
     i_ebelp              = ebelp
     i_enjoy              = &apos;X&apos;
   EXCEPTIONS
     not_found            = 1
     no_authority         = 2
     invalid_call         = 3
     preview_not_possible = 4
     OTHERS               = 5.

endmethod.</source>
 </method>
</CLAS>
