<?xml version="1.0" encoding="utf-8"?>
<PROG NAME="ZUI5_REPOSITORY_LOAD" VARCL="X" SUBC="1" APPL="S" RSTAT="S" RMAND="020" RLOAD="E" FIXPT="X" UCCHECK="X">
 <textPool>
  <language SPRAS="D">
   <textElement ID="I" KEY="001" ENTRY="SAPUI5-Anwendung hoch- und herunterladen" LENGTH="79 "/>
   <textElement ID="I" KEY="002" ENTRY="Mit diesem Programm laden Sie eine SAPUI5-Anwendung in eine SAPUI5-Repository." LENGTH="79 "/>
   <textElement ID="I" KEY="003" ENTRY="Sie können eine SAPUI5-Anwend. zudem in ein lokales Dateisystem herunterladen." LENGTH="79 "/>
   <textElement ID="I" KEY="004" ENTRY="Sie können eine vorhandene SAPUI5-Anwendung aus der Repository löschen." LENGTH="79 "/>
   <textElement ID="I" KEY="005" ENTRY="Ordner anlegen" LENGTH="25 "/>
   <textElement ID="I" KEY="006" ENTRY="Datei hochladen" LENGTH="25 "/>
   <textElement ID="I" KEY="007" ENTRY="*** IGNORE ***" LENGTH="25 "/>
   <textElement ID="I" KEY="008" ENTRY="*** IGNORE ***" LENGTH="25 "/>
   <textElement ID="I" KEY="009" ENTRY="SAPUI5-Repository anlegen" LENGTH="40 "/>
   <textElement ID="I" KEY="010" ENTRY="Vorhand. SAPUI5-Repository aktualisieren" LENGTH="40 "/>
   <textElement ID="I" KEY="011" ENTRY="Nicht zu beachtende Positionen wurden aus den eingeb. Standardeinst. ermittelt." LENGTH="79 "/>
   <textElement ID="I" KEY="012" ENTRY='Nicht zu beachtende Positionen wurden aus Datei &quot;.Ui5RepositoryIgnore&quot; ermitt.' LENGTH="80 "/>
   <textElement ID="I" KEY="013" ENTRY="SAPUI5-Anwendung aus Dateisystem in SAPUI5-ABAP-Repository laden" LENGTH="79 "/>
   <textElement ID="I" KEY="014" ENTRY="SAPUI5-Anwendung aus SAPUI5-ABAP-Repository in Dateisystem laden" LENGTH="79 "/>
   <textElement ID="I" KEY="016" ENTRY="[  Für Upload hier klicken ]" LENGTH="40 "/>
   <textElement ID="I" KEY="017" ENTRY="[  Für Download hier klicken ]" LENGTH="40 "/>
   <textElement ID="I" KEY="018" ENTRY="[  Zum Löschen hier klicken ]" LENGTH="40 "/>
   <textElement ID="I" KEY="020" ENTRY="Parameter für Upload in die BSP-Anwendung eingeben..." LENGTH="60 "/>
   <textElement ID="I" KEY="021" ENTRY="Beschreibung" LENGTH="30 "/>
   <textElement ID="I" KEY="022" ENTRY="Paket" LENGTH="30 "/>
   <textElement ID="I" KEY="023" ENTRY="Transportauftrag" LENGTH="30 "/>
   <textElement ID="I" KEY="024" ENTRY="Externe Codepage" LENGTH="35 "/>
   <textElement ID="I" KEY="025" ENTRY="* SAPUI5-Anwendungsnamen angeben *" LENGTH="79 "/>
   <textElement ID="I" KEY="026" ENTRY="Parameter für Download aus SAPUI5-ABAP-Repository eingeben..." LENGTH="79 "/>
   <textElement ID="I" KEY="030" ENTRY="* SAPUI5-Anwendung wurde nicht (erfolgreich) angelegt *" LENGTH="79 "/>
   <textElement ID="I" KEY="031" ENTRY="* Download der SAPUI5-Anwendung abgebrochen *" LENGTH="79 "/>
   <textElement ID="I" KEY="032" ENTRY="* Upload abgebrochen: externe Codepage ungültig. Verwenden Sie bsp. &apos;Cp1252&apos;*" LENGTH="79 "/>
   <textElement ID="I" KEY="033" ENTRY="* Download abgebrochen: externe Codepage ungültig. Verwenden Sie bspw. &apos;Cp1252&apos;*" LENGTH="80 "/>
   <textElement ID="I" KEY="039" ENTRY="Quellverzeichnis auswählen..." LENGTH="79 "/>
   <textElement ID="I" KEY="040" ENTRY="Ziel-Directory auswählen..." LENGTH="79 "/>
   <textElement ID="I" KEY="041" ENTRY="* Download abgebrochen *" LENGTH="79 "/>
   <textElement ID="I" KEY="042" ENTRY="SAPUI5-Anwendung löschen" LENGTH="79 "/>
   <textElement ID="I" KEY="043" ENTRY="* Upload abgeschlossen *" LENGTH="79 "/>
   <textElement ID="I" KEY="044" ENTRY="* Download abgeschlossen *" LENGTH="79 "/>
   <textElement ID="I" KEY="047" ENTRY="* SAPUI5-Repository gelöscht *" LENGTH="79 "/>
   <textElement ID="I" KEY="050" ENTRY="* Keine Directory für Download ausgewählt. Beenden... *" LENGTH="79 "/>
   <textElement ID="I" KEY="051" ENTRY="* Keine Directory für Upload ausgewählt. Beenden... *" LENGTH="79 "/>
   <textElement ID="I" KEY="052" ENTRY="* SAPUI5-Anwendung nicht vorhanden. Löschung abgebrochen... *" LENGTH="79 "/>
   <textElement ID="I" KEY="053" ENTRY="* SAPUI5-Repository kann nicht (vollständig) gelöscht wrd.; Löschung abgebr.*" LENGTH="79 "/>
   <textElement ID="I" KEY="054" ENTRY="* Warnung: Ordner % wurde nicht angelegt *" LENGTH="79 "/>
   <textElement ID="I" KEY="055" ENTRY="* Warnung: Textdatei % wurde nicht hochgeladen *" LENGTH="79 "/>
   <textElement ID="I" KEY="056" ENTRY="Zielverzeichnis für Download:" LENGTH="79 "/>
   <textElement ID="I" KEY="057" ENTRY="* Warnung: Ordner % wurde nicht gelöscht *" LENGTH="79 "/>
   <textElement ID="I" KEY="058" ENTRY="* Warnung: Textdatei % wurde nicht heruntergeladen *" LENGTH="79 "/>
   <textElement ID="I" KEY="059" ENTRY="* Warnung: Binärdatei % wurde nicht heruntergeladen *" LENGTH="79 "/>
   <textElement ID="I" KEY="060" ENTRY='Datei &quot;.Ui5RepositoryBinaryFiles&quot; zur Identifizierung der Textdat. durchsucht.' LENGTH="79 "/>
   <textElement ID="I" KEY="061" ENTRY="Binärdateien aus Standardeinstellungen identifiziert." LENGTH="79 "/>
   <textElement ID="I" KEY="062" ENTRY='Datei &quot;.Ui5RepositoryTextFiles&quot; zur Identifizierung der Textdateien durchsucht.' LENGTH="79 "/>
   <textElement ID="I" KEY="063" ENTRY="Textdateien aus Standardeinstellungen identifiziert." LENGTH="79 "/>
   <textElement ID="I" KEY="064" ENTRY="* Warnung: Binärdatei % wurde nicht hochgeladen *" LENGTH="79 "/>
   <textElement ID="I" KEY="070" ENTRY="Text" LENGTH="20 "/>
   <textElement ID="I" KEY="071" ENTRY="Binär" LENGTH="20 "/>
   <textElement ID="I" KEY="072" ENTRY="Unbekannter Dateityp" LENGTH="25 "/>
   <textElement ID="I" KEY="080" ENTRY="Ordner löschen" LENGTH="25 "/>
   <textElement ID="I" KEY="081" ENTRY="Datei löschen" LENGTH="25 "/>
   <textElement ID="I" KEY="082" ENTRY="Datei herunterladen" LENGTH="25 "/>
   <textElement ID="I" KEY="083" ENTRY="Ordner anlegen/beibehalt." LENGTH="25 "/>
   <textElement ID="I" KEY="089" ENTRY="Hinweise:" LENGTH="79 "/>
   <textElement ID="I" KEY="090" ENTRY="&gt; Ihre Standard-Codepage ist" LENGTH="79 "/>
   <textElement ID="I" KEY="091" ENTRY="&gt; Nicht zu beachtende Dateien werden in Dat. &apos;.Ui5RepositoryIgnore&apos; aufgeführt." LENGTH="79 "/>
   <textElement ID="I" KEY="092" ENTRY="&gt; Zusätzliche Textdateien werden via &apos;.Ui5RepositoryTextFiles&apos; angegeben." LENGTH="79 "/>
   <textElement ID="I" KEY="093" ENTRY="&gt; Zusätzliche Binärdateien werden via &apos;.Ui5RepositoryBinaryFiles&apos; angegeben." LENGTH="79 "/>
   <textElement ID="I" KEY="094" ENTRY="&gt; Jede Zeile in oben genannten Dateien legt ein Dateinamensmuster fest:" LENGTH="79 "/>
   <textElement ID="I" KEY="095" ENTRY="Entweder als Substring oder als regulärer Ausdruck." LENGTH="79 "/>
   <textElement ID="I" KEY="096" ENTRY="Beispiel: &apos;^.*[/|\\]build([/|\\].*)?$&apos; beginnt mit &apos;^&apos; und endet auf &apos;$&apos;." LENGTH="79 "/>
   <textElement ID="I" KEY="097" ENTRY="* Keine Standard-Codepage *" LENGTH="79 "/>
   <textElement ID="I" KEY="099" ENTRY="&gt; Für Vorgang benötigen Sie Zugriff auf folgende Berechtigungsobjekte:" LENGTH="79 "/>
   <textElement ID="I" KEY="100" ENTRY="S_DEVELOP, S_ICF_ADM, S_TCODE, S_TRANSPRT, S_CTS_ADMI and S_CTS_SADM" LENGTH="79 "/>
   <textElement ID="I" KEY="101" ENTRY="Prüfen Sie den Security-Guide." LENGTH="79 "/>
   <textElement ID="I" KEY="102" ENTRY="Warnung: Möglicherweise fehlen Berechtigungen für" LENGTH="79 "/>
   <textElement ID="I" KEY="103" ENTRY="Warnung: Möglicherweise fehlen Berechtigungen." LENGTH="79 "/>
   <textElement ID="I" KEY="104" ENTRY="und" LENGTH="10 "/>
   <textElement ID="I" KEY="105" ENTRY="&gt; Falls Sie einen Transport durchführen möchten:" LENGTH="79 "/>
   <textElement ID="I" KEY="106" ENTRY="Bereiten Sie einen ABAP-Workbench-Auftrag vor und notieren Sie dessen ID." LENGTH="79 "/>
   <textElement ID="I" KEY="107" ENTRY="Warnung: Zeilenenden können in Textdatei % nicht angepasst werden." LENGTH="79 "/>
   <textElement ID="I" KEY="108" ENTRY="Die Anpassung von Zeilenenden wurde angefordert." LENGTH="79 "/>
   <textElement ID="I" KEY="109" ENTRY="Info: Zeilenenden wurden in Datei % angepasst." LENGTH="79 "/>
   <textElement ID="R" ENTRY="SAPUI5 Repository Load: SAPUI5-Anw. aus/in lokalem/s Dateisystem laden" LENGTH="70 "/>
   <textElement ID="S" KEY="ADJLNNDS" ENTRY="        Zeilenenden b. Upload anpassen" LENGTH="38 "/>
   <textElement ID="S" KEY="DELETE" ENTRY="        Löschen" LENGTH="15 "/>
   <textElement ID="S" KEY="DOWNLOAD" ENTRY="        Herunterladen" LENGTH="21 "/>
   <textElement ID="S" KEY="UI5REP" ENTRY="        Name der SAPUI5-Anwendung" LENGTH="34 "/>
   <textElement ID="S" KEY="UPLOAD" ENTRY="        Hochladen" LENGTH="17 "/>
   <textElement ID="T" ENTRY="Folgendes geschieht, wenn Sie am Ende der Liste bestätigen." LENGTH="68 "/>
  </language>
  <language SPRAS="E">
   <textElement ID="I" KEY="001" ENTRY="Up- and Download your SAPUI5 Application" LENGTH="79 "/>
   <textElement ID="I" KEY="002" ENTRY="Use this report to upload a SAPUI5 application to the SAPUI5 ABAP Repository." LENGTH="79 "/>
   <textElement ID="I" KEY="003" ENTRY="Use it to download a SAPUI5 application to the local file system." LENGTH="79 "/>
   <textElement ID="I" KEY="004" ENTRY="Use it to delete an existing SAPUI5 application from the repository." LENGTH="79 "/>
   <textElement ID="I" KEY="005" ENTRY="Create Folder" LENGTH="25 "/>
   <textElement ID="I" KEY="006" ENTRY="Upload File" LENGTH="25 "/>
   <textElement ID="I" KEY="007" ENTRY="*** IGNORE ***" LENGTH="25 "/>
   <textElement ID="I" KEY="008" ENTRY="*** IGNORE ***" LENGTH="25 "/>
   <textElement ID="I" KEY="009" ENTRY="Create SAPUI5 Application" LENGTH="40 "/>
   <textElement ID="I" KEY="010" ENTRY="Update existing SAPUI5 Application" LENGTH="40 "/>
   <textElement ID="I" KEY="011" ENTRY="Items to be ignored have been determined from the built-in standard settings." LENGTH="79 "/>
   <textElement ID="I" KEY="012" ENTRY="Items to be ignored have been determined from the &apos;.Ui5RepositoryIgnore&apos; file." LENGTH="80 "/>
   <textElement ID="I" KEY="013" ENTRY="Load SAPUI5 Application from File System to the SAPUI5 ABAP Repository" LENGTH="79 "/>
   <textElement ID="I" KEY="014" ENTRY="Load SAPUI5 Application from the SAPUI5 ABAP Repository to the File System" LENGTH="79 "/>
   <textElement ID="I" KEY="016" ENTRY="[  Click here to Upload  ]" LENGTH="40 "/>
   <textElement ID="I" KEY="017" ENTRY="[  Click here to Download  ]" LENGTH="40 "/>
   <textElement ID="I" KEY="018" ENTRY="[  Click here to Delete  ]" LENGTH="40 "/>
   <textElement ID="I" KEY="020" ENTRY="Enter Parameters for Upload to BSP Application ..." LENGTH="60 "/>
   <textElement ID="I" KEY="021" ENTRY="Description" LENGTH="30 "/>
   <textElement ID="I" KEY="022" ENTRY="Package" LENGTH="30 "/>
   <textElement ID="I" KEY="023" ENTRY="Transport Request" LENGTH="30 "/>
   <textElement ID="I" KEY="024" ENTRY="External Codepage" LENGTH="35 "/>
   <textElement ID="I" KEY="025" ENTRY="* Specify SAPUI5 Application Name *" LENGTH="79 "/>
   <textElement ID="I" KEY="026" ENTRY="Enter Parameters for Download from the SAPUI5 ABAP Repository ..." LENGTH="79 "/>
   <textElement ID="I" KEY="030" ENTRY="* SAPUI5 application has not been created (successfully) *" LENGTH="79 "/>
   <textElement ID="I" KEY="031" ENTRY="* Download of SAPUI5 application has been canceled *" LENGTH="79 "/>
   <textElement ID="I" KEY="032" ENTRY="* Upload canceled: External Code Page is invalid. You may use e.g. &apos;Cp1252&apos; *" LENGTH="79 "/>
   <textElement ID="I" KEY="033" ENTRY="* Download canceled: External Code Page is invalid. You may use e.g. &apos;Cp1252&apos; *" LENGTH="80 "/>
   <textElement ID="I" KEY="039" ENTRY="Specify Source Directory ..." LENGTH="79 "/>
   <textElement ID="I" KEY="040" ENTRY="Specify Target Directory ..." LENGTH="79 "/>
   <textElement ID="I" KEY="041" ENTRY="* Download canceled *" LENGTH="79 "/>
   <textElement ID="I" KEY="042" ENTRY="Delete SAPUI5 Application" LENGTH="79 "/>
   <textElement ID="I" KEY="043" ENTRY="* Upload finished *" LENGTH="79 "/>
   <textElement ID="I" KEY="044" ENTRY="* Download finished *" LENGTH="79 "/>
   <textElement ID="I" KEY="047" ENTRY="* SAPUI5 Repository deleted *" LENGTH="79 "/>
   <textElement ID="I" KEY="050" ENTRY="* A directory for the download has not been selected. Exiting ...*" LENGTH="79 "/>
   <textElement ID="I" KEY="051" ENTRY="* A directory for upload has not been selected. Exiting ...*" LENGTH="79 "/>
   <textElement ID="I" KEY="052" ENTRY="* SAPUI5 application does not exist. Deletion canceled ... *" LENGTH="79 "/>
   <textElement ID="I" KEY="053" ENTRY="* Unable to delete SAPUI5 Repository (completely). Deletion canceled ... *" LENGTH="79 "/>
   <textElement ID="I" KEY="054" ENTRY="* Warning: Folder % has not been created *" LENGTH="79 "/>
   <textElement ID="I" KEY="055" ENTRY="* Warning: Text file % has not been uploaded *" LENGTH="79 "/>
   <textElement ID="I" KEY="056" ENTRY="The target directory for the download is" LENGTH="79 "/>
   <textElement ID="I" KEY="057" ENTRY="* Warning: Folder % has not been deleted *" LENGTH="79 "/>
   <textElement ID="I" KEY="058" ENTRY="* Warning: Text file % has not been downloaded *" LENGTH="79 "/>
   <textElement ID="I" KEY="059" ENTRY="* Warning: Binary file % has not been downloaded *" LENGTH="79 "/>
   <textElement ID="I" KEY="060" ENTRY="File &apos;.Ui5RepositoryBinaryFiles&apos; has been considered to identify binary files." LENGTH="79 "/>
   <textElement ID="I" KEY="061" ENTRY="Binary files have been identified from standard settings." LENGTH="79 "/>
   <textElement ID="I" KEY="062" ENTRY="File &apos;.Ui5RepositoryTextFiles&apos; has been considered to identify text files." LENGTH="79 "/>
   <textElement ID="I" KEY="063" ENTRY="Text files have been identified from standard settings." LENGTH="79 "/>
   <textElement ID="I" KEY="064" ENTRY="* Warning: Binary file % has not been uploaded *" LENGTH="79 "/>
   <textElement ID="I" KEY="070" ENTRY="Text" LENGTH="20 "/>
   <textElement ID="I" KEY="071" ENTRY="Binary" LENGTH="20 "/>
   <textElement ID="I" KEY="072" ENTRY="File type unknown" LENGTH="25 "/>
   <textElement ID="I" KEY="080" ENTRY="Delete Folder" LENGTH="25 "/>
   <textElement ID="I" KEY="081" ENTRY="Delete File" LENGTH="25 "/>
   <textElement ID="I" KEY="082" ENTRY="Download File" LENGTH="25 "/>
   <textElement ID="I" KEY="083" ENTRY="Create/Keep Folder" LENGTH="25 "/>
   <textElement ID="I" KEY="089" ENTRY="Remarks:" LENGTH="79 "/>
   <textElement ID="I" KEY="090" ENTRY="&gt; Your default code page is" LENGTH="79 "/>
   <textElement ID="I" KEY="091" ENTRY="&gt; Files to be ignored may be specified in file &apos;.Ui5RepositoryIgnore&apos;." LENGTH="79 "/>
   <textElement ID="I" KEY="092" ENTRY="&gt; Additional text files may be specified via &apos;.Ui5RepositoryTextFiles&apos;." LENGTH="79 "/>
   <textElement ID="I" KEY="093" ENTRY="&gt; Additional binary files may be specified via &apos;.Ui5RepositoryBinaryFiles&apos;." LENGTH="79 "/>
   <textElement ID="I" KEY="094" ENTRY="&gt; Each line in the files above specifies a file name pattern:" LENGTH="79 "/>
   <textElement ID="I" KEY="095" ENTRY="Either in form a sub string or as a regular expression." LENGTH="79 "/>
   <textElement ID="I" KEY="096" ENTRY="Example: &apos;^.*[/|\\]build([/|\\].*)?$&apos; starting with &apos;^&apos; and ending with &apos;$&apos;." LENGTH="79 "/>
   <textElement ID="I" KEY="097" ENTRY="* No default code page *" LENGTH="79 "/>
   <textElement ID="I" KEY="098" LENGTH="79 "/>
   <textElement ID="I" KEY="099" ENTRY="&gt; For operation you may need authorization for the following auth. objects:" LENGTH="79 "/>
   <textElement ID="I" KEY="100" ENTRY="S_DEVELOP, S_ICF_ADM, S_TCODE, S_TRANSPRT, S_CTS_ADMI and S_CTS_SADM" LENGTH="79 "/>
   <textElement ID="I" KEY="101" ENTRY="Check the security guide." LENGTH="79 "/>
   <textElement ID="I" KEY="102" ENTRY="Warning : Authorizations may be missing for" LENGTH="79 "/>
   <textElement ID="I" KEY="103" ENTRY="Warning : Authorizations may be missing." LENGTH="79 "/>
   <textElement ID="I" KEY="104" ENTRY="and" LENGTH="10 "/>
   <textElement ID="I" KEY="105" ENTRY="&gt; In case you would like to transport:" LENGTH="79 "/>
   <textElement ID="I" KEY="106" ENTRY="Prepare an ABAP workbench request and note down its id for later entry." LENGTH="79 "/>
   <textElement ID="I" KEY="107" ENTRY="Warning: Unable to adjust line endings in text file %." LENGTH="79 "/>
   <textElement ID="I" KEY="108" ENTRY="The adjustment of line endings has been requested." LENGTH="79 "/>
   <textElement ID="I" KEY="109" ENTRY="Info: Line endings have been adjusted in file %." LENGTH="79 "/>
   <textElement ID="R" ENTRY="SAPUI5 Repository Load: Load SAPUI5 App from and to Local File System" LENGTH="69 "/>
   <textElement ID="S" KEY="ADJLNNDS" ENTRY="        Adjust Line Endings on Upload" LENGTH="37 "/>
   <textElement ID="S" KEY="DELETE" ENTRY="        Delete" LENGTH="14 "/>
   <textElement ID="S" KEY="DOWNLOAD" ENTRY="        Download" LENGTH="16 "/>
   <textElement ID="S" KEY="UI5REP" ENTRY="        Name of SAPUI5 Application" LENGTH="34 "/>
   <textElement ID="S" KEY="UPLOAD" ENTRY="        Upload" LENGTH="14 "/>
   <textElement ID="T" ENTRY="This is going to happen when you confirm at the end of this list ..." LENGTH="68 "/>
  </language>
  <language SPRAS="P">
   <textElement ID="I" KEY="001" ENTRY="Carregar e baixar a aplicação SAPUI5" LENGTH="79 "/>
   <textElement ID="I" KEY="002" ENTRY="Com este programa carregar uma aplicação SAPUI5 para um repositório SAPUI5." LENGTH="79 "/>
   <textElement ID="I" KEY="003" ENTRY="Além disso, é possível baixar uma aplicação SAPUI5 para um sistema files local." LENGTH="79 "/>
   <textElement ID="I" KEY="004" ENTRY="É possível eliminar uma aplicação SAPUI5 existente a partir do repositório." LENGTH="79 "/>
   <textElement ID="I" KEY="005" ENTRY="Criar pasta" LENGTH="25 "/>
   <textElement ID="I" KEY="006" ENTRY="Carregar file" LENGTH="25 "/>
   <textElement ID="I" KEY="007" ENTRY="*** IGNORE ***" LENGTH="25 "/>
   <textElement ID="I" KEY="008" ENTRY="*** IGNORE ***" LENGTH="25 "/>
   <textElement ID="I" KEY="009" ENTRY="Criar repositório SAPUI5" LENGTH="40 "/>
   <textElement ID="I" KEY="010" ENTRY="Atualizar repositório SAPUI5 existente" LENGTH="40 "/>
   <textElement ID="I" KEY="011" ENTRY="Its.a não serem considerados foram determds.a partir configs.padrão inseridas." LENGTH="79 "/>
   <textElement ID="I" KEY="012" ENTRY='Its.a não serem considerados foram determds.a partir file &quot;Ui5RepositoryIgnore&quot;.' LENGTH="80 "/>
   <textElement ID="I" KEY="013" ENTRY="Carregar aplicação SAPUI5 a partir de sistema files p/repositório ABAP SAPUI5" LENGTH="79 "/>
   <textElement ID="I" KEY="014" ENTRY="Carregar aplicação SAPUI5 a partir de repositório ABAP SAPUI5 p/sistema files" LENGTH="79 "/>
   <textElement ID="I" KEY="016" ENTRY="[  Clicar aqui para upload ]" LENGTH="40 "/>
   <textElement ID="I" KEY="017" ENTRY="[  Clicar aqui para download ]" LENGTH="40 "/>
   <textElement ID="I" KEY="018" ENTRY="[  Clicar aqui para eliminar ]" LENGTH="40 "/>
   <textElement ID="I" KEY="020" ENTRY="Inserir parâmetros para upload na aplicação BSP..." LENGTH="60 "/>
   <textElement ID="I" KEY="021" ENTRY="Descrição" LENGTH="30 "/>
   <textElement ID="I" KEY="022" ENTRY="Pacote" LENGTH="30 "/>
   <textElement ID="I" KEY="023" ENTRY="Ordem de transporte" LENGTH="30 "/>
   <textElement ID="I" KEY="024" ENTRY="Code page externo" LENGTH="35 "/>
   <textElement ID="I" KEY="025" ENTRY="* Indicar nome de aplicação SAPUI5 *" LENGTH="79 "/>
   <textElement ID="I" KEY="026" ENTRY="Inserir parâmetros para download a partir de repositório ABAP SAPUI5..." LENGTH="79 "/>
   <textElement ID="I" KEY="030" ENTRY="* A aplicação SAPUI5 não foi criada (com êxito) *" LENGTH="79 "/>
   <textElement ID="I" KEY="031" ENTRY="* Download da aplicação SAPUI5 cancelado *" LENGTH="79 "/>
   <textElement ID="I" KEY="032" ENTRY="* Upload cancelado: code page externo inválido. Utilizar exemplo &apos;Cp1252&apos;*" LENGTH="79 "/>
   <textElement ID="I" KEY="033" ENTRY="* Download cancelado: code page externo inválido. Utilizar exemplo &apos;Cp1252&apos;*" LENGTH="80 "/>
   <textElement ID="I" KEY="039" ENTRY="Selecionar diretório fonte..." LENGTH="79 "/>
   <textElement ID="I" KEY="040" ENTRY="Selecionar diretório de destino..." LENGTH="79 "/>
   <textElement ID="I" KEY="041" ENTRY="* Download cancelado *" LENGTH="79 "/>
   <textElement ID="I" KEY="042" ENTRY="Eliminar aplicação SAPUI5" LENGTH="79 "/>
   <textElement ID="I" KEY="043" ENTRY="* Upload encerrado *" LENGTH="79 "/>
   <textElement ID="I" KEY="044" ENTRY="* Download encerrado *" LENGTH="79 "/>
   <textElement ID="I" KEY="047" ENTRY="* Repositório SAPUI5 eliminado *" LENGTH="79 "/>
   <textElement ID="I" KEY="050" ENTRY="* Nenhum diretório selecionado para download. Encerrar... *" LENGTH="79 "/>
   <textElement ID="I" KEY="051" ENTRY="* Nenhum diretório selecionado para upload. Encerrar... *" LENGTH="79 "/>
   <textElement ID="I" KEY="052" ENTRY="* A aplicação SAPUI5 não existe. Eliminação cancelada... *" LENGTH="79 "/>
   <textElement ID="I" KEY="053" ENTRY="* Não é possível eliminar repositório SAPUI5 (completamente); elim.cancelada*" LENGTH="79 "/>
   <textElement ID="I" KEY="054" ENTRY="* Advertência: a pasta % não foi criada *" LENGTH="79 "/>
   <textElement ID="I" KEY="055" ENTRY="* Advertência: o file de texto % não foi carregado *" LENGTH="79 "/>
   <textElement ID="I" KEY="056" ENTRY="Diretório de destino para download:" LENGTH="79 "/>
   <textElement ID="I" KEY="057" ENTRY="* Advertência: a pasta % não foi eliminada *" LENGTH="79 "/>
   <textElement ID="I" KEY="058" ENTRY="* Advertência: o file de texto % não foi baixado *" LENGTH="79 "/>
   <textElement ID="I" KEY="059" ENTRY="* Advertência: o file binário % não foi baixado *" LENGTH="79 "/>
   <textElement ID="I" KEY="060" ENTRY='File &quot;.Ui5RepositoryBinaryFiles&quot; procurado para a identificação do file texto.' LENGTH="79 "/>
   <textElement ID="I" KEY="061" ENTRY="Files binários identificados a partir de configurações padrão." LENGTH="79 "/>
   <textElement ID="I" KEY="062" ENTRY='File &quot;.Ui5RepositoryTextFiles&quot; procurado para a identificação dos files texto.' LENGTH="79 "/>
   <textElement ID="I" KEY="063" ENTRY="Files de texto identificados a partir de configurações padrão." LENGTH="79 "/>
   <textElement ID="I" KEY="064" ENTRY="* Advertência: o file binário % não foi carregado *" LENGTH="79 "/>
   <textElement ID="I" KEY="070" ENTRY="Texto" LENGTH="20 "/>
   <textElement ID="I" KEY="071" ENTRY="Binário" LENGTH="20 "/>
   <textElement ID="I" KEY="072" ENTRY="Tipo desconhecido de file" LENGTH="25 "/>
   <textElement ID="I" KEY="080" ENTRY="Eliminar pasta" LENGTH="25 "/>
   <textElement ID="I" KEY="081" ENTRY="Eliminar file" LENGTH="25 "/>
   <textElement ID="I" KEY="082" ENTRY="Baixar file" LENGTH="25 "/>
   <textElement ID="I" KEY="083" ENTRY="Criar/manter pasta" LENGTH="25 "/>
   <textElement ID="I" KEY="089" ENTRY="Notas:" LENGTH="79 "/>
   <textElement ID="I" KEY="090" ENTRY="&gt; O seu code page padrão é" LENGTH="79 "/>
   <textElement ID="I" KEY="091" ENTRY="&gt; Files a não serem consids.serão mencionados no file &apos;.Ui5RepositoryIgnore&apos;." LENGTH="79 "/>
   <textElement ID="I" KEY="092" ENTRY="&gt; Os files de texto adicionais serão indicados via &apos;.Ui5RepositoryTextFiles&apos;." LENGTH="79 "/>
   <textElement ID="I" KEY="093" ENTRY="&gt; Os files binários adicionais serão indicados via &apos;.Ui5RepositoryBinaryFiles&apos;." LENGTH="79 "/>
   <textElement ID="I" KEY="094" ENTRY="&gt; Cada linha nos files acima indicados determina um modelo de nome de file:" LENGTH="79 "/>
   <textElement ID="I" KEY="095" ENTRY="Como subcadeia ou como expressão regular." LENGTH="79 "/>
   <textElement ID="I" KEY="096" ENTRY="Exemplo: &apos;^.*[/|\\]build([/|\\].*)?$&apos; começa com &apos;^&apos; e termina com &apos;$&apos;." LENGTH="79 "/>
   <textElement ID="I" KEY="097" ENTRY="* Nenhum code page padrão *" LENGTH="79 "/>
   <textElement ID="I" KEY="099" ENTRY="&gt; Para a operação é necessário acesso aos seguintes objetos de autorização:" LENGTH="79 "/>
   <textElement ID="I" KEY="100" ENTRY="S_DEVELOP, S_ICF_ADM, S_TCODE, S_TRANSPRT, S_CTS_ADMI and S_CTS_SADM" LENGTH="79 "/>
   <textElement ID="I" KEY="101" ENTRY="Verificar o guia de segurança." LENGTH="79 "/>
   <textElement ID="I" KEY="102" ENTRY="Advertência: possivelmente faltam autorizações para" LENGTH="79 "/>
   <textElement ID="I" KEY="103" ENTRY="Advertência: possivelmente faltam autorizações." LENGTH="79 "/>
   <textElement ID="I" KEY="104" ENTRY="e" LENGTH="10 "/>
   <textElement ID="I" KEY="105" ENTRY="&gt; Caso se pretenda executar um transporte:" LENGTH="79 "/>
   <textElement ID="I" KEY="106" ENTRY="Preparar uma ordem de ABAP Workbench e anotar o ID." LENGTH="79 "/>
   <textElement ID="I" KEY="107" ENTRY="Advertência: não é possível ajustar fins de linha no file de texto %." LENGTH="79 "/>
   <textElement ID="I" KEY="108" ENTRY="O ajuste de fins de linha foi solicitado." LENGTH="79 "/>
   <textElement ID="I" KEY="109" ENTRY="Informação: os fins de linha foram ajustados no file %." LENGTH="79 "/>
   <textElement ID="R" ENTRY="SAPUI5 Repository Load: carregar aplic.SAPUI5 de/para sist.files local" LENGTH="70 "/>
   <textElement ID="S" KEY="ADJLNNDS" ENTRY="        Ajustar fins linha em upload" LENGTH="38 "/>
   <textElement ID="S" KEY="DELETE" ENTRY="        Eliminar" LENGTH="16 "/>
   <textElement ID="S" KEY="DOWNLOAD" ENTRY="        Baixar" LENGTH="21 "/>
   <textElement ID="S" KEY="UI5REP" ENTRY="        Nome da aplicação SAPUI5" LENGTH="34 "/>
   <textElement ID="S" KEY="UPLOAD" ENTRY="        Carregar" LENGTH="17 "/>
   <textElement ID="T" ENTRY="Acontece o seguinte se o fim da lista for confirmado." LENGTH="68 "/>
  </language>
  <language SPRAS="S">
   <textElement ID="I" KEY="001" ENTRY="Cargar y descargar aplicación SAPUI5" LENGTH="79 "/>
   <textElement ID="I" KEY="002" ENTRY="Con este programa se carga una aplicación SAPUI5 en un repository SAPUI5" LENGTH="79 "/>
   <textElement ID="I" KEY="003" ENTRY="Puede descargar una aplicación SAPUI5 en un sistema de ficheros local" LENGTH="79 "/>
   <textElement ID="I" KEY="004" ENTRY="Puede borrar una aplicación SAPUI5 existente del repository" LENGTH="79 "/>
   <textElement ID="I" KEY="005" ENTRY="Crear carpeta" LENGTH="25 "/>
   <textElement ID="I" KEY="006" ENTRY="Upload fichero" LENGTH="25 "/>
   <textElement ID="I" KEY="007" ENTRY="*** IGNORAR ***" LENGTH="25 "/>
   <textElement ID="I" KEY="008" ENTRY="*** IGNORAR ***" LENGTH="25 "/>
   <textElement ID="I" KEY="009" ENTRY="Crear repository SAPUI5" LENGTH="40 "/>
   <textElement ID="I" KEY="010" ENTRY="Actualizar respository SAPUI5 existente" LENGTH="40 "/>
   <textElement ID="I" KEY="011" ENTRY="No se han determinado posiciones a considerar de parametrización estándar ind." LENGTH="79 "/>
   <textElement ID="I" KEY="012" ENTRY='Se han determinado posiciones a no considerar de fichero &quot;Ui5RepositoryIgnore&quot;' LENGTH="80 "/>
   <textElement ID="I" KEY="013" ENTRY="Cargar aplicación SAPUI5 de sistema de ficheros en repository ABAP SAPUI5" LENGTH="79 "/>
   <textElement ID="I" KEY="014" ENTRY="Cargar aplicación SAPUI5 de repository ABAP SAPUI5 en sisteam de ficheros" LENGTH="79 "/>
   <textElement ID="I" KEY="016" ENTRY="[  Hacer clic para cargar ]" LENGTH="40 "/>
   <textElement ID="I" KEY="017" ENTRY="[  Hacer clic para descargar ]" LENGTH="40 "/>
   <textElement ID="I" KEY="018" ENTRY="[  Hacer clic para borrar ]" LENGTH="40 "/>
   <textElement ID="I" KEY="020" ENTRY="Indicat parámetros para cargar en aplicación BSP..." LENGTH="60 "/>
   <textElement ID="I" KEY="021" ENTRY="Descripción" LENGTH="30 "/>
   <textElement ID="I" KEY="022" ENTRY="Paq." LENGTH="30 "/>
   <textElement ID="I" KEY="023" ENTRY="Orden de transporte" LENGTH="30 "/>
   <textElement ID="I" KEY="024" ENTRY="Code page externo" LENGTH="35 "/>
   <textElement ID="I" KEY="025" ENTRY="* Indicar nombre de aplicación SAPUI5 *" LENGTH="79 "/>
   <textElement ID="I" KEY="026" ENTRY="Indicar parámetros para descargar de repository ABAP SAPUI5..." LENGTH="79 "/>
   <textElement ID="I" KEY="030" ENTRY="* La aplicación SAPUI5 no se ha creado (correctamente) *" LENGTH="79 "/>
   <textElement ID="I" KEY="031" ENTRY="* Descarga de la aplicación SAPUI5 cancelada *" LENGTH="79 "/>
   <textElement ID="I" KEY="032" ENTRY='* Carga cancelada: Code page externo no válido. Utilice por ejemplo &quot;Cp1252&quot;.*' LENGTH="79 "/>
   <textElement ID="I" KEY="033" ENTRY='* Descarga cancelada: Code page externo no válido. Utilice por ej.&quot;Cp1252&quot;.*' LENGTH="80 "/>
   <textElement ID="I" KEY="039" ENTRY="Seleccionar directorio fuente..." LENGTH="79 "/>
   <textElement ID="I" KEY="040" ENTRY="Seleccionar directorio destino..." LENGTH="79 "/>
   <textElement ID="I" KEY="041" ENTRY="* Descarga cancelada *" LENGTH="79 "/>
   <textElement ID="I" KEY="042" ENTRY="Borrar aplicación SAPUI5" LENGTH="79 "/>
   <textElement ID="I" KEY="043" ENTRY="* Carga concluida *" LENGTH="79 "/>
   <textElement ID="I" KEY="044" ENTRY="* Descarga finalizada *" LENGTH="79 "/>
   <textElement ID="I" KEY="047" ENTRY="* Repository SAPUI5 borrado *" LENGTH="79 "/>
   <textElement ID="I" KEY="050" ENTRY="* No se ha seleccionado ningún directorio para descargar. Finalizar... *" LENGTH="79 "/>
   <textElement ID="I" KEY="051" ENTRY="* No se ha seleccionado ningún directorio para cargar. Finalizar... *" LENGTH="79 "/>
   <textElement ID="I" KEY="052" ENTRY="* La aplicación SAPUI5 no existe. Borrado cancelado... *" LENGTH="79 "/>
   <textElement ID="I" KEY="053" ENTRY="* El repository SAPUI5 no puede borrarse (completamente. Borrado cancelado.*" LENGTH="79 "/>
   <textElement ID="I" KEY="054" ENTRY="* Advertencia: La carpeta % no se ha creado *" LENGTH="79 "/>
   <textElement ID="I" KEY="055" ENTRY="* Advertencia: El fichero de texto % no se ha cargado *" LENGTH="79 "/>
   <textElement ID="I" KEY="056" ENTRY="Directorio destino para descarga:" LENGTH="79 "/>
   <textElement ID="I" KEY="057" ENTRY="* Advertencia: La carpeta % no se ha borrado *" LENGTH="79 "/>
   <textElement ID="I" KEY="058" ENTRY="* Advertencia: El fichero de texto % no se ha descargado *" LENGTH="79 "/>
   <textElement ID="I" KEY="059" ENTRY="* Advertencia: El fichero binario % no se ha descargado *" LENGTH="79 "/>
   <textElement ID="I" KEY="060" ENTRY='Buscar fichero &quot;.Ui5RepositoryBinaryFiles&quot; para identificar fichero de texto' LENGTH="79 "/>
   <textElement ID="I" KEY="061" ENTRY="Ficheros binarios identificados de parametrizaciones estándar" LENGTH="79 "/>
   <textElement ID="I" KEY="062" ENTRY='Buscar fichero &quot;.Ui5RepositoryBinaryFiles&quot; para identificar ficheros de texto' LENGTH="79 "/>
   <textElement ID="I" KEY="063" ENTRY="Ficheros de texto identificados de parametrizaciones estándar" LENGTH="79 "/>
   <textElement ID="I" KEY="064" ENTRY="* Advertencia: El fichero binario % no se ha cargado *" LENGTH="79 "/>
   <textElement ID="I" KEY="070" ENTRY="Texto" LENGTH="20 "/>
   <textElement ID="I" KEY="071" ENTRY="Binario" LENGTH="20 "/>
   <textElement ID="I" KEY="072" ENTRY="Tipo fichero desconocido" LENGTH="25 "/>
   <textElement ID="I" KEY="080" ENTRY="Borrar carpeta" LENGTH="25 "/>
   <textElement ID="I" KEY="081" ENTRY="Borrar fichero" LENGTH="25 "/>
   <textElement ID="I" KEY="082" ENTRY="Descargar el fichero" LENGTH="25 "/>
   <textElement ID="I" KEY="083" ENTRY="Crear/Mantaner carpeta" LENGTH="25 "/>
   <textElement ID="I" KEY="089" ENTRY="Notas:" LENGTH="79 "/>
   <textElement ID="I" KEY="090" ENTRY="&gt; Su code page estándar es" LENGTH="79 "/>
   <textElement ID="I" KEY="091" ENTRY='&gt; Ficheros a no tener en cuenta se han añadido a fichero &quot;.Ui5RepositoryIgnore&quot;' LENGTH="79 "/>
   <textElement ID="I" KEY="092" ENTRY='&gt; Se han indicado ficheros texto adicionales mediante &quot;.Ui5RepositoryTextFiles&quot;' LENGTH="79 "/>
   <textElement ID="I" KEY="093" ENTRY='&gt; Se han indicado fich.binarios dicionales mediante &quot;.Ui5RepositoryTextFiles&quot;' LENGTH="79 "/>
   <textElement ID="I" KEY="094" ENTRY="&gt; Cada línea en ficheros nombrados arriba especifica un modelo de nombre fich.:" LENGTH="79 "/>
   <textElement ID="I" KEY="095" ENTRY="Como substring o como expresión normal" LENGTH="79 "/>
   <textElement ID="I" KEY="096" ENTRY='Ejemplo: &quot;^.*[/|\\]build([/|\\].*)?$&quot; empieza con &quot;^&quot; y acaba en &quot;$&quot;' LENGTH="79 "/>
   <textElement ID="I" KEY="097" ENTRY="* Ningún code page estándar *" LENGTH="79 "/>
   <textElement ID="I" KEY="099" ENTRY="&gt; Para la operación necesita acceso a los siguientes objetos de autorización:" LENGTH="79 "/>
   <textElement ID="I" KEY="100" ENTRY="S_DEVELOP, S_ICF_ADM, S_TCODE, S_TRANSPRT, S_CTS_ADMI y S_CTS_SADM" LENGTH="79 "/>
   <textElement ID="I" KEY="101" ENTRY="Verifique la guía de seguridad" LENGTH="79 "/>
   <textElement ID="I" KEY="102" ENTRY="Advertencia: Posiblemente falten autorizaciones para" LENGTH="79 "/>
   <textElement ID="I" KEY="103" ENTRY="Advertencia: Posiblemente falten autorizaciones" LENGTH="79 "/>
   <textElement ID="I" KEY="104" ENTRY="y" LENGTH="10 "/>
   <textElement ID="I" KEY="105" ENTRY="&gt; En caso de que quiera realizar un transporte:" LENGTH="79 "/>
   <textElement ID="I" KEY="106" ENTRY="Prepare una orden de workbench ABAP y anote su ID" LENGTH="79 "/>
   <textElement ID="I" KEY="107" ENTRY="Advertencia: Los finales de líneas no se pueden ajustar en el fichero texto %" LENGTH="79 "/>
   <textElement ID="I" KEY="108" ENTRY="Se ha solicitado el ajuste de finales de líneas." LENGTH="79 "/>
   <textElement ID="I" KEY="109" ENTRY="Información: Se han ajustado los finales de líneas en el fichero %." LENGTH="79 "/>
   <textElement ID="R" ENTRY="Carga repository SAPUI5: Cargar aplic.SAPUI5 de/en sistema fich.local" LENGTH="70 "/>
   <textElement ID="S" KEY="ADJLNNDS" ENTRY="        Ajustar finales lín.p.carga" LENGTH="38 "/>
   <textElement ID="S" KEY="DELETE" ENTRY="        Borrar" LENGTH="15 "/>
   <textElement ID="S" KEY="DOWNLOAD" ENTRY="        Download" LENGTH="21 "/>
   <textElement ID="S" KEY="UI5REP" ENTRY="        Nombre de la aplicación SAPUI5" LENGTH="38 "/>
   <textElement ID="S" KEY="UPLOAD" ENTRY="        Cargar" LENGTH="17 "/>
   <textElement ID="T" ENTRY="Lo siguiente aparece si confirma al final de la lista" LENGTH="68 "/>
  </language>
 </textPool>
 <programDocumentation OBJECT="ZUI5_REPOSITORY_LOAD">
  <language SPRAS="D">
   <textLine TDFORMAT="U1" TDLINE="Programm /UI5/UI5_REPOSITORY_LOAD"/>
   <textLine TDFORMAT="U1" TDLINE="&amp;PURPOSE&amp;"/>
   <textLine TDFORMAT="AS" TDLINE="Sie haben das UI Development Toolkit für HTML5 (SAPUI5) von SAP"/>
   <textLine TDLINE="eingesetzt, um eine SAPUI5-Webanwendung zu entwickeln. Diese wird in"/>
   <textLine TDLINE="einem Webbrowser ausgeführt und durch Dateien repräsentiert, die"/>
   <textLine TDLINE="üblicherweise in Ordnern abgelegt sind, die sich im lokalen Dateisystem"/>
   <textLine TDLINE="Ihres Computers befinden."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Sie wollen die SAPUI5-Anwendungsdateien aus dem lokalen Dateisystem in"/>
   <textLine TDLINE="die SAPUI5-ABAP-Repository laden, die sich auf einem SAP NetWeaver Web"/>
   <textLine TDLINE="Application Server ABAP 7.00 oder höher befindet. Die Anwendung kann nun"/>
   <textLine TDLINE="von einen Benutzer mit einer Browser-URL, die diesen Server zum Ziel"/>
   <textLine TDLINE="hat, aufgerufen werden."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Sie wollen die Anwendungsdateien, die sich auf einem SAP NetWeaver Web"/>
   <textLine TDLINE="Application Server befinden, in ein lokales Dateisystem auf Ihrem"/>
   <textLine TDLINE="Computer herunterladen, um sie zu bearbeiten, erweitern oder debuggen."/>
   <textLine TDFORMAT="U1" TDLINE="&amp;INTEGRATION&amp;"/>
   <textLine TDFORMAT="B1" TDLINE="Bei der SAPUI5-ABAP-Repository handelt es sich nicht nur um eine"/>
   <textLine TDLINE="Funktion für das Einsetzen von SAPUI5-Anwendungen auf einem Webserver,"/>
   <textLine TDLINE="sie fungiert auch als Quell-Code- und Version-Control-System sowie als"/>
   <textLine TDLINE="Transportfunktion Ihrer Anwendung und damit verbundener Korrekturen zu"/>
   <textLine TDLINE="Ihren Kunden und Mitarbeitern."/>
   <textLine TDFORMAT="B1" TDLINE="Wenn Sie die Software-Komponente SAP UI5 TEAM PROVIDER ON 731 (UI5_731)"/>
   <textLine TDLINE="auf Ihrem SAP NetWeaver Web Application Server ABAP 7.31 SPS 04, oder"/>
   <textLine TDLINE="höher, installiert haben, können Sie das SAPUI5 ABAP Repository Provider"/>
   <textLine TDLINE="Eclipse Plug-In verwenden, um Ihre lokalen Anwendungsdateien direkt mit"/>
   <textLine TDLINE="der SAPUI5-ABAP-Repository zu synchronisieren. In diesem Fall benötigen"/>
   <textLine TDLINE="Sie das hier beschriebene ABAP-Programm nicht."/>
   <textLine TDFORMAT="B1" TDLINE="Als Quelle für den Upload-Vorgang können Sie das Arbeitsverzeichnis"/>
   <textLine TDLINE="einer Quell-Code-Management-Umgebung, beispielsweise git, verwenden."/>
   <textLine TDLINE="Dies ist dann von Interesse, wenn in einem Team Entwicklungsaufgaben"/>
   <textLine TDLINE="ausgeführt werden."/>
   <textLine TDFORMAT="U1" TDLINE="&amp;PREREQUISITES&amp;"/>
   <textLine TDFORMAT="B1" TDLINE="SAP NetWeaver Web Application Server ABAP 7.00 und höher, inklusive UI"/>
   <textLine TDLINE="Add-On."/>
   <textLine TDFORMAT="B1" TDLINE="Zum Betrieb benötigen Sie gegebenenfalls Zugriff auf folgende"/>
   <textLine TDLINE="Berechtigungsobjekte: S_DEVELOP, S_ICF_ADM, S_TCODE, S_TRANSPRT, S_CTS"/>
   <textLine TDFORMAT="=" TDLINE="_ADMI und S_CTS_SADM.Weitere Hinweise finden Sie im Security Guide."/>
   <textLine TDFORMAT="U1" TDLINE="&amp;FEATURES&amp;"/>
   <textLine TDFORMAT="B1" TDLINE="Upload von SAPUI5-Anwendungen aus lokalem Dateisystem in die"/>
   <textLine TDLINE="SAPUI5-ABAP-Repository auf einem SAP NetWeaver Web Application Server A"/>
   <textLine TDFORMAT="=" TDLINE="BAP"/>
   <textLine TDFORMAT="B1" TDLINE="Download von SAPUI5-Anwendungen in lokales Dateisystem Ihres Computers"/>
   <textLine TDFORMAT="B1" TDLINE="Löschen bestehender SAPUI5-Anwendungen aus der SAPUI5-ABAP-Repository"/>
   <textLine TDFORMAT="U1" TDLINE="Betriebsanleitung"/>
   <textLine TDFORMAT="B1" TDLINE="Starten Sie das Programm in Transaktion SE38."/>
   <textLine TDFORMAT="B1" TDLINE="Lesen Sie die angezeigten Erläuterungen."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Beachten Sie, dass eine Standard-Codepage angezeigt wird. Diese können"/>
   <textLine TDLINE="Sie später überschreiben, wenn der Vorgang auf der SAPUI5-ABA"/>
   <textLine TDFORMAT="=" TDLINE="P-Repository ausgeführt wurde."/>
   <textLine TDFORMAT="B1" TDLINE="Geben Sie den Namen der SAPUI5-Anwendung an, die Sie anlegen,"/>
   <textLine TDLINE="herunterladen oder löschen wollen."/>
   <textLine TDFORMAT="B1" TDLINE="Wählen Sie den gewünschten Vorgang aus und starten Sie diesen mittels"/>
   <textLine TDLINE='der F8-Taste oder der Drucktaste &quot;Ausführen&quot; auf dem UI.'/>
   <textLine TDFORMAT="B1" TDLINE="Geben Sie die benötigten Eingabedaten an."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Für Up- und Downloads müssen Sie ein lokales Verzeichnis auswählen, in"/>
   <textLine TDLINE="das Sie hochladen wollen oder das als Download-Ziel fungieren soll."/>
   <textLine TDLINE='Geben Sie die Codepage Ihrer Quelldateien vom Typ &quot;Text&quot; an, aus der die'/>
   <textLine TDLINE="Anwendung besteht. Um den eingebauten Standard zu verwenden, lassen Sie"/>
   <textLine TDLINE="dieses Feld leer."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Für den Upload müssen Sie einen ABAP-Transport angeben. Falls Sie eine"/>
   <textLine TDLINE="neue SAPUI5-Anwendung anlegen, müssen Sie auch ein ABAP-Paket festlegen."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Bei Bedarf haben Sie die Möglichkeit, die Zeilenenden der hochzuladenden"/>
   <textLine TDLINE="Textdateien anzupassen. Dies kann hilfreich sein, wenn Ihre Eingabe vom"/>
   <textLine TDLINE="UI5-ABAP-Repository nicht akzeptiert wird. Je nach installiertem Support"/>
   <textLine TDLINE="Package erwartet das UI5-ABAP-Repository gegebenenfalls Textdateien im"/>
   <textLine TDLINE="Windows-Format ([Wagenrücklauf] + [Zeilenvorschub]) und konsistente"/>
   <textLine TDLINE="Zeilenenden in jeder Datei."/>
   <textLine TDFORMAT="B1" TDLINE="Prüfen Sie die Vorschau des Vorgangs. Hier sehen Sie, welche Dateien und"/>
   <textLine TDLINE="Ordner gelöscht, angelegt oder aktualisiert werden."/>
   <textLine TDFORMAT="B1" TDLINE="Wenn dies Ihre Erwartungen nicht erfüllt, können Sie folgende Maßnahmen"/>
   <textLine TDLINE="ergreifen:"/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE='Legen Sie die Textdatei &quot;.Ui5RepositoryIgnore&quot; an oder ändern sie diese.'/>
   <textLine TDLINE="Jede Zeile beschreibt ein Dateimuster, das angibt, welche Dateien"/>
   <textLine TDLINE="während des Up- oder Downloads ignoriert werden sollen. Die Zeile darf"/>
   <textLine TDLINE="einen Substring des Dateipfads oder einen regulären Ausdruck, der mit"/>
   <textLine TDLINE="&apos;^&apos; beginnt und auf &apos;$&apos; endet, enthalten. Diese Einstellung übersteuert"/>
   <textLine TDLINE="den eingebauten Standard."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE='Legen Sie die Dateien &quot;.Ui5RepositoryTextFiles&quot; oder'/>
   <textLine TDLINE='&quot;.Ui5RepositoryTextFiles&quot; an, oder ändern Sie diese. Sie werden'/>
   <textLine TDLINE="verwendet, um zusätzlich zum eingebauten Standard Text- und"/>
   <textLine TDLINE="Binär-Content zu identifizieren."/>
   <textLine TDFORMAT="B1" TDLINE="Starten Sie den Vorgang mit einem Mausklick auf den grünen Punkt am Ende"/>
   <textLine TDLINE="der Vorschau."/>
   <textLine TDFORMAT="B1" TDLINE="Prüfen Sie das Ergebnis:"/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Für einen Upload-Vorgang, prüfen Sie, ob die SAPUI5-Anwendung in einem"/>
   <textLine TDLINE="Webbrowser aufgerufen werden kann. Verwenden Sie eine URL, die Ihren SAP"/>
   <textLine TDLINE="NetWeaver Web Application Server als Ziel hat. Hierzu können Sie"/>
   <textLine TDLINE="üblicherweise das Kontextmenü der ABAP Workbench (Transaktion SE80) auf"/>
   <textLine TDLINE="der Seite index.html verwenden. Diese befindet sich in derjenigen"/>
   <textLine TDLINE="BSP-Repository, die mit Ihrer SAPUI5-Anwendung übereinstimmt."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Wenn Sie detailliertere Informationen wünschen, können Sie auch die"/>
   <textLine TDLINE="BSP-Anwendung desselben Namens wie die SAPUI5-Anwendung prüfen. Diese"/>
   <textLine TDLINE="wird als Container für Ihre Anwendung verwendet und muss sämtliche"/>
   <textLine TDLINE="hochgeladenen Dateien und Ordner enthalten. Manche der Datei- oder"/>
   <textLine TDLINE="Ordnernamen können gegebenenfalls anders (als GUIDs) lauten, da die"/>
   <textLine TDLINE="BSP-Repository nicht alle Namen akzeptiert. Um Content mit geändertem"/>
   <textLine TDLINE="Namen zu identifizieren, prüfen Sie die Datei"/>
   <textLine TDLINE='&quot;UI5RepositoryPathMapping.xml&quot;.'/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Prüfen Sie für Download-Vorgänge die betreffenden Dateien und Ordner."/>
   <textLine TDLINE="Bestätigen Sie, dass neuer Content hinzugefügt und obsolete Dateien aus"/>
   <textLine TDLINE="Ihrem lokalen Dateisystem entfernt wurden."/>
  </language>
  <language SPRAS="E">
   <textLine TDFORMAT="U1" TDLINE="Report /UI5/UI5_REPOSITORY_LOAD"/>
   <textLine TDFORMAT="U1" TDLINE="&amp;PURPOSE&amp;"/>
   <textLine TDFORMAT="AS" TDLINE="You have used SAP&apos;s UI development toolkit for HTML5 (SAPUI5) to develop"/>
   <textLine TDLINE="a SAPUI5 web application. It is operated in a web browser and is"/>
   <textLine TDLINE="represented by a set of files typically grouped in folders located on"/>
   <textLine TDLINE="the local file system of your computer."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="You would like to upload the SAPUI5 application files from the local"/>
   <textLine TDLINE="file system on your personal computer to the SAPUI5 ABAP Repository"/>
   <textLine TDLINE="located on a SAP NetWeaver Web Application Server ABAP 7.00 or above."/>
   <textLine TDLINE="The application may now be called by a user with a browser URL pointing"/>
   <textLine TDLINE="to that server."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="You would like to download the application files located on a SAP"/>
   <textLine TDLINE="NetWeaver Web Application Server to the local file system on your PC for"/>
   <textLine TDLINE="modification, enhancement or debugging purposes."/>
   <textLine TDFORMAT="U1" TDLINE="&amp;INTEGRATION&amp;"/>
   <textLine TDFORMAT="B1" TDLINE="The SAPUI5 ABAP Repository not only is a measure to deploy a SAPUI5"/>
   <textLine TDLINE="application on a web server, but also serves as a source code and"/>
   <textLine TDLINE="version control system and a measure to transport your application and"/>
   <textLine TDLINE="related corrections to your customers and employees."/>
   <textLine TDFORMAT="B1" TDLINE="In case you have the software component SAP UI5 TEAM PROVIDER ON 731"/>
   <textLine TDLINE=" (UI5_731) installed on your SAP NetWeaver Web Application Server ABAP"/>
   <textLine TDLINE="7.31 SPS 04 or later, you may use the SAPUI5 ABAP Repository Team"/>
   <textLine TDLINE="Provider Eclipse plugin to directly synchronize your local application"/>
   <textLine TDLINE="files with the SAPUI5 ABAP repository. Then you do not need the ABAP"/>
   <textLine TDLINE="report described here."/>
   <textLine TDFORMAT="B1" TDLINE="As a source for the upload operation the working directory of a source"/>
   <textLine TDLINE="code management environment - e.g. git - may be used. This is of"/>
   <textLine TDLINE="interest in case development is done in a team."/>
   <textLine TDFORMAT="U1" TDLINE="&amp;PREREQUISITES&amp;"/>
   <textLine TDFORMAT="B1" TDLINE="SAP NetWeaver Web Application Server ABAP 7.00 and later including UI"/>
   <textLine TDLINE="Add-On."/>
   <textLine TDFORMAT="B1" TDLINE="For operation you may need authorization for the following authorization"/>
   <textLine TDLINE="objects: S_DEVELOP, S_ICF_ADM, S_TCODE, S_TRANSPRT, S_CTS_ADMI and"/>
   <textLine TDLINE="S_CTS_SADM. Check the security guide."/>
   <textLine TDFORMAT="U1" TDLINE="&amp;FEATURES&amp;"/>
   <textLine TDFORMAT="B1" TDLINE="Upload a SAPUI5 application from the local file system to the SAPUI5"/>
   <textLine TDLINE="ABAP Repository located on a SAP NetWeaver Web Application Server ABAP"/>
   <textLine TDFORMAT="B1" TDLINE="Download a SAPUI5 application to the local file system on your PC"/>
   <textLine TDFORMAT="B1" TDLINE="Delete an existing SAPUI5 application from the SAPUI5 ABAP Repository."/>
   <textLine TDFORMAT="U1" TDLINE="Instructions for Use"/>
   <textLine TDFORMAT="B1" TDLINE="Use transaction SE38 to start the report."/>
   <textLine TDFORMAT="B1" TDLINE="Read the explanations displayed."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Observe that a default code page is indicated. You may overwrite it"/>
   <textLine TDLINE="later, when the operation on the SAPUI5 ABAP Repository is performed."/>
   <textLine TDFORMAT="B1" TDLINE="Enter the name of the SAPUI5 application you would like to create,"/>
   <textLine TDLINE="download or delete."/>
   <textLine TDFORMAT="B1" TDLINE="Select the desired operation and use the F8 key or the execute button to"/>
   <textLine TDLINE="start the report."/>
   <textLine TDFORMAT="B1" TDLINE="Provide the inputs required."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="For the up- and download you need to choose a directory in the local"/>
   <textLine TDLINE="file system to be uploaded or to be used as the target for a download."/>
   <textLine TDLINE="Specify the code page of your text-type source files the application"/>
   <textLine TDLINE="consists of. Leave it empty to use the built-in default."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="For the upload you have to specify an ABAP transport and in case you"/>
   <textLine TDLINE="create a new SAPUI5 application also an ABAP package."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="If necessary you may use the option offered to adjust the line endings"/>
   <textLine TDLINE="of the text files to be uploaded. This may be helpful if your input has"/>
   <textLine TDLINE="not been accepted by the UI5 ABAP repository. Depending on the support"/>
   <textLine TDLINE="package installed&lt;(&gt;,&lt;)&gt; the UI5 ABAP repository may expect"/>
   <textLine TDLINE="Windows-style text files ([carriage return] + [line feed]) and"/>
   <textLine TDLINE="consistent line endings within each file."/>
   <textLine TDFORMAT="B1" TDLINE="Inspect the operation preview which indicates which files and folders"/>
   <textLine TDLINE="are going to be deleted or created or updated."/>
   <textLine TDFORMAT="B1" TDLINE="In case you are not satisfied you may consider the following steps:"/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Create or change the text file &apos;.Ui5RepositoryIgnore&apos;. Each line"/>
   <textLine TDLINE="describes a file pattern indicating which files should be ignored during"/>
   <textLine TDLINE="up- and download. The line may contain a substring of the file path or a"/>
   <textLine TDLINE="regular expression starting with &apos;^&apos; and ending with &apos;$&apos;. This setting"/>
   <textLine TDLINE="overwrites the built-in default."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Create or change the files &apos;.Ui5RepositoryTextFiles&apos; or"/>
   <textLine TDLINE="&apos;.Ui5RepositoryTextFiles&apos; used to identify text and binary content in"/>
   <textLine TDLINE="addition to the built-in default."/>
   <textLine TDFORMAT="B1" TDLINE="Start the operation with a click on the green hot spot at the end of the"/>
   <textLine TDLINE="operation preview."/>
   <textLine TDFORMAT="B1" TDLINE="Check the result:"/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="For an upload operation check if the SAPUI5 application can be called in"/>
   <textLine TDLINE="a web browser. Use a URL pointing to your SAP NetWeaver Web Application"/>
   <textLine TDLINE="Server. Typically you may use the context menu in the ABAP Workbench"/>
   <textLine TDLINE="(transaction SE80) on the index.html page located in the BSP repository"/>
   <textLine TDLINE="which corresponds to your SAPUI5 application to do so."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="If you are interested in the details you may also check the BSP"/>
   <textLine TDLINE="application with the same name as the SAPUI5 application. It is used as"/>
   <textLine TDLINE="a container for your application and should contain all the files and"/>
   <textLine TDLINE="folders you have uploaded. Some file or folder names may appear"/>
   <textLine TDLINE="different (as GUIDs) as the BSP repository does not accept all names."/>
   <textLine TDLINE="Have a look into the file &apos;UI5RepositoryPathMapping.xml&apos; to identify"/>
   <textLine TDLINE="content with changed names."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="For a download operation check the files and folders you have retrieved."/>
   <textLine TDLINE="Confirm that new content has been added and obsolete files have been"/>
   <textLine TDLINE="deleted in your local file system."/>
  </language>
  <language SPRAS="P">
   <textLine TDFORMAT="U1" TDLINE="Programa /UI5/UI5_REPOSITORY_LOAD"/>
   <textLine TDFORMAT="U1" TDLINE="&amp;PURPOSE&amp;"/>
   <textLine TDFORMAT="AS" TDLINE="Você utilizou a caixa de ferramentas de desenvolvimento de IU para HTML5"/>
   <textLine TDLINE="(SAPUI5) de SAP para desenvolver uma aplicação Web SAPUI5. Essa é"/>
   <textLine TDLINE="executada em um browser Web e representada mediante files que,"/>
   <textLine TDLINE="normalmente, estão arquivados em pastas que se encontram no sistema de"/>
   <textLine TDLINE="files local do seu computador."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Você pretende carregar os files de aplicação SAPUI5 do sistema de files"/>
   <textLine TDLINE="local para o repositório ABAP SAPUI5 que se encontra em um SAP NetWeaver"/>
   <textLine TDLINE="Web Application Server ABAP 7.00 ou superior. A aplicação pode agora ser"/>
   <textLine TDLINE="chamada por um usuário com um URL de browser que tem este servidor como"/>
   <textLine TDLINE="destino."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Você pretende baixar os files de aplicação que se encontram em um SAP"/>
   <textLine TDLINE="NetWeaver Web Application Server para um sistema de files local no seu"/>
   <textLine TDLINE="computador para processar, ampliar ou depurar os mesmos."/>
   <textLine TDFORMAT="U1" TDLINE="&amp;INTEGRATION&amp;"/>
   <textLine TDFORMAT="B1" TDLINE="No caso do repositório ABAP SAPUI5, não se trata apenas de uma função"/>
   <textLine TDLINE="para a utilização de aplicações SAPUI5 em um servidor da Web, ela"/>
   <textLine TDLINE="funciona também como sistema de texto fonte e de controle de versões e"/>
   <textLine TDLINE="também como função de transporte da sua aplicação e respectivas"/>
   <textLine TDLINE="correções ligadas aos seus clientes e empregados."/>
   <textLine TDFORMAT="B1" TDLINE="Caso você tenha instalado o componente de software SAP UI5 TEAM PROVIDER"/>
   <textLine TDLINE="ON 731 (UI5_731) no seu SAP NetWeaver Web Application Server ABAP 7.31"/>
   <textLine TDLINE="SPS 04, ou superior, pode utilizar o plug-in SAPUI5 ABAP Repository"/>
   <textLine TDLINE="Provider Eclipse para sincronizar os seus files de aplicação locais"/>
   <textLine TDLINE="diretamente com o repositório ABAP SAPUI5. Nesse caso, você não"/>
   <textLine TDLINE="necessita do programa ABAP aqui descrito."/>
   <textLine TDFORMAT="B1" TDLINE="Como fonte da operação de upload, você pode utilizar o diretório de"/>
   <textLine TDLINE="trabalho de um ambiente de administração de texto fonte, por exemplo,"/>
   <textLine TDLINE="git. Isso tem interesse, caso sejam executadas tarefas de"/>
   <textLine TDLINE="desenvolvimento em uma equipe."/>
   <textLine TDFORMAT="U1" TDLINE="&amp;PREREQUISITES&amp;"/>
   <textLine TDFORMAT="B1" TDLINE="SAP NetWeaver Web Application Server ABAP 7.00 e superior, incluindo"/>
   <textLine TDLINE="add-on de IU."/>
   <textLine TDFORMAT="B1" TDLINE="Para a operação, você pode necessitar do acesso aos seguintes objetos de"/>
   <textLine TDLINE="autorização: S_DEVELOP, S_ICF_ADM, S_TCODE, S_TRANSPRT, S_CTS_ADMI e"/>
   <textLine TDLINE="S_CTS_SADM. Outras notas encontram-se no guia de segurança."/>
   <textLine TDFORMAT="U1" TDLINE="&amp;FEATURES&amp;"/>
   <textLine TDFORMAT="B1" TDLINE="Upload de aplicações SAPUI5 do sistema de files local para o repositório"/>
   <textLine TDLINE="ABAP SAPUI5 em um SAP NetWeaver Web Application Server ABAP"/>
   <textLine TDFORMAT="B1" TDLINE="Download de aplicações SAPUI5 para o sistema de files local do seu"/>
   <textLine TDLINE="computador"/>
   <textLine TDFORMAT="B1" TDLINE="Eliminação de aplicações SAPUI5 existentes do repositório ABAP SAPUI5"/>
   <textLine TDFORMAT="U1" TDLINE="Instruções de uso"/>
   <textLine TDFORMAT="B1" TDLINE="Inicie o programa na transação SE38."/>
   <textLine TDFORMAT="B1" TDLINE="Leia as explicações exibidas."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Considere que um code page padrão é exibido. Esse pode ser sobregravado"/>
   <textLine TDLINE="posteriormente, caso a operação tenha sido executada no repositório ABAP"/>
   <textLine TDLINE="SAPUI5."/>
   <textLine TDFORMAT="B1" TDLINE="Indique o nome da aplicação SAPUI5 que você pretende criar, baixar ou"/>
   <textLine TDLINE="eliminar."/>
   <textLine TDFORMAT="B1" TDLINE="Selecione a operação desejada e inicie a mesma mediante a tecla F8 ou o"/>
   <textLine TDLINE='botão &quot;Executar&quot; na IU.'/>
   <textLine TDFORMAT="B1" TDLINE="Indique os dados de entrada necessários."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Para uploads e downloads, é necessário selecionar um diretório local"/>
   <textLine TDLINE="para o qual você pretende efetuar o upload ou que deve funcionar como"/>
   <textLine TDLINE="destino de download. Indique o code page dos seus files de origem do"/>
   <textLine TDLINE='tipo &quot;Texto&quot;, em que consiste a aplicação. Para utilizar o padrão'/>
   <textLine TDLINE="predefinido, deixe esse campo em branco."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="É necessário indicar um transporte ABAP para o upload. Caso você crie"/>
   <textLine TDLINE="uma nova aplicação SAPUI5, você deve também determinar um pacote ABAP."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Se necessário, você tem a possibilidade de ajustar os fins de linha dos"/>
   <textLine TDLINE="files de texto a serem carregados. Isso pode ser útil se a sua entrada"/>
   <textLine TDLINE="não for aceita pelo repositório ABAP UI5. Em função do Support Package"/>
   <textLine TDLINE="instalado, o repositório ABAP UI5 espera files de texto em formato"/>
   <textLine TDLINE="Windows ([retorno de carro] + [avanço de linha]) e fins de linha"/>
   <textLine TDLINE="consistentes para cada file."/>
   <textLine TDFORMAT="B1" TDLINE="Verifique a visualização da operação. Aqui você vê os files e pastas que"/>
   <textLine TDLINE="são eliminados, criados ou atualizados."/>
   <textLine TDFORMAT="B1" TDLINE="Caso isso não satisfaça as suas expectativas, você pode tomar as"/>
   <textLine TDLINE="seguintes medidas:"/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE='Crie o file de texto &quot;.Ui5RepositoryIgnore&quot; ou modifique o mesmo. Cada'/>
   <textLine TDLINE="linha descreve um modelo de file que indica os dados que devem ser"/>
   <textLine TDLINE="ignorados durante o upload ou download. A linha deve conter uma"/>
   <textLine TDLINE="subcadeia do caminho de file ou uma expressão regular que começa com &apos;^&apos;"/>
   <textLine TDLINE="e termina em &apos;$&apos;. Essa configuração substitui o padrão predefinido."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE='Crie os files &quot;.Ui5RepositoryTextFiles&quot; ou &quot;.Ui5RepositoryTextFiles&quot; ou'/>
   <textLine TDLINE="modifique os mesmos. Eles são utilizados para identificar também o"/>
   <textLine TDLINE="conteúdo de texto e binário para o padrão predefinido."/>
   <textLine TDFORMAT="B1" TDLINE="Inicie a operação com um clique do mouse no ponto verde no fim da"/>
   <textLine TDLINE="visualização."/>
   <textLine TDFORMAT="B1" TDLINE="Verifique o resultado:"/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Para uma operação de upload, verifique se a aplicação SAPUI5 pode ser"/>
   <textLine TDLINE="chamada em um Web browser. Utilize um URL que tem como destino o seu SAP"/>
   <textLine TDLINE="NetWeaver Web Application Server. Para isso, você pode utilizar"/>
   <textLine TDLINE="normalmente o menu de contexto do ABAP Workbench (transação SE80) na"/>
   <textLine TDLINE="página index.html. Ela se encontra no repositório BSP que coincide com a"/>
   <textLine TDLINE="sua aplicação SAPUI5."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Caso você pretenda informações mais detalhadas, pode também verificar a"/>
   <textLine TDLINE="aplicação BSP que tem o mesmo nome que a aplicação SAPUI5. Ela é"/>
   <textLine TDLINE="utilizada como container para a sua aplicação e deve conter todos os"/>
   <textLine TDLINE="files e pastas carregados. Alguns dos nomes de file ou pasta podem ser"/>
   <textLine TDLINE="diferentes (como GUIDs), pois o repositório BSP não aceita todos os"/>
   <textLine TDLINE="nomes. Para identificar o conteúdo com nome modificado, verifique o file"/>
   <textLine TDLINE='&quot;UI5RepositoryPathMapping.xml&quot;.'/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Verifique os files e pastas afetados para as operações de download."/>
   <textLine TDLINE="Confirme se o novo conteúdo foi inserido e se os files obsoletos foram"/>
   <textLine TDLINE="removidos do seu sistema de files local."/>
  </language>
  <language SPRAS="S">
   <textLine TDFORMAT="U1" TDLINE="Programa /UI5/UI5_REPOSITORY_LOAD"/>
   <textLine TDFORMAT="U1" TDLINE="&amp;PURPOSE&amp;"/>
   <textLine TDFORMAT="AS" TDLINE="Ha configurado el UI Development Toolkit para HTML5 (SAPUI5) de SAP para"/>
   <textLine TDLINE="desarrollar una aplicación web SAPUI5. Esta se ejecuta en un navegador"/>
   <textLine TDLINE="web y se representa mediante ficheros que están almacenados en carpetas"/>
   <textLine TDLINE="que se encuentran en el sistema de ficheros local de su ordenador."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Desea cargar ficheros de aplicación SAPUI5 desde el sistema de ficheros"/>
   <textLine TDLINE="local al repository ABAP SAPUI5, que se encuentra en un servidor de"/>
   <textLine TDLINE="aplicación web SAP NetWeaver 7.00 o superior. Sólo un usuario puede"/>
   <textLine TDLINE="llamar la aplicación con un URL de navegador que este servidor tiene"/>
   <textLine TDLINE="como destino."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Desea descargar ficheros de aplicación que se encuentran en un servidor"/>
   <textLine TDLINE="de aplicación web SAP NetWeaver en un sistema de ficheros local de su"/>
   <textLine TDLINE="ordenador, para poder tratarlos, ampliarlos o depurarlos."/>
   <textLine TDFORMAT="U1" TDLINE="&amp;INTEGRATION&amp;"/>
   <textLine TDFORMAT="B1" TDLINE="En el repository ABAP SAPUI5 no se trata sólo de una función para"/>
   <textLine TDLINE="configurar aplicaciones SAPUI5 en un servidor web, también se trata como"/>
   <textLine TDLINE="un sistema de códigos fuente y de control de versión así como función de"/>
   <textLine TDLINE="transporte de su aplicación para correcciones vinculadas con sus"/>
   <textLine TDLINE="clientes y empleados."/>
   <textLine TDFORMAT="B1" TDLINE="Si ha instalado el componente de software SAP UI5 TEAM PROVIDER ON 731"/>
   <textLine TDLINE="(UI5_731) en su servidor de aplicación web SAP NetWeaver ABAP 7.31 SPS"/>
   <textLine TDLINE="04 o superior, podrá utilizar el plug-in de repository ABAP SAPUI5"/>
   <textLine TDLINE="Provider Eclipse, para sincronizar directamente sus ficheros de"/>
   <textLine TDLINE="aplicación locales con el repository ABAP SAPUI5. En este caso, no"/>
   <textLine TDLINE="necesitará el programa ABAP descrito."/>
   <textLine TDFORMAT="B1" TDLINE="Como fuente para la operación de carga, podrá utilizar el directorio de"/>
   <textLine TDLINE="trabajo de un entorno de gestión de códigos fuente, por ejemplo git."/>
   <textLine TDLINE="Esto es interesante si se han ejecutado en una tarea de desarrollo de"/>
   <textLine TDLINE="equipo."/>
   <textLine TDFORMAT="U1" TDLINE="&amp;PREREQUISITES&amp;"/>
   <textLine TDFORMAT="B1" TDLINE="Servidor de aplicación web SAP NetWeaver ABAP 7.00 y superior, incluido"/>
   <textLine TDLINE="el add-on IU."/>
   <textLine TDFORMAT="B1" TDLINE="Para funcionar, necesitará si se da el caso acceso a los siguientes"/>
   <textLine TDLINE="objetos de autorización S_DEVELOP, S_ICF_ADM, S_TCODE, S_TRANSPRT,"/>
   <textLine TDLINE="S_CTS_ADMI y S_CTS_SADM. Puede encontrar otras notas en SAP Security"/>
   <textLine TDLINE="Guide."/>
   <textLine TDFORMAT="U1" TDLINE="&amp;FEATURES&amp;"/>
   <textLine TDFORMAT="B1" TDLINE="Carga de aplicaciones SAPUI5 del sistema de ficheros local al repository"/>
   <textLine TDLINE="ABAP SAPUI5 en un servidor de aplicación web SAP NetWeaver ABAP"/>
   <textLine TDFORMAT="B1" TDLINE="Descarga de aplicaciones SAPGUI5 en el sistema de ficheros local de su"/>
   <textLine TDLINE="ordenador"/>
   <textLine TDFORMAT="B1" TDLINE="Borrado de aplicaciones SAPUI5 existentes del repository ABAP SAPUI5"/>
   <textLine TDFORMAT="U1" TDLINE="Instrucciones de funcionamiento"/>
   <textLine TDFORMAT="B1" TDLINE="Inicie el programa en la transacción SE38."/>
   <textLine TDFORMAT="B1" TDLINE="Lea las explicaciones visualizadas."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Tenga en cuenta que se visualiza un code page estándar. Este se podrá"/>
   <textLine TDLINE="sobreescribir más tarde, después de haber ejecutado la operación en el"/>
   <textLine TDLINE="repository ABAP SAPUI5."/>
   <textLine TDFORMAT="B1" TDLINE="Indique el nombre de la aplicación SAPUI5 que desea crear, descargar o"/>
   <textLine TDLINE="borrar."/>
   <textLine TDFORMAT="B1" TDLINE="Seleccione la operación deseada e iníciela mediante el botón F8 o el"/>
   <textLine TDLINE='pulsador &quot;Ejecutar&quot; en la IU.'/>
   <textLine TDFORMAT="B1" TDLINE="Indique los datos de entrada necesarios."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Para cargas y descargas, deberá seleccionar un directorio local en el"/>
   <textLine TDLINE="que desea cargar o al que quiere indicar como destino de descarga."/>
   <textLine TDLINE='Indique el code page de sus ficheros fuente de tipo &quot;Texto&quot; de los que'/>
   <textLine TDLINE="se compone la aplicación. Para utilizar el estándar configurado, deje"/>
   <textLine TDLINE="este campo en blanco."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Para la carga, deberá indicar un transporte ABAP. En caso de que cree"/>
   <textLine TDLINE="una aplicación SAPUI5 nueva, deberá especificar también un paquete ABAP."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Si es necesario tiene la posibilidad de ajustar los finales de las"/>
   <textLine TDLINE="líneas de los ficheros de texto a cargar. Esto puede ayudarle cuando no"/>
   <textLine TDLINE="se aceptan sus entradas del repository ABAP UI5. En función del Support"/>
   <textLine TDLINE="Package instalado, el repository ABAP UI5 espera en su caso ficheros de"/>
   <textLine TDLINE="texto en el formato de Windows ([retorno de vehículo] + [avance de"/>
   <textLine TDLINE="línea]) y los finales de líneas consistentes en cada fichero."/>
   <textLine TDFORMAT="B1" TDLINE="Verifique la vista previa de la operación. Aquí verá qué datos y"/>
   <textLine TDLINE="carpetas se borran, crean o actualizan."/>
   <textLine TDFORMAT="B1" TDLINE="Si no cumple estos requisitos, podrá poner en práctica las siguientes"/>
   <textLine TDLINE="medidas:"/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE='Cree el fichero de texto &quot;.Ui5RepositoryIgnore&quot; o modifíquelo. Cada'/>
   <textLine TDLINE="línea describe un modelo de fichero que indica qué ficheros deben"/>
   <textLine TDLINE="ignorarse durante la carga o descarga. La línea debe contener un"/>
   <textLine TDLINE="substring de la vía de acceso a fichero o una expresión normal que"/>
   <textLine TDLINE='empiece con &quot;^&quot; o acabe &quot;$&quot;. Esta configuración sobeescribe el estándar'/>
   <textLine TDLINE="configurado."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE='Cree o modifique los ficheros &quot;.Ui5RepositoryTextFiles&quot; o'/>
   <textLine TDLINE='&quot;.Ui5RepositoryTextFiles&quot;. Se utilizan para identificar además el'/>
   <textLine TDLINE="contenido de texto estándar y binario configurado."/>
   <textLine TDFORMAT="B1" TDLINE="Inicie la operación haciendo clic sobre el punto verde al final de la"/>
   <textLine TDLINE="vista previa."/>
   <textLine TDFORMAT="B1" TDLINE="Verifique el resultado:"/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Para una operación de carga, verifique si la aplicación SAPUI5 puede"/>
   <textLine TDLINE="llamarse en un navegador web. Utilice un URL que tenga como destino su"/>
   <textLine TDLINE="servidor de aplicación web SAP NetWeaver. Para ello, puede utilizar el"/>
   <textLine TDLINE="menú contextual del weokbench ABAP  (transacción SE80) en la página"/>
   <textLine TDLINE="index.html. Esta se encuentra en cada uno de los repositories BSP que"/>
   <textLine TDLINE="coinciden con su aplicación SAPUI5."/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Si desea obtener información detallada, también puede verificar la"/>
   <textLine TDLINE="aplicación BSP del mismo nombre que la aplicación SAPUI5. Esta se"/>
   <textLine TDLINE="utiliza como container para su aplicación y debe contener los ficheros y"/>
   <textLine TDLINE="las carpetas cargados totales. La gram mayoría de los nombres de fichero"/>
   <textLine TDLINE="o de carpeta también pueden ser diferentes (como GUIDs), porque el"/>
   <textLine TDLINE="repository BSP no acepta todos los nombres. Para identificar contenido"/>
   <textLine TDLINE="con nombre modificado, verifique el fichero"/>
   <textLine TDLINE='&quot;UI5RepositoryPathMapping.xml&quot;.'/>
   <textLine TDFORMAT="/"/>
   <textLine TDFORMAT="/" TDLINE="Verifique los archivos y las carpetas afectados para operaciones de"/>
   <textLine TDLINE="descarga. Confirme que el contenido nuevo se ha añadido y que se han"/>
   <textLine TDLINE="eliminado los ficheros obsoletos de su sistema de ficheros local."/>
  </language>
 </programDocumentation>
 <source>*&amp;---------------------------------------------------------------------*
*&amp; Report  UI5_REPOSITORY_LOAD
*&amp;
*&amp;---------------------------------------------------------------------*
*&amp;
*&amp; This report implements the up- and download of a SAPUI5 application
*&amp; into an UI5 Repository.
*&amp;
*&amp; Furthermore it is possible to delete a UI5 Repository
*&amp;
*&amp;---------------------------------------------------------------------*

REPORT zui5_repository_load LINE-SIZE 255.

TYPE-POOLS abap.

************************************************************************
************************************************************************
*                                                                      *
*                UI5 Repositor Load - Local Helper Classes             *
*                                                                      *
************************************************************************
************************************************************************

************************************************************************
* Class LCL_FUNCTION
*
* provides some helper functions.
************************************************************************
CLASS lcl_function DEFINITION.
  PUBLIC SECTION.

    TYPES:          x255_table                   TYPE STANDARD TABLE OF raw255.
    CLASS-METHODS:  adjust_line_endings          IMPORTING iv_string        TYPE string
                                                 RETURNING VALUE(rv_string) TYPE string,
      max                          IMPORTING a             TYPE i DEFAULT -999999
                                             b             TYPE i DEFAULT -999999
                                             c             TYPE i DEFAULT -999999
                                             d             TYPE i DEFAULT -999999
                                             e             TYPE i DEFAULT -999999
                                             f             TYPE i DEFAULT -999999
                                   RETURNING VALUE(rv_max) TYPE i,
      text_matches_pattern         IMPORTING iv_text                        TYPE string
                                             iv_pattern_list                TYPE string_table
                                   RETURNING VALUE(rv_text_matches_pattern) TYPE abap_bool,
      xstring2xtable               IMPORTING iv_xstring TYPE xstring
                                   EXPORTING ev_xtable  TYPE x255_table
                                             ev_size    TYPE int4.

ENDCLASS.                    &quot;lcl_function DEFINITION
*----------------------------------------------------------------------*
*       CLASS abap_unit_test2 DEFINITION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS abap_unit_test2 DEFINITION FOR TESTING.
  PUBLIC SECTION.
*    DATA lcl_class TYPE REF TO lcl_function.
    METHODS: run FOR TESTING.
ENDCLASS.                    &quot;ABAP_UNIT_TEST DEFINITION
*----------------------------------------------------------------------*
*       CLASS abap_unit_test IMPLEMENTATION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS abap_unit_test2 IMPLEMENTATION.

  METHOD run.
    DATA new_string TYPE string.
    DATA old_string TYPE string VALUE &apos;Here is a text representing a file content&apos;.
    DATA max TYPE i.

    new_string = lcl_function=&gt;adjust_line_endings( iv_string = old_string ).
    cl_aunit_assert=&gt;assert_equals( exp = old_string act = new_string ).
    max = lcl_function=&gt;max( a = 1 b = 2 c = 3 d = 4 e = 5 f = 6 ).
    cl_aunit_assert=&gt;assert_equals( exp = 6 act = max msg = &apos;Maximum value not found&apos; ).
    DATA matched TYPE abap_bool.
    DATA strable TYPE string_table.
    APPEND &apos;He&apos; TO strable.
    APPEND &apos;Hi&apos; TO strable.
    matched = lcl_function=&gt;text_matches_pattern( iv_text = &apos;Here comes the sun&apos; iv_pattern_list = strable ).
    cl_aunit_assert=&gt;assert_equals( exp = abap_true act = matched msg = &apos;Match not found&apos; ).
    CLEAR strable.
    APPEND &apos;Xx&apos; TO strable.
    APPEND &apos;Yy&apos; TO strable.
    matched = lcl_function=&gt;text_matches_pattern( iv_text = &apos;Die Quadrate der Umlaufzeiten verhalten sich wie die dritten Potenzen der mittleren Entfernung von der Sonne&apos; iv_pattern_list = strable ).
    cl_aunit_assert=&gt;assert_equals( exp = abap_false act = matched msg = &apos;Match found&apos; ).
    DATA xstr TYPE xstring.
    DATA xtab TYPE STANDARD TABLE OF raw255.
    DATA size TYPE int4.
    CALL METHOD lcl_function=&gt;xstring2xtable( EXPORTING iv_xstring = xstr IMPORTING ev_xtable = xtab ev_size = size ).
    cl_aunit_assert=&gt;assert_equals( exp = &apos;&apos; act = &apos;&apos; msg = &apos;Convertion failed&apos;).
  ENDMETHOD.                    &quot;run
ENDCLASS.                    &quot;abap_unit_test IMPLEMENTATION
************************************************************************
CLASS lcl_function IMPLEMENTATION.

  METHOD adjust_line_endings.

    DATA: string             TYPE string,
          regular_expression TYPE string,
          replace_with       TYPE string.
    string = iv_string.
    regular_expression = &apos;\r\n|\n\r|\n|\r&apos;.
    replace_with = &apos;\r\n&apos;.
    REPLACE ALL OCCURRENCES OF REGEX regular_expression IN string WITH replace_with.

    rv_string = string.

  ENDMETHOD.                    &quot;adjust_line_endings

  METHOD max.
    DATA: max TYPE i.
    max = a.
    IF ( b &gt; a ). max = b . ENDIF.
    IF ( c &gt; max ). max = c . ENDIF.
    IF ( d &gt; max ). max = d . ENDIF.
    IF ( e &gt; max ). max = e . ENDIF.
    IF ( f &gt; max ). max = f . ENDIF.
    rv_max = max.
  ENDMETHOD.                    &quot;max

  METHOD text_matches_pattern.

*   Initialize
    rv_text_matches_pattern = abap_false.

*   Check if string matches a pattern of the list passed on entry
    DATA: pattern                  TYPE string,
          regular_expression_check TYPE abap_bool,
          match_count              TYPE i.
    LOOP AT iv_pattern_list INTO pattern.

*     Skip empty lines
      IF strlen( pattern ) = 0. CONTINUE. ENDIF.

*     Determine if pattern to be treated as a regular expression or a substring
      DATA: first_char       TYPE c, last_char TYPE c, last_char_offset TYPE i.
      last_char_offset = strlen( pattern ) - 1.
      first_char = pattern(1).
      last_char = pattern+last_char_offset(1).
      DATA: is_regular_expression TYPE abap_bool. is_regular_expression = abap_false.
      IF first_char = &apos;^&apos; AND last_char = &apos;$&apos;. is_regular_expression = abap_true. ENDIF.

*     Check
      IF is_regular_expression = abap_true.
        TRY.
            FIND REGEX pattern IN iv_text IGNORING CASE MATCH COUNT match_count.
          CATCH cx_root.
        ENDTRY.
      ELSE.
        FIND pattern IN iv_text IGNORING CASE MATCH COUNT match_count.
      ENDIF.
      IF match_count &gt; 0. rv_text_matches_pattern = abap_true. RETURN. ENDIF.
    ENDLOOP.

  ENDMETHOD.                    &quot;text_matches_pattern

* Converts xstring into table of xstrings
  METHOD xstring2xtable.

*   Calculate size
    IF ev_size IS SUPPLIED.
      ev_size = xstrlen( iv_xstring ).
    ENDIF.

*   Split xstring into lines
    DATA: xline   TYPE x255,
          xstring TYPE xstring.
    FREE ev_xtable.
    xstring = iv_xstring.
    WHILE xstring IS NOT INITIAL.
      xline = xstring.
      APPEND xline TO ev_xtable.
      SHIFT xstring LEFT BY 255 PLACES IN BYTE MODE.
    ENDWHILE.

*   Clean up
    CLEAR xstring.

  ENDMETHOD.                    &quot;xstring2table

ENDCLASS.                    &quot;lcl_function IMPLEMENTATION


************************************************************************
* Class LCL_EXCEPTION
*
* is the exception to handle errors in this report.
************************************************************************
CLASS lcx_exception DEFINITION INHERITING FROM cx_static_check.
ENDCLASS.                    &quot;lcx_exception DEFINITION


************************************************************************
* Class LCL_CANCELED
*
* indicates processing has been canceled by the user.
************************************************************************
CLASS lcx_canceled DEFINITION INHERITING FROM cx_dynamic_check.
ENDCLASS.                    &quot;lcx_canceled DEFINITION


************************************************************************
* Class lcl_external_code_page
*
* supports conversion of external code page into abap code page.
************************************************************************
CLASS lcl_external_code_page DEFINITION.

  PUBLIC SECTION.

    TYPE-POOLS     abap.
    CLASS-DATA:    no_code_page                TYPE cpcodepage VALUE &apos;0&apos;.
    CLASS-METHODS: create                      IMPORTING iv_code_page_name            TYPE string
                                               RETURNING VALUE(rv_external_code_page) TYPE REF TO lcl_external_code_page
                                               RAISING   lcx_exception,
      for_sapgui_installation     RETURNING VALUE(rv_external_code_page) TYPE REF TO lcl_external_code_page
                                  RAISING   lcx_exception.
    METHODS:       get_abap_encoding           RETURNING VALUE(rv_abap_encoding) TYPE cpcodepage
                                               RAISING   lcx_exception,
      get_java_encoding           RETURNING VALUE(rv_java_encoding) TYPE string
                                  RAISING   lcx_exception.
    DATA:          name TYPE string READ-ONLY,
                   kind TYPE cpattrkind READ-ONLY.

ENDCLASS.                    &quot;lcl_external_code_page DEFINITION
*----------------------------------------------------------------------*
*       CLASS abap_unit_test DEFINITION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS abap_unit_test DEFINITION FOR TESTING.
  PUBLIC SECTION.
    DATA lcl_class TYPE REF TO lcl_external_code_page.
    METHODS: run FOR TESTING.
ENDCLASS.                    &quot;ABAP_UNIT_TEST DEFINITION
*----------------------------------------------------------------------*
*       CLASS abap_unit_test IMPLEMENTATION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS abap_unit_test IMPLEMENTATION.

  METHOD run.
    DATA page TYPE cpcodepage.
    TRY.
        lcl_class = lcl_external_code_page=&gt;create( iv_code_page_name = &apos;&apos; ).
        cl_aunit_assert=&gt;fail(&apos;Empty code page not excepted&apos;).
      CATCH lcx_exception.
        TRY.
            lcl_class = lcl_external_code_page=&gt;create( iv_code_page_name = &apos;0420&apos; ).
          CATCH lcx_exception.
            cl_aunit_assert=&gt;fail(&apos;Code instantiation failed&apos;).
        ENDTRY.
*        CLEAR lcl_class.
*        TRY.
*            lcl_class = lcl_external_code_page=&gt;for_sapgui_installation( ).
*          CATCH lcx_exception.
*            cl_aunit_assert=&gt;fail(&apos;Code instantiation fails&apos;).
*        ENDTRY.
    ENDTRY.
*    TRY.
*        page = lcl_class-&gt;get_java_encoding( ).
*        cl_aunit_assert=&gt;assert_equals( exp = &apos;1252&apos; act = page msg = &apos;Code page (JAVA) is not 1252&apos; ).
*      CATCH lcx_exception.
*        cl_aunit_assert=&gt;fail(&apos;Did not get code page&apos;).
*    ENDTRY.
*    TRY.
*        page = lcl_class-&gt;get_abap_encoding( ).
*        cl_aunit_assert=&gt;assert_equals( exp = &apos;1160&apos; act = page msg = &apos;Code page (ABAP) is not 1160&apos; ).
*      CATCH lcx_exception.
*        cl_aunit_assert=&gt;fail(&apos;Did not get code page&apos;).
*    ENDTRY.
  ENDMETHOD.                    &quot;run
ENDCLASS.                    &quot;abap_unit_test IMPLEMENTATION
************************************************************************
CLASS lcl_external_code_page IMPLEMENTATION.

  METHOD create.

*   Exception if no page name given
    IF iv_code_page_name IS INITIAL.
      RAISE EXCEPTION TYPE lcx_exception.
    ENDIF.

*   Create external code page instance and take over náme
    CREATE OBJECT rv_external_code_page.
    rv_external_code_page-&gt;name = iv_code_page_name.

*   Determine code page type from name
    DATA: name(10) TYPE c.
    name = iv_code_page_name.
    TRANSLATE name TO LOWER CASE.

    IF name(2) = &apos;cp&apos;.
      rv_external_code_page-&gt;kind = &apos;J&apos;.
    ELSEIF name(3) = &apos;iso&apos;.
      rv_external_code_page-&gt;kind = &apos;H&apos;.
    ELSEIF name(8) = &apos;us-ascii&apos;.
      rv_external_code_page-&gt;kind = &apos;H&apos;.
    ELSEIF name = &apos;utf-16be&apos; OR
           name = &apos;utf-16le&apos;.
      rv_external_code_page-&gt;kind = &apos;H&apos;.
    ENDIF.

  ENDMETHOD.                    &quot;create

  METHOD for_sapgui_installation.

*   Determine abap code page from sapgui installation
    DATA: code_page_abap TYPE abap_encoding,
          rc             TYPE i VALUE 0.
    CALL METHOD cl_gui_frontend_services=&gt;get_saplogon_encoding
      CHANGING
        rc                            = rc
        file_encoding                 = code_page_abap
      EXCEPTIONS
        cntl_error                    = 1
        error_no_gui                  = 2
        not_supported_by_gui          = 3
        cannot_initialize_globalstate = 4
        OTHERS                        = 5.
    IF sy-subrc &lt;&gt; 0 OR code_page_abap = 0.
      RAISE EXCEPTION TYPE lcx_exception.
    ENDIF.

*   Determine corresponding java code page name
    DATA: java_code_page_name TYPE string,
          code_page_abap_     TYPE cpcodepage.
    code_page_abap_ = code_page_abap.
    CALL FUNCTION &apos;SCP_GET_JAVA_NAME&apos;
      EXPORTING
        sap_codepage     = code_page_abap_
      IMPORTING
        name             = java_code_page_name
      EXCEPTIONS
        name_unknown     = 1
        invalid_codepage = 2
        OTHERS           = 3.
    IF sy-subrc &lt;&gt; 0. RAISE EXCEPTION TYPE lcx_exception. ENDIF.

*   Delegate for create
    rv_external_code_page = lcl_external_code_page=&gt;create( iv_code_page_name = java_code_page_name ).

  ENDMETHOD.                    &quot;create_for_abap_codepage

  METHOD get_abap_encoding.

*   Delegate ...
    IF me-&gt;kind IS NOT INITIAL.
      DATA: abap_encoding TYPE cpcodepage.
      CALL FUNCTION &apos;SCP_CODEPAGE_BY_EXTERNAL_NAME&apos;
        EXPORTING
          external_name = me-&gt;name
          kind          = me-&gt;kind
        IMPORTING
          sap_codepage  = rv_abap_encoding
        EXCEPTIONS
          not_found     = 1.
    ELSE.
      &quot;Default value for kind of code page.
      CALL FUNCTION &apos;SCP_CODEPAGE_BY_EXTERNAL_NAME&apos;
        EXPORTING
          external_name = me-&gt;name
        IMPORTING
          sap_codepage  = rv_abap_encoding
        EXCEPTIONS
          not_found     = 1.
    ENDIF.
*   ... Raise exception if no abap code page found.
    IF sy-subrc &lt;&gt; 0. RAISE EXCEPTION TYPE lcx_exception. ENDIF.

  ENDMETHOD.                    &quot;get_abap_encoding

  METHOD get_java_encoding.

*   Get ABAP codepage
    DATA: abap_encoding TYPE cpcodepage.
    abap_encoding = me-&gt;get_abap_encoding( ).

*   Delegate ...
    CALL FUNCTION &apos;SCP_GET_JAVA_NAME&apos;
      EXPORTING
        sap_codepage     = abap_encoding
      IMPORTING
        name             = rv_java_encoding
      EXCEPTIONS
        name_unknown     = 1
        invalid_codepage = 2
        OTHERS           = 3.
    IF sy-subrc &lt;&gt; 0. RAISE EXCEPTION TYPE lcx_exception. ENDIF.

  ENDMETHOD.                    &quot;get_java_encoding

ENDCLASS.                    &quot;lcl_external_code_page


************************************************************************
* Class LCL_FILE_SYSTEM
*
* represents the local file system.
* Class offers file system related methods - e.g. to create and
* delete folders, to read and write a file.
*
* Remark:
* Method get_file_size does not work as of 10-2012
* because of a problem in cl_gui_frontend_services=&gt;file_get_size
************************************************************************
CLASS lcl_file_system DEFINITION FINAL CREATE PRIVATE.

  PUBLIC SECTION.
    CLASS-DATA:    message        TYPE string,
                   path_separator TYPE string.
    CLASS-METHODS: class_constructor,
      get_instance                RETURNING VALUE(rv_self) TYPE REF TO lcl_file_system,
      read_file                   IMPORTING iv_file_path           TYPE string
                                            iv_file_is_binary      TYPE abap_bool
                                            iv_code_page_abap      TYPE cpcodepage
                                  RETURNING VALUE(rv_file_content) TYPE xstring
                                  RAISING   lcx_exception,
      write_file                  IMPORTING iv_file_path      TYPE string
                                            iv_file_is_binary TYPE abap_bool
                                            iv_code_page_abap TYPE cpcodepage DEFAULT lcl_external_code_page=&gt;no_code_page
                                            iv_file_content   TYPE xstring
                                  RAISING   lcx_exception.
    METHODS:       create_folder               IMPORTING iv_folder_path TYPE string
                                               RAISING   lcx_exception,
      delete_file                 IMPORTING iv_file_path TYPE string
                                  RAISING   lcx_exception,
      delete_folder               IMPORTING iv_folder_path TYPE string
                                  RAISING   lcx_exception,
      directory_exists            IMPORTING iv_directory               TYPE string
                                  RETURNING VALUE(rv_directory_exists) TYPE abap_bool,
      get_file_size               IMPORTING iv_file_path        TYPE string
                                  RETURNING VALUE(rv_file_size) TYPE i,
      select_directory            IMPORTING iv_title            TYPE string
                                            iv_initial_folder   TYPE string DEFAULT &apos;&apos;
                                  RETURNING VALUE(rv_directory) TYPE string.
  PRIVATE SECTION.
    CLASS-DATA:    self                        TYPE REF TO lcl_file_system.

ENDCLASS.                    &quot;LCL_FILE_SYSTEM
************************************************************************
CLASS lcl_file_system IMPLEMENTATION.

  METHOD class_constructor.
    CREATE OBJECT self.

*   Get path separator
    DATA: separator TYPE c.
    CALL METHOD cl_gui_frontend_services=&gt;get_file_separator
      CHANGING
        file_separator       = separator
      EXCEPTIONS
        not_supported_by_gui = 1
        error_no_gui         = 2
        cntl_error           = 3
        OTHERS               = 4.
    IF sy-subrc &lt;&gt; 0.
      MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
                 WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.
    ELSE.
      path_separator = separator.
    ENDIF.

  ENDMETHOD.                    &quot;class_constructor

  METHOD get_instance.
    rv_self = self.
  ENDMETHOD.                    &quot;get_instance

  METHOD get_file_size.

    &quot; Call does not work in my as of 12-2012
    CALL METHOD cl_gui_frontend_services=&gt;file_get_size
      EXPORTING
        file_name            = iv_file_path
      IMPORTING
        file_size            = rv_file_size
      EXCEPTIONS
        file_get_size_failed = 1
        cntl_error           = 2
        error_no_gui         = 3
        not_supported_by_gui = 4
        OTHERS               = 5.
    IF sy-subrc &lt;&gt; 0.
      rv_file_size = -1.
      MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
                 WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.
    ENDIF.

  ENDMETHOD.                    &quot;get_file_size

  METHOD create_folder.

    DATA: rc TYPE i.
    CALL METHOD cl_gui_frontend_services=&gt;directory_create
      EXPORTING
        directory                = iv_folder_path
      CHANGING
        rc                       = rc
      EXCEPTIONS
        directory_create_failed  = 1
        cntl_error               = 2
        error_no_gui             = 3
        directory_access_denied  = 4
        directory_already_exists = 5
        path_not_found           = 6
        unknown_error            = 7
        not_supported_by_gui     = 8
        wrong_parameter          = 9
        OTHERS                   = 10.

    IF sy-subrc &lt;&gt; 0 AND sy-subrc &lt;&gt; 5.
      RAISE EXCEPTION TYPE lcx_exception.
    ENDIF.

  ENDMETHOD.                    &quot;create_folder

  METHOD delete_file.

    DATA: rc TYPE i.
    CALL METHOD cl_gui_frontend_services=&gt;file_delete
      EXPORTING
        filename             = iv_file_path
      CHANGING
        rc                   = rc
      EXCEPTIONS
        file_delete_failed   = 1
        cntl_error           = 2
        error_no_gui         = 3
        file_not_found       = 4
        access_denied        = 5
        unknown_error        = 6
        not_supported_by_gui = 7
        wrong_parameter      = 8
        OTHERS               = 9.

    IF sy-subrc &lt;&gt; 0 AND sy-subrc &lt;&gt; 4.
      RAISE EXCEPTION TYPE lcx_exception.
    ENDIF.

  ENDMETHOD.                    &quot;delete_file

  METHOD delete_folder.

    DATA: rc TYPE i.
    CALL METHOD cl_gui_frontend_services=&gt;directory_delete
      EXPORTING
        directory               = iv_folder_path
      CHANGING
        rc                      = rc
      EXCEPTIONS
        directory_delete_failed = 1
        cntl_error              = 2
        error_no_gui            = 3
        path_not_found          = 4
        directory_access_denied = 5
        unknown_error           = 6
        not_supported_by_gui    = 7
        wrong_parameter         = 8
        OTHERS                  = 9.

    IF sy-subrc &lt;&gt; 0 AND sy-subrc &lt;&gt; 4.
      RAISE EXCEPTION TYPE lcx_exception.
    ENDIF.

  ENDMETHOD.                    &quot;delete_folder

  METHOD directory_exists.

    rv_directory_exists = abap_false.

    IF iv_directory IS NOT INITIAL.
      CALL METHOD cl_gui_frontend_services=&gt;directory_exist
        EXPORTING
          directory            = iv_directory
        RECEIVING
          result               = rv_directory_exists
        EXCEPTIONS
          cntl_error           = 1
          error_no_gui         = 2
          wrong_parameter      = 3
          not_supported_by_gui = 4
          OTHERS               = 5.
      IF sy-subrc &lt;&gt; 0.
        MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
                   WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.
      ENDIF.
    ENDIF.

  ENDMETHOD.                    &quot;directory_exists

  METHOD select_directory.

    DATA: folder TYPE string.
    CALL METHOD cl_gui_frontend_services=&gt;directory_browse
      EXPORTING
        window_title         = iv_title
        initial_folder       = iv_initial_folder
      CHANGING
        selected_folder      = folder
      EXCEPTIONS
        cntl_error           = 1
        error_no_gui         = 2
        not_supported_by_gui = 3
        OTHERS               = 4.
    IF sy-subrc &lt;&gt; 0.
      MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
                 WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.
    ENDIF.

    rv_directory = folder.

  ENDMETHOD.                    &quot;select_directory

* Reads file (iv_file_path) from file system
* and returns byte sequence as an xstring (rv_file_content)
  METHOD read_file.

*   Determine file type
    DATA: file_type TYPE char10. file_type = &apos;ASC&apos;.
    IF iv_file_is_binary = &apos;X&apos;. file_type = &apos;BIN&apos;. ENDIF.

*   Upload both text and file as binary without code page conversion
*   Delegate
    DATA: file_content_lines_bin TYPE STANDARD TABLE OF raw255, &quot;xstring does not work here
          file_content_line_bin  TYPE raw255,
          file_length            TYPE int4.
    CALL METHOD cl_gui_frontend_services=&gt;gui_upload
      EXPORTING
        filename                = iv_file_path
        filetype                = &apos;BIN&apos;
        read_by_line            = &apos;X&apos;
      IMPORTING
        filelength              = file_length
*       header                  =
      CHANGING
        data_tab                = file_content_lines_bin
      EXCEPTIONS
        file_open_error         = 1
        file_read_error         = 2
        no_batch                = 3
        gui_refuse_filetransfer = 4
        invalid_type            = 5
        no_authority            = 6
        unknown_error           = 7
        bad_data_format         = 8
        header_not_allowed      = 9
        separator_not_allowed   = 10
        header_too_long         = 11
        unknown_dp_error        = 12
        access_denied           = 13
        dp_out_of_memory        = 14
        disk_full               = 15
        dp_timeout              = 16
        not_supported_by_gui    = 17
        error_no_gui            = 18
        OTHERS                  = 19.
    IF sy-subrc &lt;&gt; 0.
      RAISE EXCEPTION TYPE lcx_exception.
    ENDIF.

*   Build xstring for return
    DATA:  file_content_x TYPE xstring.
    CONCATENATE LINES OF file_content_lines_bin INTO file_content_x IN BYTE MODE.
*   ... Length of xstring is that file on file system
    file_content_x = file_content_x(file_length).

*   Prepare return value
    rv_file_content = file_content_x.

  ENDMETHOD.                    &quot;read_file

* Writes file (iv_file_path) to file system
* Content is taken from byte sequence (iv_file_content)
  METHOD write_file.

*   Determine file type
    DATA: file_type TYPE char10. file_type = &apos;ASC&apos;.
    IF iv_file_is_binary = &apos;X&apos;. file_type = &apos;BIN&apos;. ENDIF.

*   Prepare binary data for file download
*   ... Content of text files is passed in binary form as well
    DATA: file_size              TYPE int4,
          file_content_lines_bin TYPE lcl_function=&gt;x255_table,
          file_length            TYPE int4.
    lcl_function=&gt;xstring2xtable( EXPORTING iv_xstring = iv_file_content
                                  IMPORTING ev_size = file_size
                                            ev_xtable = file_content_lines_bin ).
*   Delegate
    CALL METHOD cl_gui_frontend_services=&gt;gui_download
      EXPORTING
        bin_filesize            = file_size
        filename                = iv_file_path
        filetype                = &apos;BIN&apos;
      IMPORTING
        filelength              = file_length        &quot;virus_scan_profile = &apos;/SCET/GUI_DOWNLOAD&apos;
      CHANGING
        data_tab                = file_content_lines_bin
      EXCEPTIONS
        file_write_error        = 1
        no_batch                = 2
        gui_refuse_filetransfer = 3
        invalid_type            = 4
        no_authority            = 5
        unknown_error           = 6
        header_not_allowed      = 7
        separator_not_allowed   = 8
        filesize_not_allowed    = 9
        header_too_long         = 10
        dp_error_create         = 11
        dp_error_send           = 12
        dp_error_write          = 13
        unknown_dp_error        = 14
        access_denied           = 15
        dp_out_of_memory        = 16
        disk_full               = 17
        dp_timeout              = 18
        file_not_found          = 19
        dataprovider_exception  = 20
        control_flush_error     = 21
        not_supported_by_gui    = 22
        error_no_gui            = 23
        OTHERS                  = 24.
    IF sy-subrc &lt;&gt; 0.
      RAISE EXCEPTION TYPE lcx_exception.
    ENDIF.

  ENDMETHOD.                    &quot;write_file

ENDCLASS.                    &quot;LCL_FILE_SYSTEM


************************************************************************
* Class LCL_OPERATION
*
* represents a download or upload operation to be performed.
************************************************************************
CLASS lcl_operation DEFINITION.

  PUBLIC SECTION.

    DATA:          full_path      TYPE string,
                   message        TYPE string,
                   object_is_file TYPE abap_bool,
                   object_type    TYPE string,
                   object_name    TYPE string,
                   operation      TYPE string,
                   relative_path  TYPE string.
    METHODS:       get_file_extension          RETURNING VALUE(rv_file_extension) TYPE string,
      is_binary                   RETURNING VALUE(rv_is_binary) TYPE abap_bool.
    CLASS-DATA:    create_folder           TYPE string VALUE &apos;CREATE FOLDER&apos;,
                   delete_folder           TYPE string VALUE &apos;DELETE FOLDER&apos;,
                   delete_file             TYPE string VALUE &apos;DELETE FILE&apos;,
                   download_file           TYPE string VALUE &apos;DOWNLOAD FILE&apos;,
                   ignore_file             TYPE string VALUE &apos;IGNORE_FILE&apos;,
                   ignore_folder           TYPE string VALUE &apos;IGNORE_FOLDER&apos;,
                   upload_file             TYPE string VALUE &apos;UPLOAD FILE&apos;,
                   object_type_none        TYPE string VALUE &apos;&apos;,
                   object_type_binary_file TYPE string VALUE &apos;BINARY_FILE&apos;,
                   object_type_file        TYPE string VALUE &apos;FILE&apos;,
                   object_type_text_file   TYPE string VALUE &apos;TEXT_FILE&apos;,
                   object_type_folder      TYPE string VALUE &apos;FOLDER&apos;.

ENDCLASS.                    &quot;LCL_OPERATION

* ----------------------------------------------------------------------*
CLASS abap_unit_test3 DEFINITION FOR TESTING.
  PUBLIC SECTION.
    DATA lcl_class TYPE REF TO lcl_operation.
    METHODS: run FOR TESTING.
ENDCLASS.                    &quot;ABAP_UNIT_TEST DEFINITION
*----------------------------------------------------------------------*
*       CLASS abap_unit_test IMPLEMENTATION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS abap_unit_test3 IMPLEMENTATION.

  METHOD run.
    DATA return TYPE string.
    DATA bool TYPE abap_bool.
    CREATE OBJECT lcl_class.
    return = lcl_class-&gt;get_file_extension( ).
    bool = lcl_class-&gt;is_binary( ).
  ENDMETHOD.                    &quot;run

ENDCLASS.                    &quot;abap_unit_test2 IMPLEMENTATION
************************************************************************
CLASS lcl_operation IMPLEMENTATION.

  METHOD get_file_extension.

*   Initialize
    CLEAR rv_file_extension.

*   Return empty string if object behind is a folder
    IF object_type = lcl_operation=&gt;object_type_folder. RETURN. ENDIF.

*   Split path
    DATA: parts     TYPE TABLE OF string,
          part      TYPE string,
          i         TYPE int4,
          extension TYPE string.
    SPLIT me-&gt;relative_path AT &apos;/&apos; INTO TABLE parts.
    i = lines( parts ).
    READ TABLE parts INTO part INDEX i.
*   Get file extension
    SPLIT part AT &apos;.&apos; INTO TABLE parts.
    i = lines( parts ).
    IF i &gt; 1.
      READ TABLE parts INTO extension INDEX i.
      TRANSLATE extension TO UPPER CASE.                 &quot;#EC TRANSLANG
    ENDIF.
*   Return
    IF extension IS INITIAL. RETURN. ENDIF.
    CONCATENATE &apos;.&apos; extension INTO extension.
    rv_file_extension = extension.

  ENDMETHOD.                    &quot;get_file_extension

  METHOD is_binary.

*   Check file type
    rv_is_binary = abap_undefined.
    IF me-&gt;object_type = lcl_operation=&gt;object_type_binary_file.
      rv_is_binary = abap_true.
    ELSEIF me-&gt;object_type = lcl_operation=&gt;object_type_text_file.
      rv_is_binary = abap_false.
    ENDIF.

  ENDMETHOD.                    &quot;is_binary

ENDCLASS.                    &quot;lcl_operation


************************************************************************
* Class LCL_UI5_LOCAL_APP
*
* represents a ui5 application on the local disk.
*
* The class is used for upload and download. It knows e.g. the home
* directory or whether a file is of binary or text type. etc.
************************************************************************
CLASS lcl_ui5_local_app DEFINITION FINAL CREATE PRIVATE.

  PUBLIC SECTION.
    CLASS-DATA:    binary_file_patterns_file TYPE string VALUE &apos;.Ui5RepositoryBinaryFiles&apos;,
                   file_system               TYPE REF TO lcl_file_system,
                   message                   TYPE string,
                   text_file_patterns_file   TYPE string VALUE &apos;.Ui5RepositoryTextFiles&apos;,
                   ignore_file_patterns_file TYPE string VALUE &apos;.Ui5RepositoryIgnore&apos;.
    DATA:          binary_file_patterns           TYPE TABLE OF string,
                   binary_file_identification_msg TYPE string,
                   home_directory                 TYPE string,
                   text_file_patterns             TYPE TABLE OF string,
                   text_file_identification_msg   TYPE string,
                   upload_ignores                 TYPE TABLE OF string,
                   upload_ignore_message          TYPE string,
                   upload_operations              TYPE TABLE OF REF TO lcl_operation.
    TYPES:         download_operations            TYPE TABLE OF REF TO lcl_operation.
    CLASS-METHODS: class_constructor,
      add_default_bin_file_patterns  CHANGING cv_file_patterns TYPE string_table,
      add_default_ignore_patterns    CHANGING cv_file_patterns TYPE string_table,
      add_default_text_file_patterns CHANGING cv_file_patterns TYPE string_table,
      get_instance                   RETURNING VALUE(rv_self) TYPE REF TO lcl_ui5_local_app.
    METHODS:       conciliate_download_operations IMPORTING iv_path                TYPE string DEFAULT &apos;&apos;
                                                            iv_ignores             LIKE upload_ignores
                                                  CHANGING  cv_download_operations TYPE download_operations,
      determine_upload_operations    IMPORTING iv_directory      TYPE string
                                               iv_ignores        LIKE upload_ignores
                                     RETURNING VALUE(rv_success) TYPE abap_bool,
      set_home_directory             IMPORTING iv_home_directory TYPE string.

  PRIVATE SECTION.
    METHODS:       determine_binary_file_patterns,
      determine_text_file_patterns,
      determine_upload_ignores,
      is_binary_file                 IMPORTING iv_file_path             TYPE string
                                     RETURNING VALUE(rv_is_binary_file) TYPE abap_bool,
      is_file_to_be_ignored          IMPORTING iv_file_path     TYPE string
                                     RETURNING VALUE(rv_ignore) TYPE abap_bool,
      is_text_file                   IMPORTING iv_file_path           TYPE string
                                     RETURNING VALUE(rv_is_text_file) TYPE abap_bool.
    CLASS-DATA:    self                           TYPE REF TO lcl_ui5_local_app.

ENDCLASS.                    &quot;LCL_UI5_LOCAL_APP DEFINITION

************************************************************************
CLASS lcl_ui5_local_app IMPLEMENTATION.

  METHOD class_constructor.
    CREATE OBJECT self.
    file_system = lcl_file_system=&gt;get_instance( ).

  ENDMETHOD.                    &quot;class_constructor

  METHOD conciliate_download_operations.

*   Check input
    IF iv_path IS INITIAL. RETURN. ENDIF.
    IF lines( cv_download_operations ) = 0. RETURN. ENDIF.

*   Walk through folder to be conciliated
    DATA : directories     TYPE filetable, files TYPE filetable, entry  TYPE file_table,
           file_count      TYPE i, directory_count TYPE i.
    cl_gui_frontend_services=&gt;directory_list_files( EXPORTING directory = iv_path files_only = abap_true
                                                    CHANGING  file_table = files count = file_count ).
    cl_gui_frontend_services=&gt;directory_list_files( EXPORTING directory = iv_path directories_only = abap_true
                                                    CHANGING  file_table = directories count = directory_count ).
    IF sy-subrc &lt;&gt; 0. RETURN. ENDIF.

*   Conciliate files first
    LOOP AT files INTO entry.

*     Check if file is going to be updated
      DATA: file_gets_updated TYPE abap_bool. file_gets_updated = abap_false.
      DATA: operation TYPE REF TO lcl_operation.
      DATA: file_path TYPE string.
      CONCATENATE iv_path lcl_file_system=&gt;path_separator entry INTO file_path.
      LOOP AT cv_download_operations INTO operation.
        IF operation-&gt;full_path = file_path.
          file_gets_updated = abap_true.
          EXIT.
        ENDIF.
      ENDLOOP.

*     Check if file is on the ignore list
      DATA: file_is_to_be_ignored TYPE abap_bool. file_is_to_be_ignored = abap_false.
      IF lcl_function=&gt;text_matches_pattern( iv_text = file_path iv_pattern_list = iv_ignores ) = abap_true.
        file_is_to_be_ignored = abap_true.
      ENDIF.

*     Register file for deletion if it does not get updated
*       and if it is not to be ignored
      IF file_gets_updated = abap_false.
        CREATE OBJECT operation.
        operation-&gt;operation = lcl_operation=&gt;delete_file.
        IF file_is_to_be_ignored = abap_true. operation-&gt;operation = lcl_operation=&gt;ignore_file. ENDIF.
        operation-&gt;full_path = file_path.
        operation-&gt;object_type = lcl_operation=&gt;object_type_file.
        APPEND operation TO cv_download_operations.
      ENDIF.

    ENDLOOP.

*   Now look into folders
    LOOP AT directories INTO entry.
      DATA: directory_path TYPE string.
      CONCATENATE iv_path lcl_file_system=&gt;path_separator entry INTO directory_path.

*     Check if folder is going to be updated
      DATA: folder_gets_updated TYPE abap_bool. folder_gets_updated = abap_false.
      DATA: folder_path TYPE string.
      CONCATENATE iv_path lcl_file_system=&gt;path_separator entry INTO folder_path.
      LOOP AT cv_download_operations INTO operation.
        IF operation-&gt;full_path = folder_path.
          folder_gets_updated = abap_true.
          EXIT.
        ENDIF.
      ENDLOOP.

*     Check if folder is to be ignored
      DATA: folder_is_to_be_ignored TYPE abap_bool. folder_is_to_be_ignored = abap_false.
      IF lcl_function=&gt;text_matches_pattern( iv_text = folder_path iv_pattern_list = iv_ignores ) = abap_true.
        folder_is_to_be_ignored = abap_true.
      ENDIF.

*     Conciliate sub folder
      me-&gt;conciliate_download_operations( EXPORTING iv_path = directory_path
                                                    iv_ignores = iv_ignores
                                          CHANGING  cv_download_operations = cv_download_operations ).

*     Register folder for deletion it it does not get updated
*       and if it is not to be ignored
      IF folder_gets_updated = abap_false.
        CREATE OBJECT operation.
        operation-&gt;operation = lcl_operation=&gt;delete_folder.
        IF folder_is_to_be_ignored = abap_true. operation-&gt;operation = lcl_operation=&gt;ignore_folder. ENDIF.
        operation-&gt;full_path = folder_path.
        operation-&gt;object_type = lcl_operation=&gt;object_type_folder.
        APPEND operation TO cv_download_operations.
      ENDIF.

    ENDLOOP.

  ENDMETHOD.                    &quot;conciliate_download_operations

  METHOD determine_binary_file_patterns.

*   Try to access file containing binary file patterns
    DATA: binary_file_patterns_file TYPE string, file_length TYPE i,
          lines                     TYPE STANDARD TABLE OF string.
    CONCATENATE home_directory lcl_file_system=&gt;path_separator me-&gt;binary_file_patterns_file INTO binary_file_patterns_file.
    CALL METHOD cl_gui_frontend_services=&gt;gui_upload
      EXPORTING
        filename                = binary_file_patterns_file
        filetype                = &apos;ASC&apos;
        read_by_line            = &apos;X&apos;
      IMPORTING
        filelength              = file_length
*       header                  =
      CHANGING
        data_tab                = lines
      EXCEPTIONS
        file_open_error         = 1
        file_read_error         = 2
        no_batch                = 3
        gui_refuse_filetransfer = 4
        invalid_type            = 5
        no_authority            = 6
        unknown_error           = 7
        bad_data_format         = 8
        header_not_allowed      = 9
        separator_not_allowed   = 10
        header_too_long         = 11
        unknown_dp_error        = 12
        access_denied           = 13
        dp_out_of_memory        = 14
        disk_full               = 15
        dp_timeout              = 16
        not_supported_by_gui    = 17
        error_no_gui            = 18
        OTHERS                  = 19.

    IF sy-subrc = 0.
      binary_file_identification_msg = text-060. &quot;&apos;File &apos;.Ui5RepositoryBinaryFiles&apos; has been considered to identify binary files.&apos;
    ELSE.
      binary_file_identification_msg = &apos;Binary files have been identified from standard settings.&apos;(061).
    ENDIF.

*   Build list of patterns identifying binary files
*   ... Standard binary file patterns
    me-&gt;add_default_bin_file_patterns( CHANGING cv_file_patterns = self-&gt;binary_file_patterns ).
*   ... patterns from &apos;.Ui5RepositoryBinaryFiles&apos; file
    DATA: line TYPE string.
    LOOP AT lines INTO line.
      APPEND line TO me-&gt;binary_file_patterns.
    ENDLOOP.

  ENDMETHOD.                    &quot;determine_binary_file_patterns

  METHOD determine_text_file_patterns.

*   Try to access file containing text file patterns
    DATA: text_file_patterns_file TYPE string, file_length TYPE i,
          lines                   TYPE STANDARD TABLE OF string.
    CONCATENATE home_directory lcl_file_system=&gt;path_separator me-&gt;text_file_patterns_file INTO text_file_patterns_file.
    CALL METHOD cl_gui_frontend_services=&gt;gui_upload
      EXPORTING
        filename                = text_file_patterns_file
        filetype                = &apos;ASC&apos;
        read_by_line            = &apos;X&apos;
      IMPORTING
        filelength              = file_length
*       header                  =
      CHANGING
        data_tab                = lines
      EXCEPTIONS
        file_open_error         = 1
        file_read_error         = 2
        no_batch                = 3
        gui_refuse_filetransfer = 4
        invalid_type            = 5
        no_authority            = 6
        unknown_error           = 7
        bad_data_format         = 8
        header_not_allowed      = 9
        separator_not_allowed   = 10
        header_too_long         = 11
        unknown_dp_error        = 12
        access_denied           = 13
        dp_out_of_memory        = 14
        disk_full               = 15
        dp_timeout              = 16
        not_supported_by_gui    = 17
        error_no_gui            = 18
        OTHERS                  = 19.

    IF sy-subrc = 0.
      text_file_identification_msg = &apos;File &quot;.Ui5RepositoryTextFiles&quot; has been considered to identify text files.&apos;(062).
    ELSE.
      text_file_identification_msg = &apos;Text files have been identified from standard settings.&apos;(063).
    ENDIF.

*   Build list of patterns identifying text files
*   ... Standard text file patterns
    me-&gt;add_default_text_file_patterns( CHANGING cv_file_patterns = self-&gt;text_file_patterns ).
*   ... Patterns from &apos;.Ui5RepositoryTextFiles&apos; file
    DATA: line TYPE string.
    LOOP AT lines INTO line.
      APPEND line TO me-&gt;text_file_patterns.
    ENDLOOP.

  ENDMETHOD.                    &quot;determine_text_file_patterns

* Determines patterns for files to be ignored during the upload of a UI5 application
*
* In case a .Ui5RepositoryIgnore file is found in the directory of the UI5 application
* its content is used to decide if a file is considered in the upload operation.
*
* Example content:
*
* .c#
* ^.*\.ttf$
* ^.*[/|\\]build([/|\\].*)?$
*
* In this case all files which contain the sub expression &quot;.c#&quot; in their full path
* string are ignored by the upload operation. Furthermore files with the extension
* &quot;.ttf&quot; are ignored as well. In this example &quot;^.*\.ttf$&quot; is detected as a regular
* expression because it starts with a &quot;^&quot; and ends with a &quot;$&quot;.
* Finally the build directory and everything below gets ignored.
*
* If a .Ui5RepIgnore file is not found a standard list of ignore patterns is used:
* So there&apos;s no need for a user to think about this topic in a simple case.
*
* Remark: In Eclipse the ignore files are specified by a team provider setting.
*
  METHOD determine_upload_ignores.

*   Try to access upload ignore file
    DATA: ignorefile  TYPE string, file_length TYPE i,
          lines       TYPE STANDARD TABLE OF string.
    CONCATENATE home_directory lcl_file_system=&gt;path_separator me-&gt;ignore_file_patterns_file INTO ignorefile.
    CALL METHOD cl_gui_frontend_services=&gt;gui_upload
      EXPORTING
        filename                = ignorefile
        filetype                = &apos;ASC&apos;
        read_by_line            = &apos;X&apos;
      IMPORTING
        filelength              = file_length
*       header                  =
      CHANGING
        data_tab                = lines
      EXCEPTIONS
        file_open_error         = 1
        file_read_error         = 2
        no_batch                = 3
        gui_refuse_filetransfer = 4
        invalid_type            = 5
        no_authority            = 6
        unknown_error           = 7
        bad_data_format         = 8
        header_not_allowed      = 9
        separator_not_allowed   = 10
        header_too_long         = 11
        unknown_dp_error        = 12
        access_denied           = 13
        dp_out_of_memory        = 14
        disk_full               = 15
        dp_timeout              = 16
        not_supported_by_gui    = 17
        error_no_gui            = 18
        OTHERS                  = 19.

    DATA: use_standard_ignores TYPE abap_bool VALUE abap_false.
    IF sy-subrc &lt;&gt; 0.
      use_standard_ignores = abap_true.
    ENDIF.

*   Build list of files to ignore during upload
    IF use_standard_ignores = abap_true.
      me-&gt;add_default_ignore_patterns( CHANGING cv_file_patterns = self-&gt;upload_ignores ).
      upload_ignore_message = &apos;Items to be ignored have been determined from the built-in standard settings.&apos;(011).
    ELSE.
      DATA: line TYPE string.
      LOOP AT lines INTO line.
        APPEND line TO me-&gt;upload_ignores.
      ENDLOOP.
      upload_ignore_message = text-012. &quot;&apos;Items to be ignored have been determined from the &apos;.Ui5RepositoryIgnore&apos; file.&apos;
    ENDIF.

  ENDMETHOD.                    &quot;determine_upload_ignores

  METHOD determine_upload_operations.

*   No upload possible if directory does not exist
    IF file_system-&gt;directory_exists( iv_directory ) = abap_false.
      rv_success = abap_false. RETURN.
    ENDIF.

*   Register upload for files and folders in directory
*   ... Read files
    DATA : entries TYPE filetable,
           entry   TYPE file_table,
           count   TYPE i.
    CALL METHOD cl_gui_frontend_services=&gt;directory_list_files
      EXPORTING
        directory                   = iv_directory
        files_only                  = abap_true                                                                                                                                                                                                 &quot;filter = &apos;*.*&apos;
      CHANGING
        file_table                  = entries                                                                                                                                                                                     &quot;directories_only = abap_true
        count                       = count
      EXCEPTIONS
        cntl_error                  = 1
        directory_list_files_failed = 2
        wrong_parameter             = 3
        error_no_gui                = 4
        not_supported_by_gui        = 5
        OTHERS                      = 6.
    IF sy-subrc &lt;&gt; 0.
      MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
                 WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.
    ENDIF.
*   ... Register file upload operations
    DATA: upload_operation TYPE REF TO lcl_operation.
    LOOP AT entries INTO entry.
*     Create upload operation
      CREATE OBJECT upload_operation.
      upload_operation-&gt;operation = lcl_operation=&gt;upload_file.
      upload_operation-&gt;object_name = entry.
*     Build full path
      DATA: full_path TYPE string.
      CONCATENATE iv_directory file_system-&gt;path_separator entry INTO full_path.
      upload_operation-&gt;full_path = full_path.
      upload_operation-&gt;relative_path = upload_operation-&gt;full_path.
*     Build relative path
      DATA: home_directory_path TYPE string.
      CONCATENATE home_directory lcl_file_system=&gt;path_separator INTO home_directory_path.
      REPLACE home_directory_path IN upload_operation-&gt;relative_path WITH &apos;&apos;.
      REPLACE ALL OCCURRENCES OF &apos;\&apos; IN upload_operation-&gt;relative_path WITH &apos;/&apos;.
*     Check if entry is to be ignored
      DATA: is_file_to_be_ignored TYPE abap_bool. is_file_to_be_ignored = me-&gt;is_file_to_be_ignored( full_path ).
      IF is_file_to_be_ignored = abap_true. upload_operation-&gt;operation = lcl_operation=&gt;ignore_file. ENDIF.
*     Determine file type
      upload_operation-&gt;object_type = lcl_operation=&gt;object_type_file.
      IF me-&gt;is_text_file( upload_operation-&gt;relative_path ) = abap_true. upload_operation-&gt;object_type = lcl_operation=&gt;object_type_text_file. ENDIF.
      IF me-&gt;is_binary_file( upload_operation-&gt;relative_path ) = abap_true. upload_operation-&gt;object_type = lcl_operation=&gt;object_type_binary_file. ENDIF.
*     ... Try to determine from mime type
      IF upload_operation-&gt;object_type = lcl_operation=&gt;object_type_file.
        DATA: extension TYPE string,
              ext       TYPE char20,
              mimetype  TYPE mimetypes-type.
        extension = upload_operation-&gt;get_file_extension( ). ext = extension.
        CALL FUNCTION &apos;SDOK_MIMETYPE_GET&apos;
          EXPORTING
            extension = ext
          IMPORTING
            mimetype  = mimetype.
        IF mimetype = &apos;image&apos;.
          upload_operation-&gt;object_type = lcl_operation=&gt;object_type_binary_file.
        ELSE.
          upload_operation-&gt;operation = lcl_operation=&gt;ignore_file.
          upload_operation-&gt;message = &apos;File type unknown&apos;(072).
        ENDIF.
      ENDIF.
*
      APPEND upload_operation TO upload_operations.
    ENDLOOP.

*   ... Read folders
    DATA : folders TYPE filetable.
    CALL METHOD cl_gui_frontend_services=&gt;directory_list_files
      EXPORTING
        directory                   = iv_directory
        &quot;filter                     = &apos;*.*&apos;
        &quot;files_only                 = abap_false
        directories_only            = abap_true
      CHANGING
        file_table                  = folders
        count                       = count
      EXCEPTIONS
        cntl_error                  = 1
        directory_list_files_failed = 2
        wrong_parameter             = 3
        error_no_gui                = 4
        not_supported_by_gui        = 5
        OTHERS                      = 6.
    IF sy-subrc &lt;&gt; 0.
      MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno
                 WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.
    ENDIF.
*   ... Register operations to create folders
*       and its files
    LOOP AT folders INTO entry.
*     Create upload operation
      CREATE OBJECT upload_operation.
      upload_operation-&gt;operation = lcl_operation=&gt;create_folder.
      upload_operation-&gt;object_name = entry.
      upload_operation-&gt;object_type = lcl_operation=&gt;object_type_folder.
*     Build full path
      CONCATENATE iv_directory file_system-&gt;path_separator entry INTO full_path.
      upload_operation-&gt;full_path = full_path.
*     Build relative path
      upload_operation-&gt;relative_path = upload_operation-&gt;full_path.
      CONCATENATE home_directory lcl_file_system=&gt;path_separator INTO home_directory_path.
      REPLACE home_directory_path IN upload_operation-&gt;relative_path WITH &apos;&apos;.
      REPLACE ALL OCCURRENCES OF &apos;\&apos; IN upload_operation-&gt;relative_path WITH &apos;/&apos;.
*     Decide if folder is to be ignored
      DATA: is_folder_to_be_ignored TYPE abap_bool. is_folder_to_be_ignored = me-&gt;is_file_to_be_ignored( full_path ).
      IF is_folder_to_be_ignored = abap_true. upload_operation-&gt;operation = lcl_operation=&gt;ignore_folder. ENDIF.
      APPEND upload_operation TO upload_operations.
*     Skip resolution of source code repository folders
      DATA: is_code_repository TYPE abap_bool. is_code_repository = abap_false.
      IF upload_operation-&gt;object_name = &apos;.git&apos;. is_code_repository = abap_true. ENDIF.
      IF is_code_repository = abap_true AND is_folder_to_be_ignored = abap_true. CONTINUE. ENDIF.
*
      determine_upload_operations( iv_directory = full_path iv_ignores = me-&gt;upload_ignores ).
    ENDLOOP.

    rv_success = abap_true.

  ENDMETHOD.                    &quot;determine_upload_package

  METHOD add_default_bin_file_patterns.

*   ... Add default binary patterns
    DATA: binary_file_pattern TYPE string.
    binary_file_pattern = &apos;.zip&apos;.                     APPEND binary_file_pattern TO cv_file_patterns.
    binary_file_pattern = &apos;.war&apos;.                     APPEND binary_file_pattern TO cv_file_patterns.
    binary_file_pattern = &apos;.jpg&apos;.                     APPEND binary_file_pattern TO cv_file_patterns.
    binary_file_pattern = &apos;.gif&apos;.                     APPEND binary_file_pattern TO cv_file_patterns.
    binary_file_pattern = &apos;.png&apos;.                     APPEND binary_file_pattern TO cv_file_patterns.
    binary_file_pattern = &apos;^.*\.class$&apos;.              APPEND binary_file_pattern TO cv_file_patterns.

  ENDMETHOD.                    &quot;add_default_bin_file_patterns

  METHOD add_default_ignore_patterns.

*   ... Add default binary patterns
    DATA: ignore_file_pattern TYPE string.
    ignore_file_pattern = &apos;.git&apos;.                     APPEND ignore_file_pattern TO cv_file_patterns.
    ignore_file_pattern = &apos;^.*[/|\\]build([/|\\].*)?$&apos;.
    APPEND ignore_file_pattern TO cv_file_patterns.

  ENDMETHOD.                    &quot;add_default_ignore_patterns

  METHOD add_default_text_file_patterns.

*   Add default text file patterns
    DATA: text_file_pattern TYPE string.
    text_file_pattern = &apos;.txt&apos;.                       APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.html&apos;.                      APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.js&apos;.                        APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.json&apos;.                      APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.less&apos;.                      APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.css&apos;.                       APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.htm&apos;.                       APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.xml&apos;.                       APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;manifest.mf&apos;.                APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.classpath&apos;.                 APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.properties&apos;.                APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.project&apos;.                   APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.settings/&apos;.                 APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;^.*\.control$&apos;.              APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;^.*\.json$&apos;.                 APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;^.*\.less$&apos;.                 APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;^.*\.library$&apos;.              APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;^.*\.theming$&apos;.              APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;^.*\.change$&apos;.               APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;^.*\.appdescr$&apos;.             APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;^.*\.appdescr_variant$&apos;.     APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.Ui5RepositoryAppSetup&apos;.     APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.UI5RepositoryIgnore&apos;.       APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.Ui5RepositoryBinaryFiles&apos;.  APPEND text_file_pattern TO cv_file_patterns.
    text_file_pattern = &apos;.Ui5RepositoryTextFiles&apos;.    APPEND text_file_pattern TO cv_file_patterns.

  ENDMETHOD.                    &quot;add_default_text_file_patterns

  METHOD get_instance.
    rv_self = self.
  ENDMETHOD.                    &quot;get_instance

  METHOD is_binary_file.

    rv_is_binary_file = abap_undefined.
    IF ( lcl_function=&gt;text_matches_pattern( iv_text = iv_file_path iv_pattern_list = me-&gt;binary_file_patterns ) = abap_true ).
      rv_is_binary_file = abap_true.
    ENDIF.

  ENDMETHOD.                    &quot;is_binary_file

  METHOD is_file_to_be_ignored.

    rv_ignore = abap_false.
    IF ( lcl_function=&gt;text_matches_pattern( iv_text = iv_file_path iv_pattern_list = me-&gt;upload_ignores ) = abap_true ).
      rv_ignore = abap_true.
    ENDIF.

  ENDMETHOD.                    &quot;is_file_to_be_ignored

  METHOD is_text_file.

    rv_is_text_file = abap_undefined.
    IF ( lcl_function=&gt;text_matches_pattern( iv_text = iv_file_path iv_pattern_list = me-&gt;text_file_patterns ) = abap_true ).
      rv_is_text_file = abap_true.
    ENDIF.

  ENDMETHOD.                    &quot;is_text_file

  METHOD set_home_directory.

*   Remember
    me-&gt;home_directory = iv_home_directory.

*   Initialize
    CLEAR me-&gt;binary_file_patterns.
    CLEAR me-&gt;text_file_patterns.
    CLEAR me-&gt;upload_ignores.
    CLEAR me-&gt;upload_operations.

*   Determine files to ignore in upload
    me-&gt;determine_binary_file_patterns( ).
    me-&gt;determine_text_file_patterns( ).
    me-&gt;determine_upload_ignores( ).

  ENDMETHOD.                    &quot;set_home_directory

ENDCLASS.                    &quot;LCL_UI5_LOCAL_APP IMPLEMENTATION


************************************************************************
* Class LCL_UI5_REPOSITORY
*
* represents a UI5 Repository and the UI5 application it contains.
************************************************************************
CLASS lcl_ui5_repository DEFINITION FINAL CREATE PRIVATE.

  PUBLIC SECTION.
    CLASS-DATA:    message                        TYPE string.
    TYPES:         BEGIN OF upload_parameters,
                     description       TYPE string,
                     package           TYPE devclass,
                     transport_request TYPE trkorr,
                     code_page_ui      TYPE string,
                     code_page_abap    TYPE cpcodepage,
                     code_page_java    TYPE string,
                   END OF upload_parameters,
                   BEGIN OF download_parameters,
                     code_page_ui   TYPE string,
                     code_page_abap TYPE cpcodepage,
                     code_page_java TYPE string,
                   END OF download_parameters,
                   upload_operations TYPE TABLE OF REF TO lcl_operation.
    DATA:          already_exists                 TYPE abap_bool,
                   api                            TYPE REF TO /ui5/if_ui5_rep_dt,
                   binary_file_identification_msg TYPE string,
                   binary_file_patterns           TYPE TABLE OF string,
                   name                           TYPE string,
                   text_file_identification_msg   TYPE string,
                   text_file_patterns             TYPE TABLE OF string,
                   ignores                        TYPE TABLE OF string,
                   ignores_identification_msg     TYPE string.
    CLASS-METHODS: class_constructor,
      get_instance                   RETURNING VALUE(rv_self) TYPE REF TO lcl_ui5_repository,
      evaluate_authorization         RETURNING  VALUE(rv_message) TYPE string.
    DATA:          download_operations            TYPE TABLE OF REF TO lcl_operation.
    METHODS:       conciliate_upload_operations   IMPORTING iv_path              TYPE string DEFAULT &apos;&apos;
                                                  CHANGING  cv_upload_operations TYPE upload_operations,
      determine_download_operations  IMPORTING iv_relative_path    TYPE string DEFAULT &apos;&apos;
                                               iv_target_directory TYPE string,
      get_download_parameters        RETURNING VALUE(rv_download_parameters) TYPE download_parameters
                                     RAISING   lcx_canceled,
      get_mime_type_for_upload       IMPORTING iv_operation        TYPE REF TO lcl_operation
                                     RETURNING VALUE(rv_mime_type) TYPE string,
      get_upload_parameters          IMPORTING VALUE(iv_transport_request_only) TYPE abap_bool DEFAULT abap_false
                                     RETURNING VALUE(rv_upload_parameters)      TYPE upload_parameters
                                     RAISING   lcx_canceled,
      set_name                       IMPORTING iv_name TYPE string.

  PRIVATE SECTION.
    METHODS:       determine_binary_file_patterns,
      determine_text_file_patterns,
      determine_ignores,
      is_binary_file                 IMPORTING iv_file_path             TYPE string
                                     RETURNING VALUE(rv_is_binary_file) TYPE abap_bool,
      is_file_to_be_ignored          IMPORTING iv_file_path     TYPE string
                                     RETURNING VALUE(rv_ignore) TYPE abap_bool,
      is_text_file                   IMPORTING iv_file_path           TYPE string
                                     RETURNING VALUE(rv_is_text_file) TYPE abap_bool.
    CLASS-DATA:    self                           TYPE REF TO lcl_ui5_repository.

ENDCLASS.                    &quot;lcl_ui5_repository DEFINITION
*----------------------------------------------------------------------*
*       CLASS abap_unit_test DEFINITION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS abap_unit_test4 DEFINITION FOR TESTING.
  PUBLIC SECTION.
    DATA lcl_class TYPE REF TO lcl_ui5_repository.
    METHODS: run FOR TESTING.
ENDCLASS.                    &quot;ABAP_UNIT_TEST DEFINITION
*----------------------------------------------------------------------*
*       CLASS abap_unit_test IMPLEMENTATION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS abap_unit_test4 IMPLEMENTATION.

  METHOD run.
***    lcl_class = lcl_ui5_repository=&gt;get_instance( ).
***    DATA mess TYPE string.
***    mess = lcl_class-&gt;evaluate_authorization( ).
***
***    DATA l_path TYPE string.
***    DATA l_op TYPE TABLE OF REF TO lcl_operation.
***    lcl_class-&gt;conciliate_upload_operations( EXPORTING iv_path = l_path CHANGING cv_upload_operations = l_op ).
***    DATA l_rel_path TYPE string.
***    DATA l_dir TYPE string.
****    lcl_class-&gt;determine_download_operations( EXPORTING iv_relative_path = l_rel_path iv_target_directory = l_dir ).
***    DATA l_down_para TYPE lcl_ui5_repository=&gt;download_parameters.
***    TRY.
****        l_down_para = lcl_class-&gt;get_download_parameters( ).
***      CATCH lcx_canceled.
***    ENDTRY.
***    DATA lcl_op TYPE REF TO lcl_operation.
***    CREATE OBJECT lcl_op.
***    DATA l_mime TYPE string.
***    l_mime = lcl_class-&gt;get_mime_type_for_upload( iv_operation = lcl_op ).
****    DATA l_trans_only TYPE abap_bool.
***    DATA l_up_para TYPE lcl_ui5_repository=&gt;upload_parameters.
***    TRY.
****        l_up_para = lcl_class-&gt;get_upload_parameters( iv_transport_request_only = abap_true ).
***      CATCH lcx_canceled.
***    ENDTRY.
***    DATA l_set_name TYPE string.
***    lcl_class-&gt;set_name( iv_name = l_set_name ).

  ENDMETHOD.                    &quot;run
ENDCLASS.                    &quot;abap_unit_test IMPLEMENTATION

************************************************************************
************************************************************************
*                                                                      *
*                  UI5 Repositor Load - Report Code                    *
*                                                                      *
************************************************************************
************************************************************************


************************************************************************
* Global Report Definitions
************************************************************************
TYPE-POOLS: abap.

DATA: file_system            TYPE REF TO lcl_file_system.
DATA: lv_last_message        TYPE string.
DATA: lv_last_messag2        TYPE string.
DATA: lv_message             TYPE string.
&quot;data: lv_authorization_msg   type string.
DATA: lv_result              TYPE abap_bool.
DATA: ui5_app                TYPE REF TO lcl_ui5_local_app.
DATA: ui5_repository         TYPE REF TO lcl_ui5_repository.


************************************************************************
* Selection Screen
************************************************************************

SELECTION-SCREEN BEGIN OF BLOCK b1 WITH FRAME TITLE text-001. &quot;Specify SAPUI5 App and Select Operation

&quot;selection-screen begin of line. selection-screen comment 1(79) text-001 modif id cap. selection-screen end of line.
&quot;selection-screen uline 1(79).
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 1(79) text-098. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 1(79) text-002. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 1(79) text-003. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 1(79) text-004. SELECTION-SCREEN END OF LINE.

SELECTION-SCREEN SKIP.

* UI5 repository name
PARAMETER : ui5rep TYPE /ui5/ui5_repository_ui OBLIGATORY DEFAULT &apos;Z*&apos;.
SELECTION-SCREEN SKIP.

* Upload
PARAMETERS: upload RADIOBUTTON GROUP g1.

* Download
PARAMETERS: download RADIOBUTTON GROUP g1 DEFAULT &apos;X&apos;,
            director type text1024 DEFAULT &apos;c:\temp\&apos; OBLIGATORY,
            codepage type text20 DEFAULT &apos;utf-8&apos; OBLIGATORY,
            log as CHECKBOX DEFAULT &apos;X&apos;.

* Delete
*PARAMETERS: delete RADIOBUTTON GROUP g1. &quot;APC
data delete. &quot;APC
SELECTION-SCREEN SKIP.

* Options
PARAMETERS: adjlnnds TYPE boolean DEFAULT abap_true AS CHECKBOX.
SELECTION-SCREEN SKIP.


* Message
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 1(79) message MODIF ID msg. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 1(79) messag2 MODIF ID msg. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 1(79) authmsg MODIF ID aut. SELECTION-SCREEN END OF LINE.

SELECTION-SCREEN END OF BLOCK b1.

* Remarks
&quot;selection-screen skip.
SELECTION-SCREEN BEGIN OF BLOCK b2 WITH FRAME TITLE text-089. &quot;selection-screen skip.
&quot;selection-screen begin of line. selection-screen comment 1(79) text-089. selection-screen end of line.
&quot;selection-screen uline 1(79).
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 1(79) text-098. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 1(79) text-105. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 3(79) text-106. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 1(79) defltcp MODIF ID dcp. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 1(79) text-091. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 3(79) text-092. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 3(79) text-093. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 1(79) text-094. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 3(79) text-095. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 3(79) text-096. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 1(79) text-099. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 3(79) text-100. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 3(79) text-101. SELECTION-SCREEN END OF LINE.
SELECTION-SCREEN BEGIN OF LINE. SELECTION-SCREEN COMMENT 3(79) text-114. SELECTION-SCREEN END OF LINE.

SELECTION-SCREEN END OF BLOCK b2.

************************************************************************
CLASS lcl_ui5_repository IMPLEMENTATION.

  METHOD class_constructor.
    CREATE OBJECT self.
  ENDMETHOD.                    &quot;class_constructor

  METHOD get_mime_type_for_upload.

*   Check input
    CLEAR rv_mime_type.
    IF iv_operation IS INITIAL. RETURN. ENDIF.

*   Check if file is known to be text
    IF iv_operation-&gt;object_type = lcl_operation=&gt;object_type_text_file.
      rv_mime_type = &apos;text/plain&apos;.
      RETURN.
    ENDIF.

*   Check if file is known to be binary
    IF iv_operation-&gt;object_type = lcl_operation=&gt;object_type_binary_file.
      rv_mime_type = &apos;image&apos;. &quot;Although this is not true neccessarily: This should trigger a binary upload
      RETURN.
    ENDIF.

*   Determine file extension
    DATA: extension TYPE string.
    extension = iv_operation-&gt;get_file_extension( ).

*   Determine mime type using file extension via SDOK_MIMETYPE_GET
    DATA: mimetype TYPE mimetypes-type,
          ext      TYPE char20.
    ext = extension.
    CALL FUNCTION &apos;SDOK_MIMETYPE_GET&apos;
      EXPORTING
        extension = ext
      IMPORTING
        mimetype  = mimetype.
    .
    rv_mime_type = mimetype.

  ENDMETHOD.                    &quot;get_mime_type_for_upload

  METHOD conciliate_upload_operations.

*   Nothing to do if repository already exists
    IF me-&gt;already_exists = abap_false. RETURN. ENDIF.

*   Walk through content of ui5 repository
    DATA: children TYPE string_table,
          child    TYPE string.
    TRY.
        children = me-&gt;api-&gt;get_folder_children( iv_path ).
      CATCH /ui5/cx_ui5_rep_dt.
    ENDTRY.
    LOOP AT children INTO child.

*     Check if child is going to be updated
*     and if it is a folder
      DATA: child_gets_updated TYPE abap_bool. child_gets_updated = abap_false.
      DATA: operation TYPE REF TO lcl_operation.
      LOOP AT cv_upload_operations INTO operation.
        IF operation-&gt;relative_path = child
           &quot;and not ( operation-&gt;operation = lcl_operation=&gt;ignore_file
           &quot;          or operation-&gt;operation = lcl_operation=&gt;ignore_folder )
          .
          child_gets_updated = abap_true.
          EXIT.
        ENDIF.
      ENDLOOP.
      DATA: child_is_folder TYPE abap_bool.
      TRY.
          child_is_folder = me-&gt;api-&gt;check_is_folder( child ).
        CATCH /ui5/cx_ui5_rep_dt.
      ENDTRY.

*     Conciliate sub folder
      IF child_is_folder = abap_true.
        conciliate_upload_operations( EXPORTING iv_path = child  CHANGING cv_upload_operations = cv_upload_operations ).
        IF child_gets_updated = abap_false.
          CREATE OBJECT operation.
          operation-&gt;operation = lcl_operation=&gt;delete_folder.
          operation-&gt;relative_path = child.
          operation-&gt;object_type = lcl_operation=&gt;object_type_folder.
          APPEND operation TO cv_upload_operations.
        ENDIF.
      ELSE.
*     Conciliate file
        IF child_gets_updated = abap_false.
          CREATE OBJECT operation.
          operation-&gt;operation = lcl_operation=&gt;delete_file.
          operation-&gt;relative_path = child.
          operation-&gt;object_type = lcl_operation=&gt;object_type_file.
          APPEND operation TO cv_upload_operations.
        ENDIF.
      ENDIF.

    ENDLOOP.

  ENDMETHOD.                    &quot;conciliate_upload_operations

  METHOD determine_download_operations.

*   Initialize download operation table if starting with root path
    IF iv_relative_path IS INITIAL. CLEAR me-&gt;download_operations. ENDIF.

*   Confirm repository exists
    IF me-&gt;already_exists = abap_false. RETURN. ENDIF.

*   Walk through content of ui5 repository
    DATA: children TYPE string_table,
          child    TYPE string.
    TRY.
        children = me-&gt;api-&gt;get_folder_children( iv_relative_path ).
      CATCH /ui5/cx_ui5_rep_dt.
    ENDTRY.
    LOOP AT children INTO child.

*     Check if child is a folder
      DATA: child_is_folder TYPE abap_bool.
      TRY.
          child_is_folder = me-&gt;api-&gt;check_is_folder( child ).
        CATCH /ui5/cx_ui5_rep_dt.
      ENDTRY.

*     Download sub folder
      IF child_is_folder = abap_true.
        DATA: operation TYPE REF TO lcl_operation.
        CREATE OBJECT operation.
        operation-&gt;operation = lcl_operation=&gt;create_folder.
        operation-&gt;relative_path = child.
        operation-&gt;object_type = lcl_operation=&gt;object_type_folder.
        CONCATENATE iv_target_directory lcl_file_system=&gt;path_separator child INTO operation-&gt;full_path.
        REPLACE ALL OCCURRENCES OF &apos;/&apos; IN operation-&gt;full_path WITH lcl_file_system=&gt;path_separator.
        APPEND operation TO me-&gt;download_operations.
        determine_download_operations( iv_relative_path = child iv_target_directory = iv_target_directory ).
*     Download file
      ELSE.
        CREATE OBJECT operation.
        operation-&gt;operation = lcl_operation=&gt;download_file.
        operation-&gt;relative_path = child.
        operation-&gt;object_type = lcl_operation=&gt;object_type_file.
        IF me-&gt;is_text_file( child ) = abap_true. operation-&gt;object_type = lcl_operation=&gt;object_type_text_file. ENDIF.
        IF me-&gt;is_binary_file( child ) = abap_true. operation-&gt;object_type = lcl_operation=&gt;object_type_binary_file. ENDIF.
        CONCATENATE iv_target_directory lcl_file_system=&gt;path_separator child INTO operation-&gt;full_path.
        REPLACE ALL OCCURRENCES OF &apos;/&apos; IN operation-&gt;full_path WITH lcl_file_system=&gt;path_separator.
        APPEND operation TO me-&gt;download_operations.
      ENDIF.

    ENDLOOP.

  ENDMETHOD.                    &quot;determine_download_operations

  METHOD determine_binary_file_patterns.

*   Try to access file containing binary file patterns
    DATA: binary_file_patterns_file TYPE string, file_length TYPE i,
          lines                     TYPE STANDARD TABLE OF string.
    DATA: file_content                  TYPE xstring,
          file_content_as_string        TYPE string,
          bin_file_patterns_file_exists TYPE abap_bool.
    TRY.
        bin_file_patterns_file_exists = abap_true.
        me-&gt;api-&gt;get_file( EXPORTING iv_path = lcl_ui5_local_app=&gt;binary_file_patterns_file
                           IMPORTING ev_file_content = file_content ).
        file_content_as_string = /ui5/cl_ui5_rep_utility=&gt;convert_xstring_2_string( file_content ).
        lines = /ui5/cl_ui5_rep_utility=&gt;code_string_2_code_tab( file_content_as_string ).
      CATCH /ui5/cx_ui5_rep_dt.
        bin_file_patterns_file_exists = abap_false.
    ENDTRY.

    IF bin_file_patterns_file_exists = abap_true.
      binary_file_identification_msg = &apos;File &quot;.Ui5RepositoryBinaryFiles&quot; has been considered to identify binary files.&apos;(060).
    ELSE.
      binary_file_identification_msg = text-061. &quot;&apos;File &apos;.Ui5RepositoryBinaryFiles&apos; has been considered to identify binary files.&apos;
    ENDIF.

*   Build list of patterns identifying binary files
*   ... Standard binary patterns
    lcl_ui5_local_app=&gt;add_default_bin_file_patterns( CHANGING cv_file_patterns = self-&gt;binary_file_patterns ).
*   ... plus patterns from &apos;.Ui5RepositoryBinaryFiles&apos; file
    DATA: line TYPE string.
    LOOP AT lines INTO line.
      APPEND line TO me-&gt;binary_file_patterns.
    ENDLOOP.

  ENDMETHOD.                    &quot;determine_binary_file_patterns

  METHOD determine_ignores.

*   Determine files to be ignored for clean-up in file system during download
    DATA: file_length TYPE i,
          lines       TYPE STANDARD TABLE OF string.
    DATA: file_content                TYPE xstring,
          file_content_as_string      TYPE string,
          ignore_patterns_file_exists TYPE abap_bool.
    TRY.
*   ... Use ignore settings from file
        ignore_patterns_file_exists = abap_true.
        me-&gt;api-&gt;get_file( EXPORTING iv_path = lcl_ui5_local_app=&gt;ignore_file_patterns_file
                           IMPORTING ev_file_content = file_content ).
        file_content_as_string = /ui5/cl_ui5_rep_utility=&gt;convert_xstring_2_string( file_content ).
        lines = /ui5/cl_ui5_rep_utility=&gt;code_string_2_code_tab( file_content_as_string ).
        me-&gt;ignores = lines.
        ignores_identification_msg = text-012. &quot;&apos;Items to be ignored have been determined from the &apos;.Ui5RepositoryIgnore&apos; file.&apos;
      CATCH /ui5/cx_ui5_rep_dt.
*   ... Use built-in standard
        CLEAR me-&gt;ignores.
        ignore_patterns_file_exists = abap_false.
        lcl_ui5_local_app=&gt;add_default_ignore_patterns( CHANGING cv_file_patterns = me-&gt;ignores ).
        ignores_identification_msg = &apos;Items to be ignored have been determined from the built-in standard settings.&apos;(011).
    ENDTRY.

  ENDMETHOD.                    &quot;determine_download_ignores

  METHOD determine_text_file_patterns.

*   Try to access file containing text file patterns
    DATA: text_file_patterns_file TYPE string, file_length TYPE i,
          lines                   TYPE STANDARD TABLE OF string.
    DATA: file_content                   TYPE xstring,
          text_file_patterns_file_exists TYPE abap_bool.
    TRY.
        text_file_patterns_file_exists = abap_true.
        me-&gt;api-&gt;get_file( EXPORTING iv_path = lcl_ui5_local_app=&gt;text_file_patterns_file
                           IMPORTING ev_file_content = file_content ).
      CATCH /ui5/cx_ui5_rep_dt.
        text_file_patterns_file_exists = abap_false.
    ENDTRY.

    IF text_file_patterns_file_exists = abap_true.
      text_file_identification_msg = &apos;File &quot;.Ui5RepositoryTextFiles&quot; has been considered to identify text files.&apos;(062).
    ELSE.
      text_file_identification_msg = &apos;Text files have been identified from standard settings.&apos;(063).
    ENDIF.

*   Build list of patterns identifying text files
*   ... Standard text file patterns
    lcl_ui5_local_app=&gt;add_default_text_file_patterns( CHANGING cv_file_patterns = self-&gt;text_file_patterns ).
*   ... Plus patterns from &apos;.Ui5RepositoryTextFiles&apos; file
    DATA: line TYPE string.
    LOOP AT lines INTO line.
      APPEND line TO me-&gt;text_file_patterns.
    ENDLOOP.

  ENDMETHOD.                    &quot;determine_text_file_patterns

  METHOD get_download_parameters.

*   Initialize
    CLEAR rv_download_parameters.

*   Define fields to be entered on popup
*    DATA: field  TYPE sval,
*          fields TYPE TABLE OF sval.
*    CLEAR fields.
*
**   ... External Codepage
*    field-tabname    = &apos;TCP00A&apos;.
*    field-fieldname  = &apos;CPATTR&apos;.
*    field-fieldtext  = &apos;External Codepage&apos;(024).
*    APPEND field TO fields.
*
**   Ask for field
*    DATA: returncode(1)   TYPE c,
*          popup_title(80) TYPE c.
*    popup_title       = &apos;Enter Parameters for Download from the SAPUI5 ABAP Repository ...&apos;(026).
*    CALL FUNCTION &apos;POPUP_GET_VALUES&apos;
*      EXPORTING
*        popup_title = popup_title
*      IMPORTING
*        returncode  = returncode
*      TABLES
*        fields      = fields.
*
**   Prepare upload parameter object
*    IF returncode = &apos;A&apos;.
*      RAISE EXCEPTION TYPE lcx_canceled.
*    ELSE.
*      LOOP AT fields INTO field.
*        IF field-fieldname = &apos;CPATTR&apos;.
*          rv_download_parameters-code_page_ui = field-value.
                    rv_download_parameters-code_page_ui = codepage.


*         Calculate ABAP and corresponding JAVA code page
*         to be used for upload operation
          DATA: ecp TYPE REF TO lcl_external_code_page.
          TRY.
*             Determine from external code page name entered
              IF rv_download_parameters-code_page_ui IS NOT INITIAL.
                ecp = lcl_external_code_page=&gt;create( rv_download_parameters-code_page_ui ).
                rv_download_parameters-code_page_abap = ecp-&gt;get_abap_encoding( ).
                rv_download_parameters-code_page_java = ecp-&gt;get_java_encoding( ).
                &quot;rv_upload_parameters-code_page_abap =
                &quot;   lcl_external_code_page=&gt;create( rv_download_parameters-code_page_ui )-&gt;get_abap_encoding( ).
              ELSE.
*             Determine from SAPGUI installation if not given
                ecp = lcl_external_code_page=&gt;for_sapgui_installation( ).
                rv_download_parameters-code_page_abap = ecp-&gt;get_abap_encoding( ).
                rv_download_parameters-code_page_java = ecp-&gt;get_java_encoding( ).
              ENDIF.
            CATCH cx_root.
          ENDTRY.

*        ENDIF.
*      ENDLOOP.
*    ENDIF.

  ENDMETHOD.                    &quot;get_download_parameters

  METHOD get_upload_parameters.

*   Initialize
    CLEAR rv_upload_parameters.

*   Define field to be entered on popup
    DATA: field  TYPE sval,
          fields TYPE TABLE OF sval.
    CLEAR fields.
*   ... Description
    IF iv_transport_request_only = abap_false.
      field-tabname    = &apos;O2APPLATTR&apos;.
      field-fieldname  = &apos;TEXT&apos;.
      field-fieldtext  = &apos;Description&apos;(021). &quot;Text not from DTEL
      APPEND field TO fields.
*   ... Development class
      field-tabname    = &apos;TADIR&apos;.
      field-fieldname  = &apos;DEVCLASS&apos;.
      field-fieldtext  = &apos;Package&apos;(022).
      APPEND field TO fields.
    ENDIF.
*   ... Transport request
    field-tabname    = &apos;E070&apos;. &quot;&apos;TRHEADER&apos;.
    field-fieldname  = &apos;TRKORR&apos;.
    field-fieldtext  = &apos;Transport Request&apos;(023).
    APPEND field TO fields.
*   ... External Codepage
    field-tabname    = &apos;TCP00A&apos;.
    field-fieldname  = &apos;CPATTR&apos;.
    field-fieldtext  = &apos;External Codepage&apos;(024).
    APPEND field TO fields.


*   Ask for field
    DATA: returncode(1)   TYPE c,
          popup_title(80) TYPE c.
    popup_title       = &apos;Enter Parameters for Upload into BSP Application ...&apos;(020).
    CALL FUNCTION &apos;POPUP_GET_VALUES&apos;
      EXPORTING
        popup_title = popup_title
      IMPORTING
        returncode  = returncode
      TABLES
        fields      = fields.

*   Prepare upload parameter object
    IF returncode = &apos;A&apos;.
      RAISE EXCEPTION TYPE lcx_canceled.
    ELSE.
      LOOP AT fields INTO field.
        IF field-fieldname = &apos;TEXT&apos;.
          rv_upload_parameters-description = field-value.
        ENDIF.
        IF field-fieldname = &apos;DEVCLASS&apos;.
          rv_upload_parameters-package = field-value.
        ENDIF.
        IF field-fieldname = &apos;TRKORR&apos;.
          rv_upload_parameters-transport_request = field-value.
        ENDIF.
        IF field-fieldname = &apos;CPATTR&apos;.
          rv_upload_parameters-code_page_ui = field-value.

*         Calculate ABAP and corresponding JAVA code page
*         to be used for upload operation
          DATA: ecp TYPE REF TO lcl_external_code_page.
          TRY.
*             Determine from external code page name entered
              IF rv_upload_parameters-code_page_ui IS NOT INITIAL.
                ecp = lcl_external_code_page=&gt;create( rv_upload_parameters-code_page_ui ).
                rv_upload_parameters-code_page_abap = ecp-&gt;get_abap_encoding( ).
                rv_upload_parameters-code_page_java = ecp-&gt;get_java_encoding( ).
                &quot;rv_upload_parameters-code_page_abap =
                &quot;   lcl_external_code_page=&gt;create( rv_upload_parameters-code_page_ui )-&gt;get_abap_encoding( ).
              ELSE.
*             Determine from SAPGUI installation if not given
                ecp = lcl_external_code_page=&gt;for_sapgui_installation( ).
                rv_upload_parameters-code_page_abap = ecp-&gt;get_abap_encoding( ).
                rv_upload_parameters-code_page_java = ecp-&gt;get_java_encoding( ).
              ENDIF.
            CATCH cx_root.
          ENDTRY.

        ENDIF.
      ENDLOOP.
    ENDIF.

  ENDMETHOD.                    &quot;get_upload_parameters

  METHOD get_instance.
    rv_self = self.
  ENDMETHOD.                    &quot;get_instance

* Evaluate authorization available
  METHOD evaluate_authorization.

    rv_message = &apos;&apos;.
    DATA: may_be_insufficient TYPE abap_bool. may_be_insufficient = abap_false.
    DATA: affected TYPE string. affected = &apos;&apos;.

*   S_DEVELOP

    AUTHORITY-CHECK OBJECT &apos;S_DEVELOP&apos;
             ID &apos;DEVCLASS&apos; DUMMY
             ID &apos;OBJTYPE&apos; FIELD &apos;WAPA&apos;
             ID &apos;OBJNAME&apos; DUMMY
             ID &apos;P_GROUP&apos; DUMMY
             ID &apos;ACTVT&apos; FIELD &apos;02&apos;.
    IF sy-subrc &gt; 0.
      may_be_insufficient = abap_true.
      IF affected IS NOT INITIAL. CONCATENATE affected &apos;, &apos; INTO affected RESPECTING BLANKS. ENDIF.
      CONCATENATE affected &apos;S_DEVELOP&apos; INTO affected.
    ENDIF.

* S_ICF_ADM

    AUTHORITY-CHECK OBJECT &apos;S_ICF_ADM&apos;
             ID &apos;ICF_TYPE&apos; FIELD &apos;NODE&apos;
             ID &apos;ACTVT&apos; FIELD &apos;02&apos;
             ID &apos;ICF_HOST&apos; DUMMY
             ID &apos;ICF_NODE&apos; DUMMY
             .
    IF sy-subrc &gt; 0.
      may_be_insufficient = abap_true.
      IF affected IS NOT INITIAL. CONCATENATE affected &apos;, &apos; INTO affected RESPECTING BLANKS. ENDIF.
      CONCATENATE affected &apos;S_ICF_ADM&apos; INTO affected.
    ENDIF.

* S_TRANSPRT

    AUTHORITY-CHECK OBJECT &apos;S_TRANSPRT&apos;
             ID &apos;TTYPE&apos; FIELD &apos;TASK&apos;
             ID &apos;ACTVT&apos; FIELD &apos;02&apos;.

    IF sy-subrc &gt; 0.
      may_be_insufficient = abap_true.
      IF affected IS NOT INITIAL. CONCATENATE affected &apos;, &apos; INTO affected RESPECTING BLANKS. ENDIF.
      CONCATENATE affected &apos;S_TRANSPRT&apos; INTO affected.
    ENDIF.


* S_TCODE

    AUTHORITY-CHECK OBJECT &apos;S_TCODE&apos;
             ID &apos;TCD&apos; FIELD &apos;*&apos;.
    IF sy-subrc &gt; 4.
      may_be_insufficient = abap_true.
      IF affected IS NOT INITIAL. CONCATENATE affected &apos;, &apos; INTO affected RESPECTING BLANKS. ENDIF.
      CONCATENATE affected &apos;S_TCODE&apos; INTO affected.
    ENDIF.

* S_CTS_ADMI

    AUTHORITY-CHECK OBJECT &apos;S_CTS_ADMI&apos;
             ID &apos;CTS_ADMFCT&apos; FIELD &apos;TABL&apos;.

    IF sy-subrc &gt; 4.
      may_be_insufficient = abap_true.
      IF affected IS NOT INITIAL. CONCATENATE affected &apos;, &apos; INTO affected RESPECTING BLANKS. ENDIF.
      CONCATENATE affected &apos;S_CTS_ADMI&apos; INTO affected.
    ENDIF.

*   S_CTS_SADM
    IF may_be_insufficient = abap_true.
      AUTHORITY-CHECK OBJECT &apos;S_CTS_SADM&apos;
               ID &apos;DOMAIN&apos; DUMMY
               ID &apos;DESTSYS&apos; DUMMY
               ID &apos;CTS_ADMFCT&apos; FIELD &apos;TABL&apos;.
      IF sy-subrc &gt;= 12.
        CONCATENATE affected &apos; &apos; &apos;and&apos;(104) &apos; S_CTS_ADMI&apos; INTO affected RESPECTING BLANKS.
      ENDIF.
    ENDIF.

*   Prepare authorization message
*   ... in case authorization appears to be insufficient
    IF may_be_insufficient = abap_true.
      rv_message = &apos;Warning : Authorization may be missing for&apos;(102).
      CONCATENATE &apos;* &apos; rv_message &apos; &apos; affected &apos; *&apos; INTO rv_message RESPECTING BLANKS.
      IF strlen( rv_message ) &gt; 79.
        rv_message = &apos;Warning : Authorizations may be missing.&apos;(103).
        CONCATENATE &apos;* &apos; rv_message &apos; *&apos; INTO rv_message RESPECTING BLANKS.
      ENDIF.
    ENDIF.

  ENDMETHOD.                    &quot;evaluate_authorization
  METHOD is_binary_file.

    rv_is_binary_file = abap_undefined.
    IF ( lcl_function=&gt;text_matches_pattern( iv_text = iv_file_path iv_pattern_list = me-&gt;binary_file_patterns ) = abap_true ).
      rv_is_binary_file = abap_true.
    ENDIF.

  ENDMETHOD.                    &quot;is_binary_file

  METHOD is_file_to_be_ignored.

    rv_ignore = abap_false.
    IF ( lcl_function=&gt;text_matches_pattern( iv_text = iv_file_path iv_pattern_list = me-&gt;ignores ) = abap_true ).
      rv_ignore = abap_true.
    ENDIF.

  ENDMETHOD.                    &quot;is_file_to_be_ignored

  METHOD is_text_file.

    rv_is_text_file = abap_undefined.
    IF ( lcl_function=&gt;text_matches_pattern( iv_text = iv_file_path iv_pattern_list = me-&gt;text_file_patterns ) = abap_true ).
      rv_is_text_file = abap_true.
    ENDIF.

  ENDMETHOD.                    &quot;is_text_file

  METHOD set_name.

*   Remember name
    me-&gt;name = iv_name.

*   Check if UI5 Repository already exists. If yes retrieve API.
    TRY.
        me-&gt;api = /ui5/cl_ui5_rep_dt=&gt;/ui5/if_ui5_rep_dt~get_api( iv_name = me-&gt;name ).
        me-&gt;already_exists  = abap_true.

*       Determine text and binary file patterns
        me-&gt;determine_text_file_patterns( ).
        me-&gt;determine_binary_file_patterns( ).

*       Determine files to be kept untouched from download
        me-&gt;determine_ignores( ).

      CATCH cx_root.
        CLEAR me-&gt;api.
        me-&gt;already_exists = abap_false.
    ENDTRY.

  ENDMETHOD.                    &quot;set_name


ENDCLASS.                    &quot;lcl_ui5_repository IMPLEMENTATION


************************************************************************
AT SELECTION-SCREEN OUTPUT.

* Initialize
  ui5_app = lcl_ui5_local_app=&gt;get_instance( ).
  ui5_repository = lcl_ui5_repository=&gt;get_instance( ).
  file_system = lcl_file_system=&gt;get_instance( ).
  IMPORT msg = lv_last_message FROM MEMORY ID &apos;last_message&apos;. message = lv_last_message.
  IMPORT msg = lv_last_messag2 FROM MEMORY ID &apos;last_messag2&apos;. messag2 = lv_last_messag2.
  DELETE FROM MEMORY ID &apos;last_message&apos;.
  DELETE FROM MEMORY ID &apos;last_messag2&apos;.


*  IMPORT log_msg = lt_messages FROM MEMORY ID &apos;log_messages&apos;.
*  DELETE FROM MEMORY ID &apos;log_messages&apos;.
* TODO how to display the log messages

* Check input
  &quot;IF ui5rep IS INITIAL.
  &quot;  message = &apos;* Specify SAPUI5 Application Name *&apos;(025).
  &quot;ENDIF.

* Evaluate authorization
  &quot;lv_authorization_msg = lcl_ui5_repository=&gt;evaluate_authorization( ).
  authmsg = lcl_ui5_repository=&gt;evaluate_authorization( ).

* Calculate default message
  IF defltcp IS INITIAL.
    DATA: ecp               TYPE REF TO lcl_external_code_page,
          default_code_page TYPE string.
    TRY.
        defltcp = text-090.
        ecp = lcl_external_code_page=&gt;for_sapgui_installation( ).
        default_code_page = ecp-&gt;get_java_encoding( ).
        REPLACE &apos;%1&apos; IN defltcp WITH default_code_page.
      CATCH cx_root.
        defltcp = text-097.
    ENDTRY.
  ENDIF.

* Hilight caption and message
  LOOP AT SCREEN.
    IF ( screen-group1 = &apos;CAP&apos; OR screen-group1 = &apos;MSG&apos; ).
      screen-intensified = &apos;1&apos;.
      MODIFY SCREEN.
    ENDIF.
    IF ( screen-group1 = &apos;CAP&apos; OR screen-group1 = &apos;AUT&apos; ).
      screen-intensified = &apos;1&apos;.
      MODIFY SCREEN.
    ENDIF.
  ENDLOOP.

************************************************************************
START-OF-SELECTION.

* Check Prerequisites
  IF ui5rep IS INITIAL.
    lv_message = &apos;* Specify SAPUI5 Application Name *&apos;(025). WRITE: / lv_message.
    lv_last_message = lv_message. EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.
    RETURN.
  ENDIF.

* Set ui5 repository name
  DATA: ui5_repository_name TYPE string. ui5_repository_name = ui5rep.
  ui5_repository-&gt;set_name( ui5_repository_name ).

* Upload requested *****
  IF upload EQ &apos;X&apos;.

*   Initialize
    sy-title = &apos;Load SAPUI5 Application from File System to the SAPUI5 ABAP Repository&apos;(013).

*   Select source directory
    DATA: title TYPE string. title = &apos;Specify Source Directory ...&apos;(039).
    DATA: home_directory TYPE string.
    home_directory = file_system-&gt;select_directory( iv_title = title ).
    ui5_app-&gt;set_home_directory( home_directory ).
    IF  ui5_app-&gt;home_directory IS INITIAL.
      lv_message = &apos;* A directory for upload has not been selected. Exiting ...*&apos;(051). WRITE: / lv_message.
      lv_last_message = &apos;* Upload canceled *&apos;. EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.
      SET SCREEN 0.
      RETURN.
    ENDIF.

*   Determine upload operations
    ui5_app-&gt;determine_upload_operations( iv_directory = ui5_app-&gt;home_directory
                                          iv_ignores = ui5_app-&gt;upload_ignores      ).
    ui5_repository-&gt;conciliate_upload_operations( CHANGING cv_upload_operations = ui5_app-&gt;upload_operations ).

*   Print outcome
*   ... List operations on repository
    IF ui5_repository-&gt;already_exists = abap_false.
      DATA: create_repository TYPE string. create_repository = text-009.
      WRITE: AT / &apos;* &apos;, create_repository , &apos;  &apos;, ui5_repository-&gt;name, &apos; *&apos; .
    ELSE.
      DATA: update_repository TYPE string. update_repository = text-010.
      WRITE: AT / &apos;* &apos;, update_repository , &apos;  &apos;, ui5_repository-&gt;name, &apos; *&apos; .
    ENDIF.
    WRITE: /.
*   ... Determine column indent on upload operations
    DATA: shiftright TYPE i.
    DATA: la TYPE i. la = strlen( text-005 ).
    DATA: lb TYPE i. lb = strlen( text-006 ).
    DATA: lc TYPE i. lc = strlen( text-007 ).
    DATA: ld TYPE i. ld = strlen( text-008 ).
    shiftright = lcl_function=&gt;max( a = la b = lb c = lc d = ld ).
    &quot;shiftright = lcl_function=&gt;max( a = strlen( text-005 ) b = strlen( text-006 ) c = strlen( text-007 ) d = strlen( text-008 ) ).
*   ... List upload operations on directories and files
    DATA: upload_operation TYPE REF TO lcl_operation.
    LOOP AT ui5_app-&gt;upload_operations INTO upload_operation.
      IF     upload_operation-&gt;operation = lcl_operation=&gt;create_folder.
        WRITE: AT /(shiftright) text-005 , &apos;  :  &apos;. &quot;Create Folder
      ELSEIF upload_operation-&gt;operation = lcl_operation=&gt;upload_file.
        WRITE: AT /(shiftright) text-006 , &apos;  :  &apos;. &quot;Upload File
      ELSEIF upload_operation-&gt;operation = lcl_operation=&gt;ignore_folder.
        WRITE: AT /(shiftright) text-007 , &apos;  :  &apos;. &quot;*** IGNORE ***
      ELSEIF upload_operation-&gt;operation = lcl_operation=&gt;ignore_file.
        WRITE: AT /(shiftright) text-008 , &apos;  :  &apos;. &quot;*** IGNORE ***
      ELSEIF upload_operation-&gt;operation = lcl_operation=&gt;delete_folder.
        WRITE: AT /(shiftright) text-080 , &apos;  :  &apos;. &quot;Delete Folder
      ELSEIF upload_operation-&gt;operation = lcl_operation=&gt;delete_file.
        WRITE: AT /(shiftright) text-081 , &apos;  :  &apos;. &quot;Delete File
      ENDIF.
      IF upload_operation-&gt;operation = lcl_operation=&gt;delete_folder
         OR upload_operation-&gt;operation = lcl_operation=&gt;delete_file.
        WRITE: upload_operation-&gt;relative_path.
      ELSE.
        WRITE: upload_operation-&gt;full_path.
      ENDIF.
*
      IF upload_operation-&gt;operation = lcl_operation=&gt;upload_file.
        DATA: text_binary TYPE string.
        IF upload_operation-&gt;object_type = lcl_operation=&gt;object_type_text_file.
          text_binary = text-070.
          WRITE: &apos; (&apos;, text_binary , &apos;)&apos;.
        ELSEIF upload_operation-&gt;object_type = lcl_operation=&gt;object_type_binary_file.
          text_binary = text-071.
          WRITE: &apos; (&apos;, text_binary , &apos;)&apos;.
        ENDIF.
      ENDIF.
      IF upload_operation-&gt;message IS NOT INITIAL.
        WRITE: &apos; (&apos;, upload_operation-&gt;message , &apos;)&apos;.
      ENDIF.

    ENDLOOP.

*   ... Indicate how the items to be ignored for the upload have been determined
    WRITE: /.
    WRITE: / &apos;* &apos;, ui5_app-&gt;upload_ignore_message, &apos; *&apos;.
    WRITE: / &apos;* &apos;, ui5_app-&gt;text_file_identification_msg, &apos; *&apos;.
    WRITE: / &apos;* &apos;, ui5_app-&gt;binary_file_identification_msg, &apos; *&apos;.

*   ... Indicate if adjustment of line endings has been requested
    IF adjlnnds = abap_true.
      lv_message = &apos;The adjustment of line endings has been requested.&apos;(108).
      WRITE: / &apos;* &apos;, lv_message, &apos; *&apos;.
    ENDIF.

*   Get confirmation from user
    DATA: click_here TYPE string. click_here = &apos;[  Click here to Upload  ]&apos;(016).
    WRITE: /.
    WRITE: /.
    WRITE: / click_here  COLOR = 5  HOTSPOT.

*   Done
    SET SCREEN 0.

  ENDIF.

* Download requested *****
  IF download EQ &apos;X&apos;.

*   Initialize
    sy-title = &apos;Load SAPUI5 Application from the SAPUI5 ABAP Repository to the File System&apos;(014).

*   Select source directory
    title = &apos;Specify Target Directory ...&apos;(040).
*    ui5_app-&gt;home_directory = file_system-&gt;select_directory( iv_title = title ). &quot;APC
    CONCATENATE director &apos;\&apos; ui5rep into ui5_app-&gt;home_directory. &quot;APC
    IF  ui5_app-&gt;home_directory IS INITIAL.
      lv_message = &apos;* A directory for the download has not been selected. Exiting ...*&apos;(050). WRITE: / lv_message.
      lv_last_message = &apos;* Download canceled *&apos;(041). EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.
    ENDIF.

*   Determine download operations
    ui5_repository-&gt;determine_download_operations( iv_target_directory = ui5_app-&gt;home_directory ).
    ui5_app-&gt;conciliate_download_operations( EXPORTING iv_path = ui5_app-&gt;home_directory
                                                       iv_ignores = ui5_repository-&gt;ignores
                                             CHANGING cv_download_operations = ui5_repository-&gt;download_operations ).

*   Print outcome
*   ... List operations on file system
    DATA: the_target_directory_is TYPE string. the_target_directory_is = &apos;The target directory for the download is&apos;(056).
    WRITE: AT / &apos;* &apos;, the_target_directory_is , &apos;  &apos;, ui5_app-&gt;home_directory, &apos; *&apos; .
    WRITE: /.
*   ... Determine column indent on download operations
    la = strlen( text-083 ).
    lb = strlen( text-082 ).
    lc = strlen( text-007 ).
    ld = strlen( text-008 ).
    DATA: le TYPE i. le = strlen( text-080 ).
    DATA: lf TYPE i. lf = strlen( text-081 ).
    shiftright = lcl_function=&gt;max( a = la b = lb c = lc d = ld e = le f = lf ).
    &quot;shiftright = lcl_function=&gt;max( a = strlen( text-083 ) b = strlen( text-082 ) c = strlen( text-007 )
    &quot;                                d = strlen( text-008 ) e = strlen( text-080 ) f = strlen( text-081 ) ).
*   ... List download operations on directories and files
    DATA: download_operation TYPE REF TO lcl_operation.
    LOOP AT ui5_repository-&gt;download_operations INTO download_operation.
      IF     download_operation-&gt;operation = lcl_operation=&gt;create_folder.
        WRITE: AT /(shiftright) text-083 , &apos;  :  &apos;. &quot;Create Folder
      ELSEIF download_operation-&gt;operation = lcl_operation=&gt;download_file.
        WRITE: AT /(shiftright) text-082 , &apos;  :  &apos;. &quot;Download File
      ELSEIF download_operation-&gt;operation = lcl_operation=&gt;ignore_folder.
        WRITE: AT /(shiftright) text-007 , &apos;  :  &apos;. &quot;*** IGNORE ***
      ELSEIF download_operation-&gt;operation = lcl_operation=&gt;ignore_file.
        WRITE: AT /(shiftright) text-008 , &apos;  :  &apos;. &quot;*** IGNORE ***
      ELSEIF download_operation-&gt;operation = lcl_operation=&gt;delete_folder.
        WRITE: AT /(shiftright) text-080 , &apos;  :  &apos;. &quot;Delete Folder
      ELSEIF download_operation-&gt;operation = lcl_operation=&gt;delete_file.
        WRITE: AT /(shiftright) text-081 , &apos;  :  &apos;. &quot;Delete File
      ENDIF.
      IF download_operation-&gt;operation = lcl_operation=&gt;delete_file
         OR download_operation-&gt;operation = lcl_operation=&gt;delete_folder
         OR download_operation-&gt;operation = lcl_operation=&gt;ignore_folder
         OR download_operation-&gt;operation = lcl_operation=&gt;ignore_file.
        WRITE: download_operation-&gt;full_path.
      ELSE.
        WRITE: download_operation-&gt;relative_path.
      ENDIF.
*
      IF download_operation-&gt;operation = lcl_operation=&gt;download_file.
        IF download_operation-&gt;object_type = lcl_operation=&gt;object_type_text_file.
          text_binary = text-070.
          WRITE: &apos; (&apos;, text_binary , &apos;)&apos;.
        ELSEIF download_operation-&gt;object_type = lcl_operation=&gt;object_type_binary_file.
          text_binary = text-071.
          WRITE: &apos; (&apos;, text_binary , &apos;)&apos;.
        ENDIF.
      ENDIF.
      IF download_operation-&gt;message IS NOT INITIAL.
        WRITE: &apos; (&apos;, download_operation-&gt;message , &apos;)&apos;.
      ENDIF.

    ENDLOOP.

*   ... Indicate how the items to be ignored for the upload have been determined
    WRITE: /.
    WRITE: / &apos;* &apos;, ui5_repository-&gt;ignores_identification_msg, &apos; *&apos;.
    WRITE: / &apos;* &apos;, ui5_repository-&gt;binary_file_identification_msg, &apos; *&apos;.
    WRITE: / &apos;* &apos;, ui5_repository-&gt;text_file_identification_msg, &apos; *&apos;.

*   Get confirmation from user
    click_here = &apos;[  Click here to Download  ]&apos;(017).
    WRITE: /.
    WRITE: /.
    WRITE: / click_here  COLOR = 5  HOTSPOT.



*************************************APC DESCARGA AUTOMATICA *******************************************
data: log_entry_created.
DATA: lv_ex_rep_dt TYPE REF TO /ui5/cx_ui5_rep_dt.
data: text type string.
* Download *****
  IF download EQ &apos;X&apos;.

*  Ask for code page
    TRY.
        DATA: download_parameters TYPE lcl_ui5_repository=&gt;download_parameters.
        download_parameters = ui5_repository-&gt;get_download_parameters( ).
      CATCH lcx_canceled.
        lv_last_message = &apos;* Download of SAPUI5 application has been canceled *&apos;(034). EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.
        LEAVE LIST-PROCESSING.
    ENDTRY.

*   Confirm valid code page has been entered.
    IF download_parameters-code_page_abap IS INITIAL.
      lv_last_message = text-033. &quot;&apos;* Download canceled: External Code Page is invalid. You may use e.g. &apos;Cp1252&apos; *&apos;
      EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.
      LEAVE LIST-PROCESSING.
    ENDIF.

*   . Loop at each operation
*     and if requested ...
    LOOP AT ui5_repository-&gt;download_operations INTO download_operation.

*     Create folder
      IF download_operation-&gt;operation = lcl_operation=&gt;create_folder.

        TRY.
            file_system-&gt;create_folder( download_operation-&gt;full_path ).
          CATCH lcx_exception.
            log_entry_created = abap_true.
            lv_message = &apos;* Warning: Folder % has not been created *&apos;(054).
            REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
            WRITE: AT / lv_message.
        ENDTRY.

*     Delete file
      ELSEIF download_operation-&gt;operation = lcl_operation=&gt;delete_file.

        TRY.
            file_system-&gt;delete_file( download_operation-&gt;full_path ).
          CATCH lcx_exception.
            log_entry_created = abap_true.
            lv_message = &apos;* Warning: File % has not been deleted *&apos;(065).
            REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
            WRITE: / lv_message.
        ENDTRY.

*     Delete folder
      ELSEIF download_operation-&gt;operation = lcl_operation=&gt;delete_folder.

        TRY.
            file_system-&gt;delete_folder( download_operation-&gt;full_path ).
          CATCH lcx_exception.
            log_entry_created = abap_true.
            lv_message = &apos;* Warning: Folder % has not been deleted *&apos;(057).
            REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
            WRITE: / lv_message.
        ENDTRY.

*     Download text file
      ELSEIF download_operation-&gt;operation = lcl_operation=&gt;download_file
             AND download_operation-&gt;object_type = lcl_operation=&gt;object_type_text_file.
        TRY.
*           Retrieve file from UI5 Repository
            TRY.
                DATA: file_content_x TYPE xstring.
                ui5_repository-&gt;api-&gt;get_file( EXPORTING iv_path          = download_operation-&gt;relative_path
                                                         iv_code_page     = download_parameters-code_page_java
                                               IMPORTING ev_file_content  = file_content_x
                                                        &quot;ev_mime_type     =
                                                        &quot;ev_last_modified =
                                                        &quot;ev_etag          =
                                             ).
              CATCH /ui5/cx_ui5_rep_dt INTO lv_ex_rep_dt.
                log_entry_created = abap_true.
                text = lv_ex_rep_dt-&gt;get_text( ).
                CONCATENATE &apos;* &apos; text &apos; *&apos; INTO lv_message RESPECTING BLANKS.
                WRITE: / lv_message.
                lv_message = &apos;* Warning: Text file % has not been downloaded *&apos;(058).
                REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
                WRITE: / lv_message.
            ENDTRY.
*           Store file in file system
            lcl_file_system=&gt;write_file( iv_file_content = file_content_x
                                         iv_file_is_binary = abap_false
                                         iv_code_page_abap = download_parameters-code_page_abap
                                         iv_file_path = download_operation-&gt;full_path ).
          CATCH lcx_exception.
            log_entry_created = abap_true.
            lv_message = &apos;* Warning: Text file % has not been downloaded *&apos;(058).
            REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
            WRITE: / lv_message.
        ENDTRY.

*     Download binary file
      ELSEIF download_operation-&gt;operation = lcl_operation=&gt;download_file
             AND download_operation-&gt;object_type = lcl_operation=&gt;object_type_binary_file.
        TRY.
*           Retrierve file from UI5 Repository
            TRY.
                ui5_repository-&gt;api-&gt;get_file( EXPORTING iv_path          = download_operation-&gt;relative_path
                                                         iv_code_page     = download_parameters-code_page_java
                                               IMPORTING ev_file_content  = file_content_x
                                                        &quot;ev_mime_type     =
                                                        &quot;ev_last_modified =
                                                        &quot;ev_etag          =
                                             ).
              CATCH /ui5/cx_ui5_rep_dt .
                log_entry_created = abap_true.
                lv_message = &apos;* Warning: Binary file % has not been downloaded *&apos;(059).
                REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
                WRITE: / lv_message.
            ENDTRY.
*           Store file in file system
            lcl_file_system=&gt;write_file( iv_file_content = file_content_x
                                         iv_file_is_binary = abap_true
                                         iv_file_path = download_operation-&gt;full_path ).
          CATCH lcx_exception.
            log_entry_created = abap_true.
            lv_message = &apos;* Warning: Binary file % has not been downloaded *&apos;(059).
            REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
            WRITE: / lv_message.
        ENDTRY.

      ENDIF.

    ENDLOOP.

*   Download done
    WRITE: / .
    WRITE: / &apos;* Download finished *&apos;(044).
    lv_last_message = &apos;* Download finished *&apos;(044). EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.

  ENDIF.
**************************************FIN APC DESCARGA AUTOMATICA
*   Done
    if log = &apos;X&apos;.
    SET SCREEN 0. &quot;APC
    else.
      leave to SCREEN 0.
      endif.



  ENDIF.

* Deletion requested *****
  IF delete EQ &apos;X&apos;.

*   Initialize
    sy-title = &apos;Delete SAPUI5 Application&apos;(042).

*   Message
    DATA: delete_repository TYPE string. delete_repository = &apos;Delete SAPUI5 Application&apos;(042).
    WRITE: AT / &apos;* &apos;, delete_repository , &apos;  &apos;, ui5_repository-&gt;name, &apos; *&apos; .

*   Get confirmation from user
    click_here = &apos;[  Click here to Delete  ]&apos;(018).
    WRITE: /.
    WRITE: /.
    WRITE: / click_here COLOR = 5 HOTSPOT.

*   Done
    SET SCREEN 0.

  ENDIF.
************************************************************************
AT LINE-SELECTION.

** Log is to be displayed if a log entry was created
**  DATA: log_entry_created TYPE abap_bool.
*  log_entry_created = abap_false.
*
** Upload *****
*  IF upload EQ &apos;X&apos;.
*
**   Create UI5 Repository if neccessary
*    IF ui5_repository-&gt;already_exists = abap_false.
*
**     Ask for description first
*      DATA: upload_parameters TYPE lcl_ui5_repository=&gt;upload_parameters.
*      TRY.
*          upload_parameters = ui5_repository-&gt;get_upload_parameters( ).
*        CATCH lcx_canceled.
*          lv_last_message = &apos;* Creation of UI5 repository has been canceled *&apos;(031). EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.
*          LEAVE LIST-PROCESSING.
*      ENDTRY.
*
**     Delegate ...
**      DATA: lv_ex_rep_dt TYPE REF TO /ui5/cx_ui5_rep_dt.
*      TRY.
*          ui5_repository-&gt;api =
*             /ui5/cl_ui5_rep_dt=&gt;/ui5/if_ui5_rep_dt~create_repository(
*                  iv_name = ui5_repository-&gt;name
*                  iv_description = upload_parameters-description
*                  iv_devclass = upload_parameters-package
*                  iv_transport_request = upload_parameters-transport_request
*                  iv_dialog_mode = &apos;X&apos; ).
*
*        CATCH /ui5/cx_ui5_rep_dt INTO lv_ex_rep_dt.
*
**         Standard message display
*          IF sy-msgid IS NOT INITIAL.
*            MESSAGE ID sy-msgid TYPE &apos;I&apos; NUMBER sy-msgno DISPLAY LIKE sy-msgty.
*          ENDIF.
*
**         Cleanup
*          IF ui5_repository-&gt;api IS NOT INITIAL. CLEAR ui5_repository-&gt;api. ENDIF.
*
**         If any: write error text on screen
**          DATA: text TYPE string.
*          text = lv_ex_rep_dt-&gt;get_text( ).
*          IF text IS NOT INITIAL.
*            CONCATENATE &apos;* &apos; text &apos; *&apos; INTO text RESPECTING BLANKS.
*            WRITE: / text . log_entry_created = abap_true.
*          ENDIF.
*
**         Indicate error on initial screen
*          lv_last_message = &apos;* SAPUI5 application has not been created (successfully) *&apos;(030).
*          EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.
*          WRITE: / &apos;* SAPUI5 application has not been created (successfully) *&apos;(030).
*
**         Return to initial screen or display log if created
*          IF log_entry_created = abap_true.
*            RETURN.
*          ELSE.
*            LEAVE LIST-PROCESSING.
*          ENDIF.
*
*      ENDTRY.
*    ELSE.
*
**     Ask for transport request and code page
*      TRY.
*          upload_parameters = ui5_repository-&gt;get_upload_parameters( iv_transport_request_only = abap_true ).
*        CATCH lcx_canceled.
*          lv_last_message = &apos;* Creation of UI5 repository has been canceled *&apos;(031). EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.
*          LEAVE LIST-PROCESSING.
*      ENDTRY.
*
*    ENDIF.
*
**   Confirm valid code page has been entered.
*    IF upload_parameters-code_page_abap IS INITIAL.
*      lv_last_message = text-032. &quot;&apos;* Upload canceled: External Code Page is invalid. You may use e.g. &apos;Cp1252&apos; *&apos;
*      EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.
*      LEAVE LIST-PROCESSING.
*    ENDIF.
*
**   Do the upload
*    ui5_repository-&gt;api-&gt;lock( ).
*
**   . Loop at each operation
**     and if requested ...
*    LOOP AT ui5_app-&gt;upload_operations INTO upload_operation.
*
**     Create folder
*      IF upload_operation-&gt;operation = lcl_operation=&gt;create_folder.
*        TRY.
*            ui5_repository-&gt;api-&gt;create_folder( iv_path = upload_operation-&gt;relative_path
*                                                iv_transport_request = upload_parameters-transport_request ).
*          CATCH /ui5/cx_ui5_rep_dt.
*            log_entry_created = abap_true.
*            lv_message = &apos;* Warning: Folder % has not been created *&apos;(054).
*            REPLACE &apos;%&apos; IN lv_message WITH upload_operation-&gt;relative_path.
*            WRITE: / lv_message.
*        ENDTRY.
*
**     Upload text or binary file
*      ELSEIF upload_operation-&gt;operation = lcl_operation=&gt;upload_file
*             AND (    upload_operation-&gt;object_type = lcl_operation=&gt;object_type_text_file
*                   OR upload_operation-&gt;object_type = lcl_operation=&gt;object_type_binary_file ).
*        TRY.
*
**           Read file from file system
*            DATA: file_content                   TYPE xstring,
*                  file_content_as_string         TYPE string,
*                  file_content_as_string_windows TYPE string.
*            DATA: upload_operation_is_binary TYPE abap_bool. upload_operation_is_binary = upload_operation-&gt;is_binary( ).
*            file_content = file_system-&gt;read_file( iv_file_path = upload_operation-&gt;full_path
*                                                   iv_file_is_binary = upload_operation_is_binary
*                                                   iv_code_page_abap = upload_parameters-code_page_abap ).
*            &quot;file_content = file_system-&gt;read_file( iv_file_path = upload_operation-&gt;full_path
*            &quot;                                       iv_file_is_binary = upload_operation-&gt;is_binary( )
*            &quot;                                       iv_code_page_abap = upload_parameters-code_page_abap ).
*
**           Adjust line endings for text files if requested
*            IF upload_operation-&gt;object_type = lcl_operation=&gt;object_type_text_file
*               AND adjlnnds = abap_true.
*              TRY.
*                  DATA: code_page_java TYPE string.
*                  code_page_java = upload_parameters-code_page_java.
*                  file_content_as_string =
*                      /ui5/cl_ui5_rep_utility=&gt;convert_xstring_2_string( iv_xstring = file_content
*                                                                         iv_code_page = code_page_java ).
*                  file_content_as_string_windows =
*                      lcl_function=&gt;adjust_line_endings( iv_string = file_content_as_string ).
*                  file_content =
*                      /ui5/cl_ui5_rep_utility=&gt;convert_string_2_xstring( iv_string = file_content_as_string_windows
*                                                                         iv_code_page = code_page_java ).
**                 Indicate conversion happened
*                  IF ( file_content_as_string &lt;&gt; file_content_as_string_windows ).
*                    lv_message = &apos;* Info: Line endings have been adjusted in file %. *&apos;(109).
*                    CONCATENATE &apos;* &apos; lv_message &apos; *&apos; INTO lv_message RESPECTING BLANKS.
*                    REPLACE &apos;%&apos; IN lv_message WITH upload_operation-&gt;relative_path.
*                    WRITE: / lv_message.
*                    log_entry_created = abap_true.
*                  ENDIF.
*                CATCH /ui5/cx_ui5_rep_dt.
*                CATCH cx_sy_conversion_error.
*                  lv_message = &apos;Warning: Unable to adjust line endings in text file %.&apos;(107).
*                  CONCATENATE &apos;* &apos; lv_message &apos; *&apos; INTO lv_message RESPECTING BLANKS.
*                  REPLACE &apos;%&apos; IN lv_message WITH upload_operation-&gt;relative_path.
*                  WRITE: / lv_message.
*                  log_entry_created = abap_true.
*              ENDTRY.
*            ENDIF.
*
**           Upload content into ui5 repository
*            DATA: mime_type TYPE string. mime_type = ui5_repository-&gt;get_mime_type_for_upload( upload_operation ).
*            upload_operation_is_binary = upload_operation-&gt;is_binary( ).
*            TRY.
*                CALL METHOD ui5_repository-&gt;api-&gt;put_file
*                  EXPORTING
*                    iv_path              = upload_operation-&gt;relative_path
*                    iv_transport_request = upload_parameters-transport_request
*                    iv_file_content      = file_content
*                    iv_mime_type         = mime_type     &quot;ui5_repository-&gt;get_mime_type_for_upload( upload_operation )
*                    iv_code_page         = upload_parameters-code_page_java
*                    iv_is_binary         = upload_operation_is_binary.   &quot;upload_operation-&gt;is_binary( ).
*              CATCH /ui5/cx_ui5_rep_dt INTO lv_ex_rep_dt.
*
**               Write error message for UI5 repository problems
*                text = lv_ex_rep_dt-&gt;get_text( ).
*                CONCATENATE &apos;* &apos; text &apos; *&apos; INTO lv_message RESPECTING BLANKS.
*                WRITE: / lv_message.
*                log_entry_created = abap_true.
*                RAISE EXCEPTION TYPE lcx_exception.
*
*            ENDTRY.
*
*          CATCH lcx_exception.
*
**           Build error message
*            IF upload_operation-&gt;is_binary( ) = abap_true.
*              lv_message = &apos;* Warning: Binary file % has not been uploaded *&apos;(064).
*            ELSEIF upload_operation-&gt;is_binary( ) = abap_false.
*              lv_message = &apos;* Warning: Text file % has not been uploaded *&apos;(055).
*            ENDIF.
*            REPLACE &apos;%&apos; IN lv_message WITH upload_operation-&gt;relative_path.
*
**           Write it.
*            WRITE: / lv_message.
*            log_entry_created = abap_true.
*
**APC
***           Add information about ABAP error or warning message if any
**            DATA: abap_message TYPE REF TO /ui5/cl_abap_message.
**            abap_message = /ui5/cl_abap_message=&gt;create_from_syst_variable( ).
**            IF abap_message IS NOT INITIAL and abap_message-&gt;is_error_or_warning( ) = abap_true.
**              IF abap_message-&gt;already_occurred( ) = abap_false.
**                abap_message-&gt;write_info( iv_shift_right_by = 2 ).
**              ELSE.
**                abap_message-&gt;write_info( iv_text_line_only = abap_true iv_shift_right_by = 2 ).
**              ENDIF.
**            ENDIF.
*
*        ENDTRY.
*
**     Delete folder in UI5 repository
*      ELSEIF upload_operation-&gt;operation = lcl_operation=&gt;delete_folder.
*        TRY.
*            ui5_repository-&gt;api-&gt;delete( iv_path = upload_operation-&gt;relative_path
*                                         iv_transport_request = upload_parameters-transport_request ).
*          CATCH /ui5/cx_ui5_rep_dt INTO lv_ex_rep_dt.
**           Write error message for UI5 repository problems
*            text = lv_ex_rep_dt-&gt;get_text( ).
*            CONCATENATE &apos;* &apos; text &apos; *&apos; INTO lv_message RESPECTING BLANKS.
*            WRITE: / lv_message.
*            log_entry_created = abap_true.
*
*        ENDTRY.
*
**     Delete file in UI5 repository
*      ELSEIF upload_operation-&gt;operation = lcl_operation=&gt;delete_file.
*        TRY.
*            ui5_repository-&gt;api-&gt;delete( iv_path = upload_operation-&gt;relative_path
*                                         iv_transport_request = upload_parameters-transport_request ).
*          CATCH /ui5/cx_ui5_rep_dt INTO lv_ex_rep_dt.
**           Write error message for UI5 repository problems
*            text = lv_ex_rep_dt-&gt;get_text( ).
*            CONCATENATE &apos;* &apos; text &apos; *&apos; INTO lv_message RESPECTING BLANKS.
*            WRITE: / lv_message.
*            log_entry_created = abap_true.
*
*        ENDTRY.
*
*      ENDIF.
*
*    ENDLOOP.
*    ui5_repository-&gt;api-&gt;unlock( ).
*
**   Upload done
*    WRITE: / .
*    WRITE: / &apos;* Upload finished *&apos;(045).
*    lv_last_message = &apos;* Upload finished and SAPUI5 application index updated *&apos;(043).
*    EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.
*
*
**   Recalculate application index and indicate log messages if any
*
**   ... Recalculate app index entry
*    DATA: lr_app_index           TYPE REF TO /ui5/cl_ui5_app_index.
*    DATA: lv_application         TYPE o2applname.
*    DATA: lt_app_index_messages  TYPE bapiret2_t.
*
*    lv_application = ui5rep.
*
*    lr_app_index = /ui5/cl_ui5_app_index=&gt;get_instance( ).
*
*    CALL METHOD lr_app_index-&gt;recalculate_app
*      EXPORTING
*        iv_application = lv_application
*      IMPORTING
*        et_messages    = lt_app_index_messages.
*
**   ... Indicatge messages is any
*    IF lt_app_index_messages IS NOT INITIAL.
*
*      WRITE:/ .
*      WRITE:/ .
*      WRITE:/ &apos;The following messages have been raised when the SAPUI5 application index was updated:&apos;(112).
*      WRITE:/ .
*
*      DATA: app_index_message TYPE bapiret2.
*      LOOP AT lt_app_index_messages INTO app_index_message.
*        WRITE:/ &apos;* &apos;, app_index_message-message.
*      ENDLOOP.
*      log_entry_created = abap_true.
*
*      WRITE:/ .
*      WRITE:/ &apos;For details see application log (transaction SLG1) in client 000 for object /UI5/APPIDX.&apos;(113).
*
*      lv_last_messag2 = &apos;* Update of SAPUI5 application index raised messages *&apos;(111).
*      EXPORT msg = lv_last_messag2 TO MEMORY ID &apos;last_messag2&apos;.
*
*    ENDIF.
*
*  ENDIF.


* Download *****
  IF download EQ &apos;X&apos;.

*  Ask for code page
    TRY.
*        DATA: download_parameters TYPE lcl_ui5_repository=&gt;download_parameters.
        download_parameters = ui5_repository-&gt;get_download_parameters( ).
      CATCH lcx_canceled.
        lv_last_message = &apos;* Download of SAPUI5 application has been canceled *&apos;(034). EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.
        LEAVE LIST-PROCESSING.
    ENDTRY.

*   Confirm valid code page has been entered.
    IF download_parameters-code_page_abap IS INITIAL.
      lv_last_message = text-033. &quot;&apos;* Download canceled: External Code Page is invalid. You may use e.g. &apos;Cp1252&apos; *&apos;
      EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.
      LEAVE LIST-PROCESSING.
    ENDIF.

*   . Loop at each operation
*     and if requested ...
    LOOP AT ui5_repository-&gt;download_operations INTO download_operation.

*     Create folder
      IF download_operation-&gt;operation = lcl_operation=&gt;create_folder.

        TRY.
            file_system-&gt;create_folder( download_operation-&gt;full_path ).
          CATCH lcx_exception.
            log_entry_created = abap_true.
            lv_message = &apos;* Warning: Folder % has not been created *&apos;(054).
            REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
            WRITE: AT / lv_message.
        ENDTRY.

*     Delete file
      ELSEIF download_operation-&gt;operation = lcl_operation=&gt;delete_file.

        TRY.
            file_system-&gt;delete_file( download_operation-&gt;full_path ).
          CATCH lcx_exception.
            log_entry_created = abap_true.
            lv_message = &apos;* Warning: File % has not been deleted *&apos;(065).
            REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
            WRITE: / lv_message.
        ENDTRY.

*     Delete folder
      ELSEIF download_operation-&gt;operation = lcl_operation=&gt;delete_folder.

        TRY.
            file_system-&gt;delete_folder( download_operation-&gt;full_path ).
          CATCH lcx_exception.
            log_entry_created = abap_true.
            lv_message = &apos;* Warning: Folder % has not been deleted *&apos;(057).
            REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
            WRITE: / lv_message.
        ENDTRY.

*     Download text file
      ELSEIF download_operation-&gt;operation = lcl_operation=&gt;download_file
             AND download_operation-&gt;object_type = lcl_operation=&gt;object_type_text_file.
        TRY.
*           Retrieve file from UI5 Repository
            TRY.
*                DATA: file_content_x TYPE xstring.
                ui5_repository-&gt;api-&gt;get_file( EXPORTING iv_path          = download_operation-&gt;relative_path
                                                         iv_code_page     = download_parameters-code_page_java
                                               IMPORTING ev_file_content  = file_content_x
                                                        &quot;ev_mime_type     =
                                                        &quot;ev_last_modified =
                                                        &quot;ev_etag          =
                                             ).
              CATCH /ui5/cx_ui5_rep_dt INTO lv_ex_rep_dt.
                log_entry_created = abap_true.
                text = lv_ex_rep_dt-&gt;get_text( ).
                CONCATENATE &apos;* &apos; text &apos; *&apos; INTO lv_message RESPECTING BLANKS.
                WRITE: / lv_message.
                lv_message = &apos;* Warning: Text file % has not been downloaded *&apos;(058).
                REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
                WRITE: / lv_message.
            ENDTRY.
*           Store file in file system
            lcl_file_system=&gt;write_file( iv_file_content = file_content_x
                                         iv_file_is_binary = abap_false
                                         iv_code_page_abap = download_parameters-code_page_abap
                                         iv_file_path = download_operation-&gt;full_path ).
          CATCH lcx_exception.
            log_entry_created = abap_true.
            lv_message = &apos;* Warning: Text file % has not been downloaded *&apos;(058).
            REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
            WRITE: / lv_message.
        ENDTRY.

*     Download binary file
      ELSEIF download_operation-&gt;operation = lcl_operation=&gt;download_file
             AND download_operation-&gt;object_type = lcl_operation=&gt;object_type_binary_file.
        TRY.
*           Retrierve file from UI5 Repository
            TRY.
                ui5_repository-&gt;api-&gt;get_file( EXPORTING iv_path          = download_operation-&gt;relative_path
                                                         iv_code_page     = download_parameters-code_page_java
                                               IMPORTING ev_file_content  = file_content_x
                                                        &quot;ev_mime_type     =
                                                        &quot;ev_last_modified =
                                                        &quot;ev_etag          =
                                             ).
              CATCH /ui5/cx_ui5_rep_dt .
                log_entry_created = abap_true.
                lv_message = &apos;* Warning: Binary file % has not been downloaded *&apos;(059).
                REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
                WRITE: / lv_message.
            ENDTRY.
*           Store file in file system
            lcl_file_system=&gt;write_file( iv_file_content = file_content_x
                                         iv_file_is_binary = abap_true
                                         iv_file_path = download_operation-&gt;full_path ).
          CATCH lcx_exception.
            log_entry_created = abap_true.
            lv_message = &apos;* Warning: Binary file % has not been downloaded *&apos;(059).
            REPLACE &apos;%&apos; IN lv_message WITH download_operation-&gt;full_path.
            WRITE: / lv_message.
        ENDTRY.

      ENDIF.

    ENDLOOP.

*   Download done
    WRITE: / .
    WRITE: / &apos;* Download finished *&apos;(044).
    lv_last_message = &apos;* Download finished *&apos;(044). EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.

  ENDIF.


* Delete Repository *****
  IF delete EQ &apos;X&apos;.

*   Error message if repository does not exist
    IF ui5_repository-&gt;already_exists = abap_false.
      lv_message = &apos;* SAPUI5 application does not exist. Deletion canceled ... *&apos;(052). WRITE: / lv_message.
      lv_last_message = lv_message. EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.
      LEAVE LIST-PROCESSING.
    ENDIF.

*   Delete
    TRY.
        /ui5/cl_ui5_rep_dt=&gt;/ui5/if_ui5_rep_dt~delete_repository(
                                                iv_name = ui5_repository_name
                                                iv_dialog_mode = &apos;X&apos; ).
      CATCH /ui5/cx_ui5_rep_dt INTO lv_ex_rep_dt.

*       Standard message display
        IF sy-msgid IS NOT INITIAL.
          MESSAGE ID sy-msgid TYPE &apos;I&apos; NUMBER sy-msgno DISPLAY LIKE sy-msgty.
        ENDIF.

*       If any: write error text on screen
        text = lv_ex_rep_dt-&gt;get_text( ).
        IF text IS NOT INITIAL.
          CONCATENATE &apos;* &apos; text &apos; *&apos; INTO text RESPECTING BLANKS.
          WRITE: / text . log_entry_created = abap_true.
        ENDIF.

*       Indicate error on initial screen
        lv_last_message = &apos;* Unable to delete SAPUI5 Repository (completely). Deletion canceled ... *&apos;(053).
        EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.

*       Return to initial screen or display log if created
        IF log_entry_created = abap_true.
          RETURN.
        ELSE.
          LEAVE LIST-PROCESSING.
        ENDIF.

    ENDTRY.

*   Deletion done
    lv_last_message = &apos;* SAPUI5 Repository deleted *&apos;(047). EXPORT msg = lv_last_message TO MEMORY ID &apos;last_message&apos;.

  ENDIF.

* Display log if needed or return directly to selection screen
  IF log_entry_created = abap_true.
    RETURN.
  ELSE.
    LEAVE LIST-PROCESSING.
  ENDIF.

************************************************************************
* Snippets
************************************************************************
  DO 1 TIMES.

*    data: exists type abap_bool.
*    exists = file_system-&gt;directory_exists( &apos;c:\mw\temp&apos; ).

*    lv_message = &apos;* ... *&apos;. write: / lv_message.
*    lv_last_message = lv_message. export msg = lv_last_message to memory id &apos;last_message&apos;.

**
*    data: go type c.
*    call function &apos;POPUP_TO_CONFIRM&apos; &quot;Standard Dialog Popup
*      exporting
*        titlebar = &apos;Is this ok and ...&apos;                       &quot; Title of dialog box
*        text_question = &apos;Would you like to start the upload?&apos; &quot; Question text in dialog box
*        text_button_1 = &apos;Go&apos;(011)                             &quot; Text on the first pushbutton
**       icon_button_1 = SPACE                                 &quot; icon-name     Icon on first pushbutton
**       text_button_2 = &apos;No&apos;(002)                             &quot; Text on the second pushbutton
**       icon_button_2 = SPACE                                 &quot; icon-name     Icon on second pushbutton
*        default_button = &apos;1&apos;                                  &quot; Cursor position
*        display_cancel_button = &apos;X&apos;                           &quot; Button for displaying cancel pushbutton
**       userdefined_f1_help = SPACE                           &quot; dokhl-object  User-Defined F1 Help
**       start_column = 25                                     &quot; sy-cucol   Column in which the POPUP begins
**       start_row = 6                                         &quot; sy-curow   Line in which the POPUP begins
**       popup_type =                                          &quot; icon-name  Icon type
**       iv_quickinfo_button_1 = SPACE                         &quot; text132    Quick Info on First Pushbutton
**       iv_quickinfo_button_2 = SPACE                         &quot; text132    Quick Info on Second Pushbutton
*    importing
*      answer = go                                             &quot; Return values: &apos;1&apos;, &apos;2&apos;, &apos;A&apos;
**   tables
**       parameter =                 &quot; spar          Text transfer table for parameter in text
*    exceptions
*      text_not_found = 1          &quot;               Diagnosis text not found
*    .

  ENDDO.
************************************************************************
*&amp;---------------------------------------------------------------------*
*&amp;       Class ABAP_UNIT_TEST
*&amp;---------------------------------------------------------------------*
*        Text
*----------------------------------------------------------------------*
*CLASS abap_unit_test DEFINITION FOR TESTING.
*  PUBLIC SECTION.
*    DATA l_code_page TYPE REF TO lcl_external_code_page.
*    data l_file_system type ref to lcl_file_system.
*    data l_function type ref to lcl_function.
*    data lcl_operation type ref to lcl_operation.
*    data l_ui5_local_app type ref to lcl_ui5_local_app.
*    data l_repository type ref to lcl_ui5_repository.
*    METHODS:
*      constructor,
*      run.
*ENDCLASS.               &quot;ABAP_UNIT_TEST
*
**----------------------------------------------------------------------*
**       CLASS abap_unit_test IMPLEMENTATION
**----------------------------------------------------------------------*
**
**----------------------------------------------------------------------*
*CLASS abap_unit_test IMPLEMENTATION.
*
*  METHOD constructor.
*    create object l_code_page.
**    create object l_file_system.
*    create object l_function.
*    create object lcl_operation.
**    create object l_ui5_local_app.
**    create object l_repository.
*  ENDMETHOD.                    &quot;constructor
*  METHOD run.
*  ENDMETHOD.                    &quot;run
*ENDCLASS.                    &quot;abap_unit_test IMPLEMENTATION</source>
</PROG>
