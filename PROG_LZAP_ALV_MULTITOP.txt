FUNCTION-POOL zap_alv_multi.                "MESSAGE-ID ..

INCLUDE lzap_alv_multicld.

DATA: go_alv          TYPE REF TO zcl_ap_alv_multi,
      gv_popup        TYPE abap_bool,
      gv_title        TYPE lvc_title,
      gv_mode         TYPE char1,
      gt_events       TYPE slis_t_event,
      gv_start_row    TYPE i,
      gv_start_column TYPE i,
      gv_end_row      TYPE i,
      gv_end_column   TYPE i.

*DATA: go_current_falv TYPE REF TO zcl_falv.
DATA: go_current_falv TYPE REF TO zcl_ap_alv_grid.

DATA gc_program_name TYPE bus_screen-program_name VALUE 'SAPLZAP_ALV_MULTI'.
DATA gs_dynpro_id   TYPE bus_screen-area.

CONTROLS gs_screen_9000_tabstrip TYPE TABSTRIP.


DATA go_screen_9000 TYPE REF TO lcl_screen_9000.
DATA lo_handler       TYPE REF TO lcl_handler.

DATA go_screen_9010 TYPE REF TO lcl_screen_9010.

DATA: BEGIN OF gs_screen_9000,
        tabstrip TYPE bus_screen_tabstrip,
      END OF gs_screen_9000.

CONSTANTS: gc_dynnr_9000 TYPE sy-dynnr VALUE '9000'.
CONSTANTS: gc_dynnr_9001 TYPE sy-dynnr VALUE '9001'.
CONSTANTS: gc_dynnr_9010 TYPE sy-dynnr VALUE '9010'.

CONSTANTS: gc_cont_name_9001 TYPE string VALUE 'C9001'.
CONSTANTS: gc_cont_name_9010 TYPE string VALUE 'C9010'.



TABLES sscrfields .

DATA: buttons    TYPE zcl_ap_alv=>t_buttons,
      buttons_v1 TYPE zcl_ap_alv=>t_buttons,
      buttons_v2 TYPE zcl_ap_alv=>t_buttons.

FORM set_boton USING pe_buttons.
  buttons = pe_buttons.
ENDFORM.

FORM clear_botones.
  CLEAR buttons.
ENDFORM.


FORM get_boton CHANGING ps_buttons.
  ps_buttons = buttons.
ENDFORM.

FORM guardar_botones_v1.
  buttons_v1 = buttons.
ENDFORM.

FORM restaurar_botones_v1.
  buttons = buttons_v1.
ENDFORM.


FORM guardar_botones_v2.
  buttons_v2 = buttons.
ENDFORM.

FORM restaurar_botones_v2.
  buttons = buttons_v2.
ENDFORM.


FORM set_sscrfields USING pe_sscrfields.
  sscrfields = pe_sscrfields.
ENDFORM.

FORM add_button USING button text icon qinfo.
  FIELD-SYMBOLS <bt> TYPE any.

  DATA: but     TYPE smp_dyntxt.

  CHECK button IS NOT INITIAL.

  IF text IS INITIAL AND icon IS INITIAL.
    RETURN.
  ENDIF.

  but-icon_id = icon.
  but-icon_text = text.
  but-text      = text.
  but-quickinfo = qinfo.

  ASSIGN COMPONENT button OF STRUCTURE buttons TO <bt>.
  IF <bt> IS ASSIGNED.
    <bt> = but.
  ENDIF.

ENDFORM.

FORM remove_button USING button.
  FIELD-SYMBOLS <bt> TYPE any.

  ASSIGN COMPONENT button OF STRUCTURE buttons TO <bt>.
  IF <bt> IS ASSIGNED.
    CLEAR <bt>.
  ENDIF.

ENDFORM.


FORM get_button USING button CHANGING but TYPE smp_dyntxt.
  FIELD-SYMBOLS <bt> TYPE any.

  ASSIGN COMPONENT button OF STRUCTURE buttons TO <bt>.
  IF <bt> IS ASSIGNED.
    but = <bt>.
  ENDIF.

ENDFORM.
